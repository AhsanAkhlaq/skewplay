# SkewPlay Project Overview

**SkewPlay** is an interactive web platform designed for experimenting with and resolving class imbalance in machine learning datasets. It allows users to upload datasets, apply various preprocessing and balancing techniques (like SMOTE), train models, and visualize results.

---

## 1. Technology Stack

### Frontend (Client-Side)
- **Framework**: [Vue.js 3](https://vuejs.org/) (Composition API)
- **Build Tool**: [Vite](https://vitejs.dev/)
- **UI Component Library**: [Vuetify 3](https://vuetifyjs.com/) (Material Design)
- **State Management**: [Pinia](https://pinia.vuejs.org/)
- **Routing**: [Vue Router 4](https://router.vuejs.org/)
- **Authentication & Metadata**: [Firebase](https://firebase.google.com/) (Auth, Firestore)
- **HTTP Client**: [Axios](https://axios-http.com/)
- **Visualization**: `chart.js` / `vue-chartjs`

### Backend (Server-Side)
- **Runtime**: Python 3.x
- **Framework**: [FastAPI](https://fastapi.tiangolo.com/)
- **Server**: Uvicorn
- **Data Processing**: Pandas, NumPy
- **Machine Learning**: Scikit-Learn (RandomForest, SMOTE via Imbalanced-Learn implied)
- **Plotting**: Matplotlib, Seaborn (for generating static asset images)

### Infrastructure & Storage
- **Local Storage**: Filesystem-based storage for large CSVs and artifacts (in [storage/](file:///d:/University%20Workspace/FinalYearProject/skewplay2/SkewPlay/backend/utils.py#3-24) directory).
- **Cloud Database**: Firebase Firestore for user profiles and metadata pointers.

---

## 2. Project Structure

```
SkewPlay/
├── backend/                  # Python API Server
│   ├── main.py               # Entry point: API routes, ML logic, File handling
│   ├── utils.py              # Utility functions (e.g., storage usage calc)
│   └── json_utils.py         # JSON serialization helpers (NaN handling)
│
├── src/                      # Vue.js Frontend Source
│   ├── components/           # (Currently minimal, mostly Views used)
│   ├── layouts/              
│   │   └── AppShell.vue      # Main wrapper: Sidebar, Header, Auth checks
│   ├── lib/
│   │   └── firebase.ts       # Firebase initialization
│   ├── plugins/
│   │   └── vuetify.ts        # Theme configuration (Light/Dark mode)
│   ├── router/
│   │   └── index.ts          # Route definitions & Navigation Guards
│   ├── services/
│   │   └── api.ts            # Axios instance connecting to Backend API
│   ├── stores/               # Pinia State Management
│   │   ├── auth.ts           # User session, Profile management
│   │   ├── datasets.ts       # Dataset metadata, Upload/Delete actions
│   │   ├── workflows.ts      # Experiment configurations, Running jobs
│   │   └── ui.ts             # Global UI state (Snackbars, Dialogs)
│   └── views/                # Page Views
│       ├── DashboardView.vue # User dashboard (Stats, Quick actions)
│       ├── LandingView.vue   # Public landing page
│       ├── auth/             # Login/Register pages
│       ├── datasets/         # Dataset Lab (Upload, EDA, Preview)
│       ├── workflows/        # Experimentation Interface
│       │   ├── WorkflowsView.vue  # List of experiments
│       │   ├── WorkflowEditor.vue # 5-Step creation wizard
│       │   └── steps/        # Step components (Dataset, Preprocessing, etc.)
│       └── profile/          # User settings & Tier management
│
├── storage/                  # Local Data Storage (Ignored by Git typically)
│   ├── samples/              # Public sample datasets
│   └── users/                # User-specific data
│       └── {userId}/
│           ├── datasets/     # Uploaded CSVs
│           └── artifacts/    # Generated models/plots
│
├── .env                      # Environment variables (API URL, Firebase Config)
├── index.html                # App entry point
├── package.json              # Frontend dependencies
└── vite.config.ts            # Vite configuration
```

---

## 3. Key Components & Workflows

### A. Authentication & User Profile
- **Logic**: Managed by [src/stores/auth.ts](file:///d:/University%20Workspace/FinalYearProject/skewplay2/SkewPlay/src/stores/auth.ts) and Firebase Auth.
- **Data**: User profiles (Tier, Usage Stats) are stored in Firestore (`users` collection).
- **Flow**: Login -> Firebase Auth -> Fetch Firestore Profile -> App Access.

### B. Dataset Management ("Dataset Lab")
- **Upload**: Files are sent to [backend/main.py](file:///d:/University%20Workspace/FinalYearProject/skewplay2/SkewPlay/backend/main.py) (`/upload`).
- **Storage**: Saved locally in `storage/users/{uid}/datasets`.
- **Analysis**: Backend uses Pandas to detect:
    - Row/Column counts.
    - Column types.
    - Missing values (Null detection).
    - Class imbalance ratios.
- **EDA**: [DatasetsView.vue](file:///d:/University%20Workspace/FinalYearProject/skewplay2/SkewPlay/src/views/datasets/DatasetsView.vue) requests specific analysis (Univariate, Bivariate) which the backend generates on-demand.

### C. Workflow Engine (The core "SkewPlay" feature)
- **Concept**: A "Workflow" is an experiment pipeline.
- **Steps**:
    1.  **Dataset**: Select source and Target Variable.
    2.  **Preprocessing**: Handling missing values, Scaling (MinMax/Standard), Encoding.
    3.  **Imbalance**: Choose technique (None, SMOTE, RandomOverSampler, etc.).
    4.  **Model**: Select Algorithm (RandomForest, SVM, etc.) and Hyperparameters.
    5.  **Results**: View Metrics (Accuracy, F1, Confusion Matrix).
- **Execution**: The [WorkflowEditor.vue](file:///d:/University%20Workspace/FinalYearProject/skewplay2/SkewPlay/src/views/workflows/WorkflowEditor.vue) collects configuration into a JSON object.
- **Run**: Sent to `/run` endpoint in backend. The backend constructs a Scikit-Learn Pipeline, fits the model, and returns metrics + confusion matrix image.

---

## 4. API & Data Flow

1.  **Client Request**: Frontend (via [services/api.ts](file:///d:/University%20Workspace/FinalYearProject/skewplay2/SkewPlay/src/services/api.ts)) sends multipart/form-data (for files) or JSON (for config) to `http://localhost:8000`.
2.  **FastAPI Handling**: [backend/main.py](file:///d:/University%20Workspace/FinalYearProject/skewplay2/SkewPlay/backend/main.py) receives the request.
3.  **Processing**:
    -   **Pandas** reads the CSV.
    -   **Preprocessing** aligns data.
    -   **Imbalanced-Learn** applies sampling strategies.
    -   **Scikit-Learn** trains the classifier.
4.  **Response**: JSON data (metrics) or Static Files (images/CSVs) served from `/storage` mount.

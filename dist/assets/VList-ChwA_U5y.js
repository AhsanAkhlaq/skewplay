import{aj as vt,ak as ft,al as fe,am as q,an as me,ao as ge,ap as mt,u as ye,aq as gt,ar as yt,as as ht,at as St,au as he,av as bt,aw as pt,ax as wt,ay as kt,az as Ct,H as O,f as At,s as h,$ as It,ab as X,ah as J,a8 as Pe,aA as I,p as M,q as se,J as b,P as Ve,aB as Pt,aC as ie,aD as Le,a2 as K,O as Be,r as L,n as E,v as U,a as S,aE as Vt,aF as Oe,aG as Lt,b as B,B as Q,C as W,D as G,I as D,E as Te,aH as Bt,y as H,L as De,aI as R,F as Se,t as be,K as Ot,ae as Tt,aJ as pe,aK as N,x as Dt}from"./index-CIFTxPdQ.js";import{n as re,M as Mt,e as xt,m as _,w as Et,R as we,x as Ft,f as Me,y as Nt,z as xe,p as Ee,g as Fe,h as Ne,A as Re,B as Rt,i as je,j as Ue,q as Ge,C as _e,k as $e,D as jt,c as ke,d as Ce,E as Ut,u as Gt}from"./VContainer-DLDiluWH.js";import{V as _t}from"./VDivider-mB0BFwfR.js";function $t(e,n){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{leading:!0,trailing:!0},t=0,s=0,a=!1,i=0;function r(){clearTimeout(t),a=!1,i=0}const u=function(){for(var m=arguments.length,v=new Array(m),f=0;f<m;f++)v[f]=arguments[f];clearTimeout(t);const y=Date.now();i||(i=y);const w=y-Math.max(i,s);function p(){s=Date.now(),t=setTimeout(r,n),e(...v)}a?w>=n?p():l.trailing&&(t=setTimeout(p,n-w)):(a=!0,l.leading&&p())};return u.clear=r,u.immediate=e,u}const Sa=vt("datasets",{state:()=>({datasets:[],isLoading:!1,error:null}),actions:{async fetchDatasets(){const e=ye();if(e.user){this.isLoading=!0;try{const n=wt(he(q,"datasets"),kt("userId","==",e.user.uid)),l=await Ct(n);this.datasets=l.docs.map(t=>{const s=t.data();return{id:t.id,...s,name:s.fileName}})}catch(n){console.error("Fetch Error:",n),this.error="Failed to load datasets"}finally{this.isLoading=!1}}},async uploadDataset(e){const n=ye();if(!n.user)throw this.error="You must be logged in.",new Error(this.error);const l=n.profile?.usageStats?.storageUsed||0,t=e.size/(1024*1024*1024),s=n.profile?.tier==="Basic"?1:10;if(l+t>s)throw this.error=`Storage limit exceeded (${s}GB). Upgrade to upload more.`,new Error(this.error);this.isLoading=!0,this.error=null;try{const a=`users/${n.user.uid}/${Date.now()}_${e.name}`,i=me(ge,a),r=await gt(i,e),u=await yt(r.ref),m=this.runMockAnalysis(e.name),v={userId:n.user.uid,fileName:e.name,storagePath:u,type:m.type,imbalanceRatios:m.imbalanceRatios,anomalies:m.anomalies,summaryViz:"https://via.placeholder.com/400x200.png?text=Distribution+Chart",createdAt:ht()},f=await St(he(q,"datasets"),v);try{await bt(fe(q,"users",n.user.uid),{"usageStats.storageUsed":pt(t)}),n.profile&&n.profile.usageStats&&(n.profile.usageStats.storageUsed+=t)}catch(y){console.warn("Quota update failed",y)}this.datasets.push({id:f.id,...v,name:e.name})}catch(a){throw this.error=a.message||"Upload failed",a}finally{this.isLoading=!1}},runMockAnalysis(e){const n=e.toLowerCase().includes("multi");return{type:n?"multiclass":"binary",imbalanceRatios:n?{"Class A":.1,"Class B":.2,"Class C":.7}:{Minority:.05,Majority:.95},anomalies:["Row 42: Null value"]}},async deleteDataset(e,n){try{await ft(fe(q,"datasets",e));try{const l=me(ge,n);await mt(l)}catch{console.warn("Storage file missing")}this.datasets=this.datasets.filter(l=>l.id!==e)}catch{this.error="Failed to delete dataset"}},async updateDataset(e,n){console.log("Update dataset not implemented in MVP",e,n)},async createDataset(e){console.log("Manual create not implemented",e)}}});function zt(){const e=O(!1);return At(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:h(()=>e.value?void 0:{transition:"none !important"}),isBooted:It(e)}}const oe=Symbol.for("vuetify:list");function ze(){let{filterable:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filterable:!1};const n=X(oe,{filterable:!1,hasPrepend:O(!1),updateHasPrepend:()=>null}),l={filterable:n.filterable||e,hasPrepend:O(!1),updateHasPrepend:t=>{t&&(l.hasPrepend.value=t)}};return J(oe,l),n}function qe(){return X(oe,null)}const ue=e=>{const n={activate:l=>{let{id:t,value:s,activated:a}=l;return t=I(t),e&&!s&&a.size===1&&a.has(t)||(s?a.add(t):a.delete(t)),a},in:(l,t,s)=>{let a=new Set;if(l!=null)for(const i of Pe(l))a=n.activate({id:i,value:!0,activated:new Set(a),children:t,parents:s});return a},out:l=>Array.from(l)};return n},He=e=>{const n=ue(e);return{activate:t=>{let{activated:s,id:a,...i}=t;a=I(a);const r=s.has(a)?new Set([a]):new Set;return n.activate({...i,id:a,activated:r})},in:(t,s,a)=>{let i=new Set;if(t!=null){const r=Pe(t);r.length&&(i=n.in(r.slice(0,1),s,a))}return i},out:(t,s,a)=>n.out(t,s,a)}},qt=e=>{const n=ue(e);return{activate:t=>{let{id:s,activated:a,children:i,...r}=t;return s=I(s),i.has(s)?a:n.activate({id:s,activated:a,children:i,...r})},in:n.in,out:n.out}},Ht=e=>{const n=He(e);return{activate:t=>{let{id:s,activated:a,children:i,...r}=t;return s=I(s),i.has(s)?a:n.activate({id:s,activated:a,children:i,...r})},in:n.in,out:n.out}},Kt={open:e=>{let{id:n,value:l,opened:t,parents:s}=e;if(l){const a=new Set;a.add(n);let i=s.get(n);for(;i!=null;)a.add(i),i=s.get(i);return a}else return t.delete(n),t},select:()=>null},Ke={open:e=>{let{id:n,value:l,opened:t,parents:s}=e;if(l){let a=s.get(n);for(t.add(n);a!=null&&a!==n;)t.add(a),a=s.get(a);return t}else t.delete(n);return t},select:()=>null},Xt={open:Ke.open,select:e=>{let{id:n,value:l,opened:t,parents:s}=e;if(!l)return t;const a=[];let i=s.get(n);for(;i!=null;)a.push(i),i=s.get(i);return new Set(a)}},ce=e=>{const n={select:l=>{let{id:t,value:s,selected:a}=l;if(t=I(t),e&&!s){const i=Array.from(a.entries()).reduce((r,u)=>{let[m,v]=u;return v==="on"&&r.push(m),r},[]);if(i.length===1&&i[0]===t)return a}return a.set(t,s?"on":"off"),a},in:(l,t,s,a)=>{const i=new Map;for(const r of l||[])n.select({id:r,value:!0,selected:i,children:t,parents:s,disabled:a});return i},out:l=>{const t=[];for(const[s,a]of l.entries())a==="on"&&t.push(s);return t}};return n},Xe=e=>{const n=ce(e);return{select:t=>{let{selected:s,id:a,...i}=t;a=I(a);const r=s.has(a)?new Map([[a,s.get(a)]]):new Map;return n.select({...i,id:a,selected:r})},in:(t,s,a,i)=>t?.length?n.in(t.slice(0,1),s,a,i):new Map,out:(t,s,a)=>n.out(t,s,a)}},Jt=e=>{const n=ce(e);return{select:t=>{let{id:s,selected:a,children:i,...r}=t;return s=I(s),i.has(s)?a:n.select({id:s,selected:a,children:i,...r})},in:n.in,out:n.out}},Qt=e=>{const n=Xe(e);return{select:t=>{let{id:s,selected:a,children:i,...r}=t;return s=I(s),i.has(s)?a:n.select({id:s,selected:a,children:i,...r})},in:n.in,out:n.out}},Je=e=>{const n={select:l=>{let{id:t,value:s,selected:a,children:i,parents:r,disabled:u}=l;t=I(t);const m=new Map(a),v=[t];for(;v.length;){const y=v.shift();u.has(y)||a.set(I(y),s?"on":"off"),i.has(y)&&v.push(...i.get(y))}let f=I(r.get(t));for(;f;){let y=!0,w=!0;for(const p of i.get(f)){const A=I(p);if(!u.has(A)&&(a.get(A)!=="on"&&(y=!1),a.has(A)&&a.get(A)!=="off"&&(w=!1),!y&&!w))break}a.set(f,y?"on":w?"off":"indeterminate"),f=I(r.get(f))}return e&&!s&&Array.from(a.entries()).reduce((w,p)=>{let[A,o]=p;return o==="on"&&w.push(A),w},[]).length===0?m:a},in:(l,t,s,a)=>{let i=new Map;for(const r of l||[])i=n.select({id:r,value:!0,selected:i,children:t,parents:s,disabled:a});return i},out:(l,t)=>{const s=[];for(const[a,i]of l.entries())i==="on"&&!t.has(a)&&s.push(a);return s}};return n},Wt=e=>{const n=Je(e);return{select:n.select,in:n.in,out:(t,s,a)=>{const i=[];for(const[r,u]of t.entries())if(u==="on"){if(a.has(r)){const m=a.get(r);if(t.get(m)==="on")continue}i.push(r)}return i}}},j=Symbol.for("vuetify:nested"),Qe={id:O(),root:{register:()=>null,unregister:()=>null,children:L(new Map),parents:L(new Map),disabled:L(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:L(!1),selectable:L(!1),opened:L(new Set),activated:L(new Set),selected:L(new Map),selectedValues:L([]),getPath:()=>[]}},Yt=M({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),Zt=e=>{let n=!1;const l=O(new Map),t=O(new Map),s=O(new Set),a=se(e,"opened",e.opened,o=>new Set(Array.isArray(o)?o.map(d=>I(d)):o),o=>[...o.values()]),i=b(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return qt(e.mandatory);case"single-leaf":return Ht(e.mandatory);case"independent":return ue(e.mandatory);case"single-independent":default:return He(e.mandatory)}}),r=b(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return Qt(e.mandatory);case"leaf":return Jt(e.mandatory);case"independent":return ce(e.mandatory);case"single-independent":return Xe(e.mandatory);case"trunk":return Wt(e.mandatory);case"classic":default:return Je(e.mandatory)}}),u=b(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return Xt;case"single":return Kt;case"multiple":default:return Ke}}),m=se(e,"activated",e.activated,o=>i.value.in(o,l.value,t.value),o=>i.value.out(o,l.value,t.value)),v=se(e,"selected",e.selected,o=>r.value.in(o,l.value,t.value,s.value),o=>r.value.out(o,l.value,t.value));Ve(()=>{n=!0});function f(o){const d=[];let c=I(o);for(;c!==void 0;)d.unshift(c),c=t.value.get(c);return d}const y=Pt("nested"),w=new Set,p=$t(()=>{K(()=>{l.value=new Map(l.value),t.value=new Map(t.value)})},100),A={id:O(),root:{opened:a,activatable:h(()=>e.activatable),selectable:h(()=>e.selectable),activated:m,selected:v,selectedValues:b(()=>{const o=[];for(const[d,c]of v.value.entries())c==="on"&&o.push(d);return o}),register:(o,d,c,g)=>{if(w.has(o)){f(o).map(String).join(" -> "),f(d).concat(o).map(String).join(" -> ");return}else w.add(o);d&&o!==d&&t.value.set(o,d),c&&s.value.add(o),g&&l.value.set(o,[]),d!=null&&l.value.set(d,[...l.value.get(d)||[],o]),p()},unregister:o=>{if(n)return;w.delete(o),l.value.delete(o),s.value.delete(o);const d=t.value.get(o);if(d){const c=l.value.get(d)??[];l.value.set(d,c.filter(g=>g!==o))}t.value.delete(o),p()},open:(o,d,c)=>{y.emit("click:open",{id:o,value:d,path:f(o),event:c});const g=u.value.open({id:o,value:d,opened:new Set(a.value),children:l.value,parents:t.value,event:c});g&&(a.value=g)},openOnSelect:(o,d,c)=>{const g=u.value.select({id:o,value:d,selected:new Map(v.value),opened:new Set(a.value),children:l.value,parents:t.value,event:c});g&&(a.value=g)},select:(o,d,c)=>{y.emit("click:select",{id:o,value:d,path:f(o),event:c});const g=r.value.select({id:o,value:d,selected:new Map(v.value),children:l.value,parents:t.value,disabled:s.value,event:c});g&&(v.value=g),A.root.openOnSelect(o,d,c)},activate:(o,d,c)=>{if(!e.activatable)return A.root.select(o,!0,c);y.emit("click:activate",{id:o,value:d,path:f(o),event:c});const g=i.value.activate({id:o,value:d,activated:new Set(m.value),children:l.value,parents:t.value,event:c});if(g.size!==m.value.size)m.value=g;else{for(const P of g)if(!m.value.has(P)){m.value=g;return}for(const P of m.value)if(!g.has(P)){m.value=g;return}}},children:l,parents:t,disabled:s,getPath:f}};return J(j,A),A.root},We=(e,n,l)=>{const t=X(j,Qe),s=Symbol("nested item"),a=b(()=>{const r=I(ie(e));return r!==void 0?r:s}),i={...t,id:a,open:(r,u)=>t.root.open(a.value,r,u),openOnSelect:(r,u)=>t.root.openOnSelect(a.value,r,u),isOpen:b(()=>t.root.opened.value.has(a.value)),parent:b(()=>t.root.parents.value.get(a.value)),activate:(r,u)=>t.root.activate(a.value,r,u),isActivated:b(()=>t.root.activated.value.has(a.value)),select:(r,u)=>t.root.select(a.value,r,u),isSelected:b(()=>t.root.selected.value.get(a.value)==="on"),isIndeterminate:b(()=>t.root.selected.value.get(a.value)==="indeterminate"),isLeaf:b(()=>!t.root.children.value.get(a.value)),isGroupActivator:t.isGroupActivator};return Le(()=>{t.isGroupActivator||K(()=>{t.root.register(a.value,t.id.value,ie(n),l)})}),Ve(()=>{t.isGroupActivator||t.root.unregister(a.value)}),Be(a,(r,u)=>{t.isGroupActivator||(t.root.unregister(u),K(()=>{t.root.register(r,t.id.value,ie(n),l)}))}),l&&J(j,i),i},ea=()=>{const e=X(j,Qe);J(j,{...e,isGroupActivator:!0})},ta=Vt({name:"VListGroupActivator",setup(e,n){let{slots:l}=n;return ea(),()=>l.default?.()}}),aa=M({activeColor:String,baseColor:String,color:String,collapseIcon:{type:D,default:"$collapse"},disabled:Boolean,expandIcon:{type:D,default:"$expand"},rawId:[String,Number],prependIcon:D,appendIcon:D,fluid:Boolean,subgroup:Boolean,title:String,value:null,...G(),..._()},"VListGroup"),Ae=E()({name:"VListGroup",props:aa(),setup(e,n){let{slots:l}=n;const{isOpen:t,open:s,id:a}=We(()=>e.value,()=>e.disabled,!0),i=b(()=>`v-list-group--id-${String(e.rawId??a.value)}`),r=qe(),{isBooted:u}=zt();function m(w){["INPUT","TEXTAREA"].includes(w.target?.tagName)||s(!t.value,w)}const v=b(()=>({onClick:m,class:"v-list-group__header",id:i.value})),f=b(()=>t.value?e.collapseIcon:e.expandIcon),y=b(()=>({VListItem:{activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&f.value,appendIcon:e.appendIcon||!e.subgroup&&f.value,title:e.title,value:e.value}}));return U(()=>S(e.tag,{class:W(["v-list-group",{"v-list-group--prepend":r?.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":t.value},e.class]),style:Q(e.style)},{default:()=>[l.activator&&S(re,{defaults:y.value},{default:()=>[S(ta,null,{default:()=>[l.activator({props:v.value,isOpen:t.value})]})]}),S(Mt,{transition:{component:xt},disabled:!u.value},{default:()=>[Oe(B("div",{class:"v-list-group__items",role:"group","aria-labelledby":i.value},[l.default?.()]),[[Lt,t.value]])]})]})),{isOpen:t}}}),na=M({opacity:[Number,String],...G(),..._()},"VListItemSubtitle"),la=E()({name:"VListItemSubtitle",props:na(),setup(e,n){let{slots:l}=n;return U(()=>S(e.tag,{class:W(["v-list-item-subtitle",e.class]),style:Q([{"--v-list-item-subtitle-opacity":e.opacity},e.style])},l)),{}}}),sa=Et("v-list-item-title"),ia=M({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:D,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:D,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:R(),onClickOnce:R(),...$e(),...G(),..._e(),...Ge(),...Ue(),...je(),...Rt(),..._(),...De(),...Re({variant:"text"})},"VListItem"),Ie=E()({name:"VListItem",directives:{vRipple:we},props:ia(),emits:{click:e=>!0},setup(e,n){let{attrs:l,slots:t,emit:s}=n;const a=Ft(e,l),i=b(()=>e.value===void 0?a.href.value:e.value),{activate:r,isActivated:u,select:m,isOpen:v,isSelected:f,isIndeterminate:y,isGroupActivator:w,root:p,parent:A,openOnSelect:o,id:d}=We(i,()=>e.disabled,!1),c=qe(),g=b(()=>e.active!==!1&&(e.active||a.isActive?.value||(p.activatable.value?u.value:f.value))),P=h(()=>e.link!==!1&&a.isLink.value),F=b(()=>!!c&&(p.selectable.value||p.activatable.value||e.value!=null)),V=b(()=>!e.disabled&&e.link!==!1&&(e.link||a.isClickable.value||F.value)),x=b(()=>c?P.value?"link":F.value?"option":"listitem":void 0),Y=b(()=>{if(F.value)return p.activatable.value?u.value:p.selectable.value?f.value:g.value}),Z=h(()=>e.rounded||e.nav),ee=h(()=>e.color??e.activeColor),te=h(()=>({color:g.value?ee.value??e.baseColor:e.baseColor,variant:e.variant}));Be(()=>a.isActive?.value,k=>{k&&$()}),Le(()=>{a.isActive?.value&&K(()=>$())});function $(){A.value!=null&&p.open(A.value,!0),o(!0)}const{themeClasses:T}=Te(e),{borderClasses:C}=Me(e),{colorClasses:z,colorStyles:et,variantClasses:tt}=Nt(te),{densityClasses:at}=xe(e),{dimensionStyles:nt}=Ee(e),{elevationClasses:lt}=Fe(e),{roundedClasses:st}=Ne(Z),it=h(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),rt=h(()=>e.ripple!==void 0&&e.ripple&&c?.filterable?{keys:["Enter"]}:e.ripple),ae=b(()=>({isActive:g.value,select:m,isOpen:v.value,isSelected:f.value,isIndeterminate:y.value}));function ot(k){s("click",k),!["INPUT","TEXTAREA"].includes(k.target?.tagName)&&V.value&&(a.navigate?.(k),!w&&(p.activatable.value?r(!u.value,k):(p.selectable.value||e.value!=null&&!P.value)&&m(!f.value,k)))}function ut(k){const ne=k.target;["INPUT","TEXTAREA"].includes(ne.tagName)||(k.key==="Enter"||k.key===" "&&!c?.filterable)&&(k.preventDefault(),k.stopPropagation(),k.target.dispatchEvent(new MouseEvent("click",k)))}return U(()=>{const k=P.value?"a":e.tag,ne=t.title||e.title!=null,ct=t.subtitle||e.subtitle!=null,de=!!(e.appendAvatar||e.appendIcon),dt=!!(de||t.append),ve=!!(e.prependAvatar||e.prependIcon),le=!!(ve||t.prepend);return c?.updateHasPrepend(le),e.activeColor&&Bt("active-color",["color","base-color"]),Oe(S(k,H(a.linkProps,{class:["v-list-item",{"v-list-item--active":g.value,"v-list-item--disabled":e.disabled,"v-list-item--link":V.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!le&&c?.hasPrepend.value,"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&g.value},T.value,C.value,z.value,at.value,lt.value,it.value,st.value,tt.value,e.class],style:[et.value,nt.value,e.style],tabindex:V.value?c?-2:0:void 0,"aria-selected":Y.value,role:x.value,onClick:ot,onKeydown:V.value&&!P.value&&ut}),{default:()=>[jt(V.value||g.value,"v-list-item"),le&&B("div",{key:"prepend",class:"v-list-item__prepend"},[t.prepend?S(re,{key:"prepend-defaults",disabled:!ve,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>[t.prepend?.(ae.value)]}):B(Se,null,[e.prependAvatar&&S(ke,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&S(Ce,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),B("div",{class:"v-list-item__spacer"},null)]),B("div",{class:"v-list-item__content","data-no-activator":""},[ne&&S(sa,{key:"title"},{default:()=>[t.title?.({title:e.title})??be(e.title)]}),ct&&S(la,{key:"subtitle"},{default:()=>[t.subtitle?.({subtitle:e.subtitle})??be(e.subtitle)]}),t.default?.(ae.value)]),dt&&B("div",{key:"append",class:"v-list-item__append"},[t.append?S(re,{key:"append-defaults",disabled:!de,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>[t.append?.(ae.value)]}):B(Se,null,[e.appendIcon&&S(Ce,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&S(ke,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),B("div",{class:"v-list-item__spacer"},null)])]}),[[we,V.value&&rt.value]])}),{activate:r,isActivated:u,isGroupActivator:w,isSelected:f,list:c,select:m,root:p,id:d,link:a}}}),ra=M({color:String,inset:Boolean,sticky:Boolean,title:String,...G(),..._()},"VListSubheader"),oa=E()({name:"VListSubheader",props:ra(),setup(e,n){let{slots:l}=n;const{textColorClasses:t,textColorStyles:s}=Ut(()=>e.color);return U(()=>{const a=!!(l.default||e.title);return S(e.tag,{class:W(["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},t.value,e.class]),style:Q([{textColorStyles:s},e.style])},{default:()=>[a&&B("div",{class:"v-list-subheader__text"},[l.default?.()??e.title])]})}),{}}}),ua=M({items:Array,returnObject:Boolean},"VListChildren"),Ye=E()({name:"VListChildren",props:ua(),setup(e,n){let{slots:l}=n;return ze(),()=>l.default?.()??e.items?.map(t=>{let{children:s,props:a,type:i,raw:r}=t;if(i==="divider")return l.divider?.({props:a})??S(_t,a,null);if(i==="subheader")return l.subheader?.({props:a})??S(oa,a,null);const u={subtitle:l.subtitle?v=>l.subtitle?.({...v,item:r}):void 0,prepend:l.prepend?v=>l.prepend?.({...v,item:r}):void 0,append:l.append?v=>l.append?.({...v,item:r}):void 0,title:l.title?v=>l.title?.({...v,item:r}):void 0},m=Ae.filterProps(a);return s?S(Ae,H(m,{value:e.returnObject?r:a?.value,rawId:a?.value}),{activator:v=>{let{props:f}=v;const y=H(a,f,{value:e.returnObject?r:a.value});return l.header?l.header({props:y}):S(Ie,y,u)},default:()=>S(Ye,{items:s,returnObject:e.returnObject},l)}):l.item?l.item({props:a}):S(Ie,H(a,{value:e.returnObject?r:a.value}),u)})}}),ca=M({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items"),da=new Set(["item","divider","subheader"]);function va(e,n){const l=pe(n)?n:N(n,e.itemTitle),t=pe(n)?n:N(n,e.itemValue,void 0),s=N(n,e.itemChildren),a=e.itemProps===!0?Dt(n,["children"]):N(n,e.itemProps);let i=N(n,e.itemType,"item");da.has(i)||(i="item");const r={title:l,value:t,...a};return{type:i,title:r.title,value:r.value,props:r,children:i==="item"&&s?Ze(e,s):void 0,raw:n}}function Ze(e,n){const l=[];for(const t of n)l.push(va(e,t));return l}function fa(e){return{items:b(()=>Ze(e,e.items))}}const ma=M({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:D,collapseIcon:D,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":R(),"onClick:select":R(),"onUpdate:opened":R(),...Yt({selectStrategy:"single-leaf",openStrategy:"list"}),...$e(),...G(),..._e(),...Ge(),...Ue(),...ca(),...je(),..._(),...De(),...Re({variant:"text"})},"VList"),ba=E()({name:"VList",props:ma(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,n){let{slots:l}=n;const{items:t}=fa(e),{themeClasses:s}=Te(e),{backgroundColorClasses:a,backgroundColorStyles:i}=Gt(()=>e.bgColor),{borderClasses:r}=Me(e),{densityClasses:u}=xe(e),{dimensionStyles:m}=Ee(e),{elevationClasses:v}=Fe(e),{roundedClasses:f}=Ne(e),{children:y,open:w,parents:p,select:A,getPath:o}=Zt(e),d=h(()=>e.lines?`v-list--${e.lines}-line`:void 0),c=h(()=>e.activeColor),g=h(()=>e.baseColor),P=h(()=>e.color),F=h(()=>e.selectable||e.activatable);ze({filterable:e.filterable}),Ot({VListGroup:{activeColor:c,baseColor:g,color:P,expandIcon:h(()=>e.expandIcon),collapseIcon:h(()=>e.collapseIcon)},VListItem:{activeClass:h(()=>e.activeClass),activeColor:c,baseColor:g,color:P,density:h(()=>e.density),disabled:h(()=>e.disabled),lines:h(()=>e.lines),nav:h(()=>e.nav),slim:h(()=>e.slim),variant:h(()=>e.variant)}});const V=O(!1),x=L();function Y(C){V.value=!0}function Z(C){V.value=!1}function ee(C){!V.value&&!(C.relatedTarget&&x.value?.contains(C.relatedTarget))&&T()}function te(C){const z=C.target;if(!(!x.value||z.tagName==="INPUT"&&["Home","End"].includes(C.key)||z.tagName==="TEXTAREA")){if(C.key==="ArrowDown")T("next");else if(C.key==="ArrowUp")T("prev");else if(C.key==="Home")T("first");else if(C.key==="End")T("last");else return;C.preventDefault()}}function $(C){V.value=!0}function T(C){if(x.value)return Tt(x.value,C)}return U(()=>S(e.tag,{ref:x,class:W(["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},s.value,a.value,r.value,u.value,v.value,d.value,f.value,e.class]),style:Q([i.value,m.value,e.style]),tabindex:e.disabled?-1:0,role:F.value?"listbox":"list","aria-activedescendant":void 0,onFocusin:Y,onFocusout:Z,onFocus:ee,onKeydown:te,onMousedown:$},{default:()=>[S(Ye,{items:t.value,returnObject:e.returnObject},l)]})),{open:w,select:A,focus:T,children:y,parents:p,getPath:o}}});export{ba as V,Sa as a,Ie as b,sa as c,la as d,zt as u};

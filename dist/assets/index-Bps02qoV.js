const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LandingView-BfXrJBG5.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/VContainer-BFyo_J92.js","assets/VContainer-BJlW41_4.css","assets/VRow-BSFoVxp1.js","assets/VChip-COUeoVHk.js","assets/VChip-COAOQEyp.css","assets/LandingView-C_RP8CAO.css","assets/LoginView-BXlTAH7v.js","assets/VForm-CYIHAUiC.js","assets/VInput-DEdA5THU.js","assets/VInput-DE_hTVlJ.css","assets/VTextField-BQZE1m41.js","assets/VTextField-DFaue9L9.css","assets/VDivider-DZMD_9Sa.js","assets/VDivider-DjuEbCAv.css","assets/VAlert-DMcIGoa6.js","assets/VAlert-Qkf0eDNA.css","assets/LoginView-CvX6aU6a.css","assets/RegisterView-DTjIz3hr.js","assets/VSelectionControl-cGSE6Bb6.js","assets/VSelectionControl-CIeJsqfW.css","assets/RegisterView-DppyLVo7.css","assets/AppShell-Be_fS2mJ.js","assets/VList-C4QbBZvp.js","assets/VList-AM18_oY9.css","assets/workflows-B9bf95TU.js","assets/VOverlay-B6cJXDRd.js","assets/VOverlay-BgMdBN1t.css","assets/VSpacer-Bx2tW2XR.js","assets/VMenu-JXqArYBQ.js","assets/VMenu-DvKwEp1j.css","assets/AppShell-DSZ-fS8M.css","assets/DashboardView-HgaQT-zu.js","assets/DashboardView-DXi9j3Y_.css","assets/DatasetsView--mVOfOgL.js","assets/VSnackbar-CTR3B9fN.js","assets/VSnackbar-BqUiYHL6.css","assets/DatasetsView-DtsHz5wL.css","assets/WorkflowsView-XZLgZ_LU.js","assets/VDialog-FoXdqNIS.js","assets/VDialog-DwTSAOeg.css","assets/ProfileView-OfDeoLEu.js","assets/ProfileView-DuCcxV2v.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function oh(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ke={},Bs=[],In=()=>{},qg=()=>!1,vc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ah=t=>t.startsWith("onUpdate:"),rt=Object.assign,ch=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_w=Object.prototype.hasOwnProperty,Se=(t,e)=>_w.call(t,e),ce=Array.isArray,$s=t=>Ec(t)==="[object Map]",Wg=t=>Ec(t)==="[object Set]",ue=t=>typeof t=="function",$e=t=>typeof t=="string",Lr=t=>typeof t=="symbol",Ne=t=>t!==null&&typeof t=="object",Gg=t=>(Ne(t)||ue(t))&&ue(t.then)&&ue(t.catch),zg=Object.prototype.toString,Ec=t=>zg.call(t),yw=t=>Ec(t).slice(8,-1),Kg=t=>Ec(t)==="[object Object]",lh=t=>$e(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ji=oh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tc=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},vw=/-\w/g,rn=Tc(t=>t.replace(vw,e=>e.slice(1).toUpperCase())),Ew=/\B([A-Z])/g,Es=Tc(t=>t.replace(Ew,"-$1").toLowerCase()),Co=Tc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Sl=Tc(t=>t?`on${Co(t)}`:""),wr=(t,e)=>!Object.is(t,e),Cl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Qg=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Tw=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ww=t=>{const e=$e(t)?Number(t):NaN;return isNaN(e)?t:e};let Cd;const wc=()=>Cd||(Cd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ic(t){if(ce(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=$e(r)?Rw(r):Ic(r);if(s)for(const i in s)e[i]=s[i]}return e}else if($e(t)||Ne(t))return t}const Iw=/;(?![^(]*\))/g,Aw=/:([^]+)/,bw=/\/\*[^]*?\*\//g;function Rw(t){const e={};return t.replace(bw,"").split(Iw).forEach(n=>{if(n){const r=n.split(Aw);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Po(t){let e="";if($e(t))e=t;else if(ce(t))for(let n=0;n<t.length;n++){const r=Po(t[n]);r&&(e+=r+" ")}else if(Ne(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Sw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Cw=oh(Sw);function Yg(t){return!!t||t===""}const Xg=t=>!!(t&&t.__v_isRef===!0),Pw=t=>$e(t)?t:t==null?"":ce(t)||Ne(t)&&(t.toString===zg||!ue(t.toString))?Xg(t)?Pw(t.value):JSON.stringify(t,Jg,2):String(t),Jg=(t,e)=>Xg(e)?Jg(t,e.value):$s(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Pl(r,i)+" =>"]=s,n),{})}:Wg(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Pl(n))}:Lr(e)?Pl(e):Ne(e)&&!ce(e)&&!Kg(e)?String(e):e,Pl=(t,e="")=>{var n;return Lr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let yt;class Zg{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=yt,!e&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=yt;try{return yt=this,e()}finally{yt=n}}}on(){++this._on===1&&(this.prevScope=yt,yt=this)}off(){this._on>0&&--this._on===0&&(yt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function io(t){return new Zg(t)}function uh(){return yt}function Ac(t,e=!1){yt&&yt.cleanups.push(t)}let Oe;const Dl=new WeakSet;class e_{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,yt&&yt.active&&yt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Dl.has(this)&&(Dl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||n_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Pd(this),r_(this);const e=Oe,n=ln;Oe=this,ln=!0;try{return this.fn()}finally{s_(this),Oe=e,ln=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)dh(e);this.deps=this.depsTail=void 0,Pd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Dl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){lu(this)&&this.run()}get dirty(){return lu(this)}}let t_=0,Hi,qi;function n_(t,e=!1){if(t.flags|=8,e){t.next=qi,qi=t;return}t.next=Hi,Hi=t}function hh(){t_++}function fh(){if(--t_>0)return;if(qi){let e=qi;for(qi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Hi;){let e=Hi;for(Hi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function r_(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function s_(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),dh(r),Dw(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function lu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(i_(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function i_(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===oo)||(t.globalVersion=oo,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!lu(t))))return;t.flags|=2;const e=t.dep,n=Oe,r=ln;Oe=t,ln=!0;try{r_(t);const s=t.fn(t._value);(e.version===0||wr(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Oe=n,ln=r,s_(t),t.flags&=-3}}function dh(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)dh(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Dw(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let ln=!0;const o_=[];function Gn(){o_.push(ln),ln=!1}function zn(){const t=o_.pop();ln=t===void 0?!0:t}function Pd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Oe;Oe=void 0;try{e()}finally{Oe=n}}}let oo=0;class kw{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ph{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Oe||!ln||Oe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Oe)n=this.activeLink=new kw(Oe,this),Oe.deps?(n.prevDep=Oe.depsTail,Oe.depsTail.nextDep=n,Oe.depsTail=n):Oe.deps=Oe.depsTail=n,a_(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Oe.depsTail,n.nextDep=void 0,Oe.depsTail.nextDep=n,Oe.depsTail=n,Oe.deps===n&&(Oe.deps=r)}return n}trigger(e){this.version++,oo++,this.notify(e)}notify(e){hh();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{fh()}}}function a_(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)a_(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ma=new WeakMap,os=Symbol(""),uu=Symbol(""),ao=Symbol("");function Et(t,e,n){if(ln&&Oe){let r=Ma.get(t);r||Ma.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new ph),s.map=r,s.key=n),s.track()}}function Ln(t,e,n,r,s,i){const o=Ma.get(t);if(!o){oo++;return}const c=l=>{l&&l.trigger()};if(hh(),e==="clear")o.forEach(c);else{const l=ce(t),u=l&&lh(n);if(l&&n==="length"){const h=Number(r);o.forEach((d,m)=>{(m==="length"||m===ao||!Lr(m)&&m>=h)&&c(d)})}else switch((n!==void 0||o.has(void 0))&&c(o.get(n)),u&&c(o.get(ao)),e){case"add":l?u&&c(o.get("length")):(c(o.get(os)),$s(t)&&c(o.get(uu)));break;case"delete":l||(c(o.get(os)),$s(t)&&c(o.get(uu)));break;case"set":$s(t)&&c(o.get(os));break}}fh()}function Nw(t,e){const n=Ma.get(t);return n&&n.get(e)}function Ps(t){const e=Te(t);return e===t?e:(Et(e,"iterate",ao),Zt(t)?e:e.map(ht))}function bc(t){return Et(t=Te(t),"iterate",ao),t}const Ow={__proto__:null,[Symbol.iterator](){return kl(this,Symbol.iterator,ht)},concat(...t){return Ps(this).concat(...t.map(e=>ce(e)?Ps(e):e))},entries(){return kl(this,"entries",t=>(t[1]=ht(t[1]),t))},every(t,e){return Nn(this,"every",t,e,void 0,arguments)},filter(t,e){return Nn(this,"filter",t,e,n=>n.map(ht),arguments)},find(t,e){return Nn(this,"find",t,e,ht,arguments)},findIndex(t,e){return Nn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Nn(this,"findLast",t,e,ht,arguments)},findLastIndex(t,e){return Nn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Nn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Nl(this,"includes",t)},indexOf(...t){return Nl(this,"indexOf",t)},join(t){return Ps(this).join(t)},lastIndexOf(...t){return Nl(this,"lastIndexOf",t)},map(t,e){return Nn(this,"map",t,e,void 0,arguments)},pop(){return Si(this,"pop")},push(...t){return Si(this,"push",t)},reduce(t,...e){return Dd(this,"reduce",t,e)},reduceRight(t,...e){return Dd(this,"reduceRight",t,e)},shift(){return Si(this,"shift")},some(t,e){return Nn(this,"some",t,e,void 0,arguments)},splice(...t){return Si(this,"splice",t)},toReversed(){return Ps(this).toReversed()},toSorted(t){return Ps(this).toSorted(t)},toSpliced(...t){return Ps(this).toSpliced(...t)},unshift(...t){return Si(this,"unshift",t)},values(){return kl(this,"values",ht)}};function kl(t,e,n){const r=bc(t),s=r[e]();return r!==t&&!Zt(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const Vw=Array.prototype;function Nn(t,e,n,r,s,i){const o=bc(t),c=o!==t&&!Zt(t),l=o[e];if(l!==Vw[e]){const d=l.apply(t,i);return c?ht(d):d}let u=n;o!==t&&(c?u=function(d,m){return n.call(this,ht(d),m,t)}:n.length>2&&(u=function(d,m){return n.call(this,d,m,t)}));const h=l.call(o,u,r);return c&&s?s(h):h}function Dd(t,e,n,r){const s=bc(t);let i=n;return s!==t&&(Zt(t)?n.length>3&&(i=function(o,c,l){return n.call(this,o,c,l,t)}):i=function(o,c,l){return n.call(this,o,ht(c),l,t)}),s[e](i,...r)}function Nl(t,e,n){const r=Te(t);Et(r,"iterate",ao);const s=r[e](...n);return(s===-1||s===!1)&&_h(n[0])?(n[0]=Te(n[0]),r[e](...n)):s}function Si(t,e,n=[]){Gn(),hh();const r=Te(t)[e].apply(t,n);return fh(),zn(),r}const xw=oh("__proto__,__v_isRef,__isVue"),c_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Lr));function Mw(t){Lr(t)||(t=String(t));const e=Te(this);return Et(e,"has",t),e.hasOwnProperty(t)}class l_{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Gw:d_:i?f_:h_).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ce(e);if(!s){let l;if(o&&(l=Ow[n]))return l;if(n==="hasOwnProperty")return Mw}const c=Reflect.get(e,n,We(e)?e:r);if((Lr(n)?c_.has(n):xw(n))||(s||Et(e,"get",n),i))return c;if(We(c)){const l=o&&lh(n)?c:c.value;return s&&Ne(l)?La(l):l}return Ne(c)?s?La(c):Mt(c):c}}class u_ extends l_{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=Cr(i);if(!Zt(r)&&!Cr(r)&&(i=Te(i),r=Te(r)),!ce(e)&&We(i)&&!We(r))return l||(i.value=r),!0}const o=ce(e)&&lh(n)?Number(n)<e.length:Se(e,n),c=Reflect.set(e,n,r,We(e)?e:s);return e===Te(s)&&(o?wr(r,i)&&Ln(e,"set",n,r):Ln(e,"add",n,r)),c}deleteProperty(e,n){const r=Se(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Ln(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Lr(n)||!c_.has(n))&&Et(e,"has",n),r}ownKeys(e){return Et(e,"iterate",ce(e)?"length":os),Reflect.ownKeys(e)}}class Lw extends l_{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Fw=new u_,Uw=new Lw,Bw=new u_(!0);const hu=t=>t,sa=t=>Reflect.getPrototypeOf(t);function $w(t,e,n){return function(...r){const s=this.__v_raw,i=Te(s),o=$s(i),c=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),h=n?hu:e?Fa:ht;return!e&&Et(i,"iterate",l?uu:os),{next(){const{value:d,done:m}=u.next();return m?{value:d,done:m}:{value:c?[h(d[0]),h(d[1])]:h(d),done:m}},[Symbol.iterator](){return this}}}}function ia(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function jw(t,e){const n={get(s){const i=this.__v_raw,o=Te(i),c=Te(s);t||(wr(s,c)&&Et(o,"get",s),Et(o,"get",c));const{has:l}=sa(o),u=e?hu:t?Fa:ht;if(l.call(o,s))return u(i.get(s));if(l.call(o,c))return u(i.get(c));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Et(Te(s),"iterate",os),s.size},has(s){const i=this.__v_raw,o=Te(i),c=Te(s);return t||(wr(s,c)&&Et(o,"has",s),Et(o,"has",c)),s===c?i.has(s):i.has(s)||i.has(c)},forEach(s,i){const o=this,c=o.__v_raw,l=Te(c),u=e?hu:t?Fa:ht;return!t&&Et(l,"iterate",os),c.forEach((h,d)=>s.call(i,u(h),u(d),o))}};return rt(n,t?{add:ia("add"),set:ia("set"),delete:ia("delete"),clear:ia("clear")}:{add(s){!e&&!Zt(s)&&!Cr(s)&&(s=Te(s));const i=Te(this);return sa(i).has.call(i,s)||(i.add(s),Ln(i,"add",s,s)),this},set(s,i){!e&&!Zt(i)&&!Cr(i)&&(i=Te(i));const o=Te(this),{has:c,get:l}=sa(o);let u=c.call(o,s);u||(s=Te(s),u=c.call(o,s));const h=l.call(o,s);return o.set(s,i),u?wr(i,h)&&Ln(o,"set",s,i):Ln(o,"add",s,i),this},delete(s){const i=Te(this),{has:o,get:c}=sa(i);let l=o.call(i,s);l||(s=Te(s),l=o.call(i,s)),c&&c.call(i,s);const u=i.delete(s);return l&&Ln(i,"delete",s,void 0),u},clear(){const s=Te(this),i=s.size!==0,o=s.clear();return i&&Ln(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=$w(s,t,e)}),n}function mh(t,e){const n=jw(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Se(n,s)&&s in r?n:r,s,i)}const Hw={get:mh(!1,!1)},qw={get:mh(!1,!0)},Ww={get:mh(!0,!1)};const h_=new WeakMap,f_=new WeakMap,d_=new WeakMap,Gw=new WeakMap;function zw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kw(t){return t.__v_skip||!Object.isExtensible(t)?0:zw(yw(t))}function Mt(t){return Cr(t)?t:gh(t,!1,Fw,Hw,h_)}function p_(t){return gh(t,!1,Bw,qw,f_)}function La(t){return gh(t,!0,Uw,Ww,d_)}function gh(t,e,n,r,s){if(!Ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Kw(t);if(i===0)return t;const o=s.get(t);if(o)return o;const c=new Proxy(t,i===2?r:n);return s.set(t,c),c}function Ir(t){return Cr(t)?Ir(t.__v_raw):!!(t&&t.__v_isReactive)}function Cr(t){return!!(t&&t.__v_isReadonly)}function Zt(t){return!!(t&&t.__v_isShallow)}function _h(t){return t?!!t.__v_raw:!1}function Te(t){const e=t&&t.__v_raw;return e?Te(e):t}function yh(t){return!Se(t,"__v_skip")&&Object.isExtensible(t)&&Qg(t,"__v_skip",!0),t}const ht=t=>Ne(t)?Mt(t):t,Fa=t=>Ne(t)?La(t):t;function We(t){return t?t.__v_isRef===!0:!1}function on(t){return m_(t,!1)}function en(t){return m_(t,!0)}function m_(t,e){return We(t)?t:new Qw(t,e)}class Qw{constructor(e,n){this.dep=new ph,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Te(e),this._value=n?e:ht(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Zt(e)||Cr(e);e=r?e:Te(e),wr(e,n)&&(this._rawValue=e,this._value=r?e:ht(e),this.dep.trigger())}}function Jt(t){return We(t)?t.value:t}function Yw(t){return ue(t)?t():Jt(t)}const Xw={get:(t,e,n)=>e==="__v_raw"?t:Jt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return We(s)&&!We(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function g_(t){return Ir(t)?t:new Proxy(t,Xw)}function __(t){const e=ce(t)?new Array(t.length):{};for(const n in t)e[n]=y_(t,n);return e}class Jw{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Nw(Te(this._object),this._key)}}class Zw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ft(t,e,n){return We(t)?t:ue(t)?new Zw(t):Ne(t)&&arguments.length>1?y_(t,e,n):on(t)}function y_(t,e,n){const r=t[e];return We(r)?r:new Jw(t,e,n)}class eI{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ph(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=oo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Oe!==this)return n_(this,!0),!0}get value(){const e=this.dep.track();return i_(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function tI(t,e,n=!1){let r,s;return ue(t)?r=t:(r=t.get,s=t.set),new eI(r,s,n)}const oa={},Ua=new WeakMap;let es;function nI(t,e=!1,n=es){if(n){let r=Ua.get(n);r||Ua.set(n,r=[]),r.push(t)}}function rI(t,e,n=ke){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:c,call:l}=n,u=F=>s?F:Zt(F)||s===!1||s===0?Fn(F,1):Fn(F);let h,d,m,g,S=!1,P=!1;if(We(t)?(d=()=>t.value,S=Zt(t)):Ir(t)?(d=()=>u(t),S=!0):ce(t)?(P=!0,S=t.some(F=>Ir(F)||Zt(F)),d=()=>t.map(F=>{if(We(F))return F.value;if(Ir(F))return u(F);if(ue(F))return l?l(F,2):F()})):ue(t)?e?d=l?()=>l(t,2):t:d=()=>{if(m){Gn();try{m()}finally{zn()}}const F=es;es=h;try{return l?l(t,3,[g]):t(g)}finally{es=F}}:d=In,e&&s){const F=d,G=s===!0?1/0:s;d=()=>Fn(F(),G)}const k=uh(),C=()=>{h.stop(),k&&k.active&&ch(k.effects,h)};if(i&&e){const F=e;e=(...G)=>{F(...G),C()}}let O=P?new Array(t.length).fill(oa):oa;const V=F=>{if(!(!(h.flags&1)||!h.dirty&&!F))if(e){const G=h.run();if(s||S||(P?G.some((z,T)=>wr(z,O[T])):wr(G,O))){m&&m();const z=es;es=h;try{const T=[G,O===oa?void 0:P&&O[0]===oa?[]:O,g];O=G,l?l(e,3,T):e(...T)}finally{es=z}}}else h.run()};return c&&c(V),h=new e_(d),h.scheduler=o?()=>o(V,!1):V,g=F=>nI(F,!1,h),m=h.onStop=()=>{const F=Ua.get(h);if(F){if(l)l(F,4);else for(const G of F)G();Ua.delete(h)}},e?r?V(!0):O=h.run():o?o(V.bind(null,!0),!0):h.run(),C.pause=h.pause.bind(h),C.resume=h.resume.bind(h),C.stop=C,C}function Fn(t,e=1/0,n){if(e<=0||!Ne(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,We(t))Fn(t.value,e,n);else if(ce(t))for(let r=0;r<t.length;r++)Fn(t[r],e,n);else if(Wg(t)||$s(t))t.forEach(r=>{Fn(r,e,n)});else if(Kg(t)){for(const r in t)Fn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Fn(t[r],e,n)}return t}function Do(t,e,n,r){try{return r?t(...r):t()}catch(s){Rc(s,e,n)}}function hn(t,e,n,r){if(ue(t)){const s=Do(t,e,n,r);return s&&Gg(s)&&s.catch(i=>{Rc(i,e,n)}),s}if(ce(t)){const s=[];for(let i=0;i<t.length;i++)s.push(hn(t[i],e,n,r));return s}}function Rc(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ke;if(e){let c=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const h=c.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,l,u)===!1)return}c=c.parent}if(i){Gn(),Do(i,null,10,[t,l,u]),zn();return}}sI(t,n,s,r,o)}function sI(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Nt=[];let vn=-1;const js=[];let dr=null,Vs=0;const v_=Promise.resolve();let Ba=null;function Sc(t){const e=Ba||v_;return t?e.then(this?t.bind(this):t):e}function iI(t){let e=vn+1,n=Nt.length;for(;e<n;){const r=e+n>>>1,s=Nt[r],i=co(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function vh(t){if(!(t.flags&1)){const e=co(t),n=Nt[Nt.length-1];!n||!(t.flags&2)&&e>=co(n)?Nt.push(t):Nt.splice(iI(e),0,t),t.flags|=1,E_()}}function E_(){Ba||(Ba=v_.then(w_))}function oI(t){ce(t)?js.push(...t):dr&&t.id===-1?dr.splice(Vs+1,0,t):t.flags&1||(js.push(t),t.flags|=1),E_()}function kd(t,e,n=vn+1){for(;n<Nt.length;n++){const r=Nt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Nt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function T_(t){if(js.length){const e=[...new Set(js)].sort((n,r)=>co(n)-co(r));if(js.length=0,dr){dr.push(...e);return}for(dr=e,Vs=0;Vs<dr.length;Vs++){const n=dr[Vs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}dr=null,Vs=0}}const co=t=>t.id==null?t.flags&2?-1:1/0:t.id;function w_(t){try{for(vn=0;vn<Nt.length;vn++){const e=Nt[vn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Do(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;vn<Nt.length;vn++){const e=Nt[vn];e&&(e.flags&=-2)}vn=-1,Nt.length=0,T_(),Ba=null,(Nt.length||js.length)&&w_()}}let qt=null,I_=null;function $a(t){const e=qt;return qt=t,I_=t&&t.type.__scopeId||null,e}function wa(t,e=qt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&qa(-1);const i=$a(e);let o;try{o=t(...s)}finally{$a(i),r._d&&qa(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function $V(t,e){if(qt===null)return t;const n=xc(qt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,c,l=ke]=e[s];i&&(ue(i)&&(i={mounted:i,updated:i}),i.deep&&Fn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:c,modifiers:l}))}return t}function Qr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const c=s[o];i&&(c.oldValue=i[o].value);let l=c.dir[r];l&&(Gn(),hn(l,n,8,[t.el,c,t,e]),zn())}}const A_=Symbol("_vte"),b_=t=>t.__isTeleport,Wi=t=>t&&(t.disabled||t.disabled===""),Nd=t=>t&&(t.defer||t.defer===""),Od=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Vd=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,fu=(t,e)=>{const n=t&&t.to;return $e(n)?e?e(n):null:n},R_={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,c,l,u){const{mc:h,pc:d,pbc:m,o:{insert:g,querySelector:S,createText:P,createComment:k}}=u,C=Wi(e.props);let{shapeFlag:O,children:V,dynamicChildren:F}=e;if(t==null){const G=e.el=P(""),z=e.anchor=P("");g(G,n,r),g(z,n,r);const T=(_,I)=>{O&16&&h(V,_,I,s,i,o,c,l)},v=()=>{const _=e.target=fu(e.props,S),I=S_(_,e,P,g);_&&(o!=="svg"&&Od(_)?o="svg":o!=="mathml"&&Vd(_)&&(o="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(_),C||(T(_,I),Ia(e,!1)))};C&&(T(n,z),Ia(e,!0)),Nd(e.props)?(e.el.__isMounted=!1,Dt(()=>{v(),delete e.el.__isMounted},i)):v()}else{if(Nd(e.props)&&t.el.__isMounted===!1){Dt(()=>{R_.process(t,e,n,r,s,i,o,c,l,u)},i);return}e.el=t.el,e.targetStart=t.targetStart;const G=e.anchor=t.anchor,z=e.target=t.target,T=e.targetAnchor=t.targetAnchor,v=Wi(t.props),_=v?n:z,I=v?G:T;if(o==="svg"||Od(z)?o="svg":(o==="mathml"||Vd(z))&&(o="mathml"),F?(m(t.dynamicChildren,F,_,s,i,o,c),Ah(t,e,!0)):l||d(t,e,_,I,s,i,o,c,!1),C)v?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):aa(e,n,G,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const b=e.target=fu(e.props,S);b&&aa(e,b,null,u,0)}else v&&aa(e,z,T,u,1);Ia(e,C)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:c,anchor:l,targetStart:u,targetAnchor:h,target:d,props:m}=t;if(d&&(s(u),s(h)),i&&s(l),o&16){const g=i||!Wi(m);for(let S=0;S<c.length;S++){const P=c[S];r(P,e,n,g,!!P.dynamicChildren)}}},move:aa,hydrate:aI};function aa(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:c,shapeFlag:l,children:u,props:h}=t,d=i===2;if(d&&r(o,e,n),(!d||Wi(h))&&l&16)for(let m=0;m<u.length;m++)s(u[m],e,n,2);d&&r(c,e,n)}function aI(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:c,querySelector:l,insert:u,createText:h}},d){function m(P,k,C,O){k.anchor=d(o(P),k,c(P),n,r,s,i),k.targetStart=C,k.targetAnchor=O}const g=e.target=fu(e.props,l),S=Wi(e.props);if(g){const P=g._lpa||g.firstChild;if(e.shapeFlag&16)if(S)m(t,e,P,P&&o(P));else{e.anchor=o(t);let k=P;for(;k;){if(k&&k.nodeType===8){if(k.data==="teleport start anchor")e.targetStart=k;else if(k.data==="teleport anchor"){e.targetAnchor=k,g._lpa=e.targetAnchor&&o(e.targetAnchor);break}}k=o(k)}e.targetAnchor||S_(g,e,h,u),d(P&&o(P),e,g,n,r,s,i)}Ia(e,S)}else S&&e.shapeFlag&16&&m(t,e,t,o(t));return e.anchor&&o(e.anchor)}const jV=R_;function Ia(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function S_(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[A_]=i,t&&(r(s,t),r(i,t)),i}const Mn=Symbol("_leaveCb"),ca=Symbol("_enterCb");function C_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Th(()=>{t.isMounted=!0}),kc(()=>{t.isUnmounting=!0}),t}const Qt=[Function,Array],P_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Qt,onEnter:Qt,onAfterEnter:Qt,onEnterCancelled:Qt,onBeforeLeave:Qt,onLeave:Qt,onAfterLeave:Qt,onLeaveCancelled:Qt,onBeforeAppear:Qt,onAppear:Qt,onAfterAppear:Qt,onAppearCancelled:Qt},D_=t=>{const e=t.subTree;return e.component?D_(e.component):e},cI={name:"BaseTransition",props:P_,setup(t,{slots:e}){const n=ii(),r=C_();return()=>{const s=e.default&&Eh(e.default(),!0);if(!s||!s.length)return;const i=k_(s),o=Te(t),{mode:c}=o;if(r.isLeaving)return Ol(i);const l=xd(i);if(!l)return Ol(i);let u=lo(l,o,r,n,d=>u=d);l.type!==Ot&&fs(l,u);let h=n.subTree&&xd(n.subTree);if(h&&h.type!==Ot&&!ns(h,l)&&D_(n).type!==Ot){let d=lo(h,o,r,n);if(fs(h,d),c==="out-in"&&l.type!==Ot)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,h=void 0},Ol(i);c==="in-out"&&l.type!==Ot?d.delayLeave=(m,g,S)=>{const P=N_(r,h);P[String(h.key)]=h,m[Mn]=()=>{g(),m[Mn]=void 0,delete u.delayedLeave,h=void 0},u.delayedLeave=()=>{S(),delete u.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function k_(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Ot){e=n;break}}return e}const lI=cI;function N_(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function lo(t,e,n,r,s){const{appear:i,mode:o,persisted:c=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:m,onLeave:g,onAfterLeave:S,onLeaveCancelled:P,onBeforeAppear:k,onAppear:C,onAfterAppear:O,onAppearCancelled:V}=e,F=String(t.key),G=N_(n,t),z=(_,I)=>{_&&hn(_,r,9,I)},T=(_,I)=>{const b=I[1];z(_,I),ce(_)?_.every(A=>A.length<=1)&&b():_.length<=1&&b()},v={mode:o,persisted:c,beforeEnter(_){let I=l;if(!n.isMounted)if(i)I=k||l;else return;_[Mn]&&_[Mn](!0);const b=G[F];b&&ns(t,b)&&b.el[Mn]&&b.el[Mn](),z(I,[_])},enter(_){let I=u,b=h,A=d;if(!n.isMounted)if(i)I=C||u,b=O||h,A=V||d;else return;let E=!1;const de=_[ca]=xe=>{E||(E=!0,xe?z(A,[_]):z(b,[_]),v.delayedLeave&&v.delayedLeave(),_[ca]=void 0)};I?T(I,[_,de]):de()},leave(_,I){const b=String(t.key);if(_[ca]&&_[ca](!0),n.isUnmounting)return I();z(m,[_]);let A=!1;const E=_[Mn]=de=>{A||(A=!0,I(),de?z(P,[_]):z(S,[_]),_[Mn]=void 0,G[b]===t&&delete G[b])};G[b]=t,g?T(g,[_,E]):E()},clone(_){const I=lo(_,e,n,r,s);return s&&s(I),I}};return v}function Ol(t){if(Pc(t))return t=Pr(t),t.children=null,t}function xd(t){if(!Pc(t))return b_(t.type)&&t.children?k_(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ue(n.default))return n.default()}}function fs(t,e){t.shapeFlag&6&&t.component?(t.transition=e,fs(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Eh(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const c=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Yt?(o.patchFlag&128&&s++,r=r.concat(Eh(o.children,e,c))):(e||o.type!==Ot)&&r.push(c!=null?Pr(o,{key:c}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Cc(t,e){return ue(t)?rt({name:t.name},e,{setup:t}):t}function uI(){const t=ii();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function O_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const ja=new WeakMap;function Gi(t,e,n,r,s=!1){if(ce(t)){t.forEach((S,P)=>Gi(S,e&&(ce(e)?e[P]:e),n,r,s));return}if(zi(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Gi(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?xc(r.component):r.el,o=s?null:i,{i:c,r:l}=t,u=e&&e.r,h=c.refs===ke?c.refs={}:c.refs,d=c.setupState,m=Te(d),g=d===ke?qg:S=>Se(m,S);if(u!=null&&u!==l){if(Md(e),$e(u))h[u]=null,g(u)&&(d[u]=null);else if(We(u)){u.value=null;const S=e;S.k&&(h[S.k]=null)}}if(ue(l))Do(l,c,12,[o,h]);else{const S=$e(l),P=We(l);if(S||P){const k=()=>{if(t.f){const C=S?g(l)?d[l]:h[l]:l.value;if(s)ce(C)&&ch(C,i);else if(ce(C))C.includes(i)||C.push(i);else if(S)h[l]=[i],g(l)&&(d[l]=h[l]);else{const O=[i];l.value=O,t.k&&(h[t.k]=O)}}else S?(h[l]=o,g(l)&&(d[l]=o)):P&&(l.value=o,t.k&&(h[t.k]=o))};if(o){const C=()=>{k(),ja.delete(t)};C.id=-1,ja.set(t,C),Dt(C,n)}else Md(t),k()}}}function Md(t){const e=ja.get(t);e&&(e.flags|=8,ja.delete(t))}wc().requestIdleCallback;wc().cancelIdleCallback;const zi=t=>!!t.type.__asyncLoader,Pc=t=>t.type.__isKeepAlive;function V_(t,e){M_(t,"a",e)}function x_(t,e){M_(t,"da",e)}function M_(t,e,n=wt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Dc(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Pc(s.parent.vnode)&&hI(r,e,n,s),s=s.parent}}function hI(t,e,n,r){const s=Dc(e,t,r,!0);F_(()=>{ch(r[e],s)},n)}function Dc(t,e,n=wt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Gn();const c=ko(n),l=hn(e,n,t,o);return c(),zn(),l});return r?s.unshift(i):s.push(i),i}}const Jn=t=>(e,n=wt)=>{(!ho||t==="sp")&&Dc(t,(...r)=>e(...r),n)},fI=Jn("bm"),Th=Jn("m"),dI=Jn("bu"),L_=Jn("u"),kc=Jn("bum"),F_=Jn("um"),pI=Jn("sp"),mI=Jn("rtg"),gI=Jn("rtc");function _I(t,e=wt){Dc("ec",t,e)}const U_="components";function HV(t,e){return $_(U_,t,!0,e)||t}const B_=Symbol.for("v-ndc");function yI(t){return $e(t)?$_(U_,t,!1)||t:t||B_}function $_(t,e,n=!0,r=!1){const s=qt||wt;if(s){const i=s.type;{const c=oA(i,!1);if(c&&(c===e||c===rn(e)||c===Co(rn(e))))return i}const o=Ld(s[t]||i[t],e)||Ld(s.appContext[t],e);return!o&&r?i:o}}function Ld(t,e){return t&&(t[e]||t[rn(e)]||t[Co(rn(e))])}function qV(t,e,n,r){let s;const i=n,o=ce(t);if(o||$e(t)){const c=o&&Ir(t);let l=!1,u=!1;c&&(l=!Zt(t),u=Cr(t),t=bc(t)),s=new Array(t.length);for(let h=0,d=t.length;h<d;h++)s[h]=e(l?u?Fa(ht(t[h])):ht(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,i)}else if(Ne(t))if(t[Symbol.iterator])s=Array.from(t,(c,l)=>e(c,l,void 0,i));else{const c=Object.keys(t);s=new Array(c.length);for(let l=0,u=c.length;l<u;l++){const h=c[l];s[l]=e(t[h],h,l,i)}}else s=[];return s}const du=t=>t?oy(t)?xc(t):du(t.parent):null,Ki=rt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>du(t.parent),$root:t=>du(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>H_(t),$forceUpdate:t=>t.f||(t.f=()=>{vh(t.update)}),$nextTick:t=>t.n||(t.n=Sc.bind(t.proxy)),$watch:t=>BI.bind(t)}),Vl=(t,e)=>t!==ke&&!t.__isScriptSetup&&Se(t,e),vI={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:c,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Vl(r,e))return o[e]=1,r[e];if(s!==ke&&Se(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&Se(u,e))return o[e]=3,i[e];if(n!==ke&&Se(n,e))return o[e]=4,n[e];pu&&(o[e]=0)}}const h=Ki[e];let d,m;if(h)return e==="$attrs"&&Et(t.attrs,"get",""),h(t);if((d=c.__cssModules)&&(d=d[e]))return d;if(n!==ke&&Se(n,e))return o[e]=4,n[e];if(m=l.config.globalProperties,Se(m,e))return m[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Vl(s,e)?(s[e]=n,!0):r!==ke&&Se(r,e)?(r[e]=n,!0):Se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i,type:o}},c){let l,u;return!!(n[c]||t!==ke&&c[0]!=="$"&&Se(t,c)||Vl(e,c)||(l=i[0])&&Se(l,c)||Se(r,c)||Se(Ki,c)||Se(s.config.globalProperties,c)||(u=o.__cssModules)&&u[c])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Fd(t){return ce(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let pu=!0;function EI(t){const e=H_(t),n=t.proxy,r=t.ctx;pu=!1,e.beforeCreate&&Ud(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:c,provide:l,inject:u,created:h,beforeMount:d,mounted:m,beforeUpdate:g,updated:S,activated:P,deactivated:k,beforeDestroy:C,beforeUnmount:O,destroyed:V,unmounted:F,render:G,renderTracked:z,renderTriggered:T,errorCaptured:v,serverPrefetch:_,expose:I,inheritAttrs:b,components:A,directives:E,filters:de}=e;if(u&&TI(u,r,null),o)for(const le in o){const me=o[le];ue(me)&&(r[le]=me.bind(n))}if(s){const le=s.call(n,n);Ne(le)&&(t.data=Mt(le))}if(pu=!0,i)for(const le in i){const me=i[le],st=ue(me)?me.bind(n,n):ue(me.get)?me.get.bind(n,n):In,Kt=!ue(me)&&ue(me.set)?me.set.bind(n):In,bt=we({get:st,set:Kt});Object.defineProperty(r,le,{enumerable:!0,configurable:!0,get:()=>bt.value,set:Ue=>bt.value=Ue})}if(c)for(const le in c)j_(c[le],r,n,le);if(l){const le=ue(l)?l.call(n):l;Reflect.ownKeys(le).forEach(me=>{Hn(me,le[me])})}h&&Ud(h,t,"c");function be(le,me){ce(me)?me.forEach(st=>le(st.bind(n))):me&&le(me.bind(n))}if(be(fI,d),be(Th,m),be(dI,g),be(L_,S),be(V_,P),be(x_,k),be(_I,v),be(gI,z),be(mI,T),be(kc,O),be(F_,F),be(pI,_),ce(I))if(I.length){const le=t.exposed||(t.exposed={});I.forEach(me=>{Object.defineProperty(le,me,{get:()=>n[me],set:st=>n[me]=st,enumerable:!0})})}else t.exposed||(t.exposed={});G&&t.render===In&&(t.render=G),b!=null&&(t.inheritAttrs=b),A&&(t.components=A),E&&(t.directives=E),_&&O_(t)}function TI(t,e,n=In){ce(t)&&(t=mu(t));for(const r in t){const s=t[r];let i;Ne(s)?"default"in s?i=Be(s.from||r,s.default,!0):i=Be(s.from||r):i=Be(s),We(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Ud(t,e,n){hn(ce(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function j_(t,e,n,r){let s=r.includes(".")?ey(n,r):()=>n[r];if($e(t)){const i=e[t];ue(i)&&tn(s,i)}else if(ue(t))tn(s,t.bind(n));else if(Ne(t))if(ce(t))t.forEach(i=>j_(i,e,n,r));else{const i=ue(t.handler)?t.handler.bind(n):e[t.handler];ue(i)&&tn(s,i,t)}}function H_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,c=i.get(e);let l;return c?l=c:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>Ha(l,u,o,!0)),Ha(l,e,o)),Ne(e)&&i.set(e,l),l}function Ha(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Ha(t,i,n,!0),s&&s.forEach(o=>Ha(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const c=wI[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const wI={data:Bd,props:$d,emits:$d,methods:Oi,computed:Oi,beforeCreate:Pt,created:Pt,beforeMount:Pt,mounted:Pt,beforeUpdate:Pt,updated:Pt,beforeDestroy:Pt,beforeUnmount:Pt,destroyed:Pt,unmounted:Pt,activated:Pt,deactivated:Pt,errorCaptured:Pt,serverPrefetch:Pt,components:Oi,directives:Oi,watch:AI,provide:Bd,inject:II};function Bd(t,e){return e?t?function(){return rt(ue(t)?t.call(this,this):t,ue(e)?e.call(this,this):e)}:e:t}function II(t,e){return Oi(mu(t),mu(e))}function mu(t){if(ce(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Pt(t,e){return t?[...new Set([].concat(t,e))]:e}function Oi(t,e){return t?rt(Object.create(null),t,e):e}function $d(t,e){return t?ce(t)&&ce(e)?[...new Set([...t,...e])]:rt(Object.create(null),Fd(t),Fd(e??{})):e}function AI(t,e){if(!t)return e;if(!e)return t;const n=rt(Object.create(null),t);for(const r in e)n[r]=Pt(t[r],e[r]);return n}function q_(){return{app:null,config:{isNativeTag:qg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bI=0;function RI(t,e){return function(r,s=null){ue(r)||(r=rt({},r)),s!=null&&!Ne(s)&&(s=null);const i=q_(),o=new WeakSet,c=[];let l=!1;const u=i.app={_uid:bI++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:cA,get config(){return i.config},set config(h){},use(h,...d){return o.has(h)||(h&&ue(h.install)?(o.add(h),h.install(u,...d)):ue(h)&&(o.add(h),h(u,...d))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,d){return d?(i.components[h]=d,u):i.components[h]},directive(h,d){return d?(i.directives[h]=d,u):i.directives[h]},mount(h,d,m){if(!l){const g=u._ceVNode||Qe(r,s);return g.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),t(g,h,m),l=!0,u._container=h,h.__vue_app__=u,xc(g.component)}},onUnmount(h){c.push(h)},unmount(){l&&(hn(c,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,d){return i.provides[h]=d,u},runWithContext(h){const d=as;as=u;try{return h()}finally{as=d}}};return u}}let as=null;function Hn(t,e){if(wt){let n=wt.provides;const r=wt.parent&&wt.parent.provides;r===n&&(n=wt.provides=Object.create(r)),n[t]=e}}function Be(t,e,n=!1){const r=ii();if(r||as){let s=as?as._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ue(e)?e.call(r&&r.proxy):e}}function SI(){return!!(ii()||as)}const W_={},G_=()=>Object.create(W_),z_=t=>Object.getPrototypeOf(t)===W_;function CI(t,e,n,r=!1){const s={},i=G_();t.propsDefaults=Object.create(null),K_(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:p_(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function PI(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,c=Te(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let d=0;d<h.length;d++){let m=h[d];if(Oc(t.emitsOptions,m))continue;const g=e[m];if(l)if(Se(i,m))g!==i[m]&&(i[m]=g,u=!0);else{const S=rn(m);s[S]=gu(l,c,S,g,t,!1)}else g!==i[m]&&(i[m]=g,u=!0)}}}else{K_(t,e,s,i)&&(u=!0);let h;for(const d in c)(!e||!Se(e,d)&&((h=Es(d))===d||!Se(e,h)))&&(l?n&&(n[d]!==void 0||n[h]!==void 0)&&(s[d]=gu(l,c,d,void 0,t,!0)):delete s[d]);if(i!==c)for(const d in i)(!e||!Se(e,d))&&(delete i[d],u=!0)}u&&Ln(t.attrs,"set","")}function K_(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,c;if(e)for(let l in e){if(ji(l))continue;const u=e[l];let h;s&&Se(s,h=rn(l))?!i||!i.includes(h)?n[h]=u:(c||(c={}))[h]=u:Oc(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Te(n),u=c||ke;for(let h=0;h<i.length;h++){const d=i[h];n[d]=gu(s,l,d,u[d],t,!Se(u,d))}}return o}function gu(t,e,n,r,s,i){const o=t[n];if(o!=null){const c=Se(o,"default");if(c&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ue(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const h=ko(s);r=u[n]=l.call(null,e),h()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!c?r=!1:o[1]&&(r===""||r===Es(n))&&(r=!0))}return r}const DI=new WeakMap;function Q_(t,e,n=!1){const r=n?DI:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},c=[];let l=!1;if(!ue(t)){const h=d=>{l=!0;const[m,g]=Q_(d,e,!0);rt(o,m),g&&c.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return Ne(t)&&r.set(t,Bs),Bs;if(ce(i))for(let h=0;h<i.length;h++){const d=rn(i[h]);jd(d)&&(o[d]=ke)}else if(i)for(const h in i){const d=rn(h);if(jd(d)){const m=i[h],g=o[d]=ce(m)||ue(m)?{type:m}:rt({},m),S=g.type;let P=!1,k=!0;if(ce(S))for(let C=0;C<S.length;++C){const O=S[C],V=ue(O)&&O.name;if(V==="Boolean"){P=!0;break}else V==="String"&&(k=!1)}else P=ue(S)&&S.name==="Boolean";g[0]=P,g[1]=k,(P||Se(g,"default"))&&c.push(d)}}const u=[o,c];return Ne(t)&&r.set(t,u),u}function jd(t){return t[0]!=="$"&&!ji(t)}const wh=t=>t==="_"||t==="_ctx"||t==="$stable",Ih=t=>ce(t)?t.map(Tn):[Tn(t)],kI=(t,e,n)=>{if(e._n)return e;const r=wa((...s)=>Ih(e(...s)),n);return r._c=!1,r},Y_=(t,e,n)=>{const r=t._ctx;for(const s in t){if(wh(s))continue;const i=t[s];if(ue(i))e[s]=kI(s,i,r);else if(i!=null){const o=Ih(i);e[s]=()=>o}}},X_=(t,e)=>{const n=Ih(e);t.slots.default=()=>n},J_=(t,e,n)=>{for(const r in e)(n||!wh(r))&&(t[r]=e[r])},NI=(t,e,n)=>{const r=t.slots=G_();if(t.vnode.shapeFlag&32){const s=e._;s?(J_(r,e,n),n&&Qg(r,"_",s,!0)):Y_(e,r)}else e&&X_(t,e)},OI=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=ke;if(r.shapeFlag&32){const c=e._;c?n&&c===1?i=!1:J_(s,e,n):(i=!e.$stable,Y_(e,s)),o=e}else e&&(X_(t,e),o={default:1});if(i)for(const c in s)!wh(c)&&o[c]==null&&delete s[c]},Dt=KI;function VI(t){return xI(t)}function xI(t,e){const n=wc();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:c,createComment:l,setText:u,setElementText:h,parentNode:d,nextSibling:m,setScopeId:g=In,insertStaticContent:S}=t,P=(w,R,D,B=null,j=null,L=null,X=void 0,W=null,q=!!R.dynamicChildren)=>{if(w===R)return;w&&!ns(w,R)&&(B=M(w),Ue(w,j,L,!0),w=null),R.patchFlag===-2&&(q=!1,R.dynamicChildren=null);const{type:H,ref:se,shapeFlag:J}=R;switch(H){case Vc:k(w,R,D,B);break;case Ot:C(w,R,D,B);break;case Ml:w==null&&O(R,D,B,X);break;case Yt:A(w,R,D,B,j,L,X,W,q);break;default:J&1?G(w,R,D,B,j,L,X,W,q):J&6?E(w,R,D,B,j,L,X,W,q):(J&64||J&128)&&H.process(w,R,D,B,j,L,X,W,q,te)}se!=null&&j?Gi(se,w&&w.ref,L,R||w,!R):se==null&&w&&w.ref!=null&&Gi(w.ref,null,L,w,!0)},k=(w,R,D,B)=>{if(w==null)r(R.el=c(R.children),D,B);else{const j=R.el=w.el;R.children!==w.children&&u(j,R.children)}},C=(w,R,D,B)=>{w==null?r(R.el=l(R.children||""),D,B):R.el=w.el},O=(w,R,D,B)=>{[w.el,w.anchor]=S(w.children,R,D,B,w.el,w.anchor)},V=({el:w,anchor:R},D,B)=>{let j;for(;w&&w!==R;)j=m(w),r(w,D,B),w=j;r(R,D,B)},F=({el:w,anchor:R})=>{let D;for(;w&&w!==R;)D=m(w),s(w),w=D;s(R)},G=(w,R,D,B,j,L,X,W,q)=>{if(R.type==="svg"?X="svg":R.type==="math"&&(X="mathml"),w==null)z(R,D,B,j,L,X,W,q);else{const H=w.el&&w.el._isVueCE?w.el:null;try{H&&H._beginPatch(),_(w,R,j,L,X,W,q)}finally{H&&H._endPatch()}}},z=(w,R,D,B,j,L,X,W)=>{let q,H;const{props:se,shapeFlag:J,transition:re,dirs:ie}=w;if(q=w.el=o(w.type,L,se&&se.is,se),J&8?h(q,w.children):J&16&&v(w.children,q,null,B,j,xl(w,L),X,W),ie&&Qr(w,null,B,"created"),T(q,w,w.scopeId,X,B),se){for(const Pe in se)Pe!=="value"&&!ji(Pe)&&i(q,Pe,null,se[Pe],L,B);"value"in se&&i(q,"value",null,se.value,L),(H=se.onVnodeBeforeMount)&&_n(H,B,w)}ie&&Qr(w,null,B,"beforeMount");const ge=MI(j,re);ge&&re.beforeEnter(q),r(q,R,D),((H=se&&se.onVnodeMounted)||ge||ie)&&Dt(()=>{H&&_n(H,B,w),ge&&re.enter(q),ie&&Qr(w,null,B,"mounted")},j)},T=(w,R,D,B,j)=>{if(D&&g(w,D),B)for(let L=0;L<B.length;L++)g(w,B[L]);if(j){let L=j.subTree;if(R===L||ny(L.type)&&(L.ssContent===R||L.ssFallback===R)){const X=j.vnode;T(w,X,X.scopeId,X.slotScopeIds,j.parent)}}},v=(w,R,D,B,j,L,X,W,q=0)=>{for(let H=q;H<w.length;H++){const se=w[H]=W?pr(w[H]):Tn(w[H]);P(null,se,R,D,B,j,L,X,W)}},_=(w,R,D,B,j,L,X)=>{const W=R.el=w.el;let{patchFlag:q,dynamicChildren:H,dirs:se}=R;q|=w.patchFlag&16;const J=w.props||ke,re=R.props||ke;let ie;if(D&&Yr(D,!1),(ie=re.onVnodeBeforeUpdate)&&_n(ie,D,R,w),se&&Qr(R,w,D,"beforeUpdate"),D&&Yr(D,!0),(J.innerHTML&&re.innerHTML==null||J.textContent&&re.textContent==null)&&h(W,""),H?I(w.dynamicChildren,H,W,D,B,xl(R,j),L):X||me(w,R,W,null,D,B,xl(R,j),L,!1),q>0){if(q&16)b(W,J,re,D,j);else if(q&2&&J.class!==re.class&&i(W,"class",null,re.class,j),q&4&&i(W,"style",J.style,re.style,j),q&8){const ge=R.dynamicProps;for(let Pe=0;Pe<ge.length;Pe++){const Ae=ge[Pe],mt=J[Ae],gt=re[Ae];(gt!==mt||Ae==="value")&&i(W,Ae,mt,gt,j,D)}}q&1&&w.children!==R.children&&h(W,R.children)}else!X&&H==null&&b(W,J,re,D,j);((ie=re.onVnodeUpdated)||se)&&Dt(()=>{ie&&_n(ie,D,R,w),se&&Qr(R,w,D,"updated")},B)},I=(w,R,D,B,j,L,X)=>{for(let W=0;W<R.length;W++){const q=w[W],H=R[W],se=q.el&&(q.type===Yt||!ns(q,H)||q.shapeFlag&198)?d(q.el):D;P(q,H,se,null,B,j,L,X,!0)}},b=(w,R,D,B,j)=>{if(R!==D){if(R!==ke)for(const L in R)!ji(L)&&!(L in D)&&i(w,L,R[L],null,j,B);for(const L in D){if(ji(L))continue;const X=D[L],W=R[L];X!==W&&L!=="value"&&i(w,L,W,X,j,B)}"value"in D&&i(w,"value",R.value,D.value,j)}},A=(w,R,D,B,j,L,X,W,q)=>{const H=R.el=w?w.el:c(""),se=R.anchor=w?w.anchor:c("");let{patchFlag:J,dynamicChildren:re,slotScopeIds:ie}=R;ie&&(W=W?W.concat(ie):ie),w==null?(r(H,D,B),r(se,D,B),v(R.children||[],D,se,j,L,X,W,q)):J>0&&J&64&&re&&w.dynamicChildren?(I(w.dynamicChildren,re,D,j,L,X,W),(R.key!=null||j&&R===j.subTree)&&Ah(w,R,!0)):me(w,R,D,se,j,L,X,W,q)},E=(w,R,D,B,j,L,X,W,q)=>{R.slotScopeIds=W,w==null?R.shapeFlag&512?j.ctx.activate(R,D,B,X,q):de(R,D,B,j,L,X,q):xe(w,R,q)},de=(w,R,D,B,j,L,X)=>{const W=w.component=tA(w,B,j);if(Pc(w)&&(W.ctx.renderer=te),nA(W,!1,X),W.asyncDep){if(j&&j.registerDep(W,be,X),!w.el){const q=W.subTree=Qe(Ot);C(null,q,R,D),w.placeholder=q.el}}else be(W,w,R,D,j,L,X)},xe=(w,R,D)=>{const B=R.component=w.component;if(GI(w,R,D))if(B.asyncDep&&!B.asyncResolved){le(B,R,D);return}else B.next=R,B.update();else R.el=w.el,B.vnode=R},be=(w,R,D,B,j,L,X)=>{const W=()=>{if(w.isMounted){let{next:J,bu:re,u:ie,parent:ge,vnode:Pe}=w;{const jt=Z_(w);if(jt){J&&(J.el=Pe.el,le(w,J,X)),jt.asyncDep.then(()=>{w.isUnmounted||W()});return}}let Ae=J,mt;Yr(w,!1),J?(J.el=Pe.el,le(w,J,X)):J=Pe,re&&Cl(re),(mt=J.props&&J.props.onVnodeBeforeUpdate)&&_n(mt,ge,J,Pe),Yr(w,!0);const gt=qd(w),$t=w.subTree;w.subTree=gt,P($t,gt,d($t.el),M($t),w,j,L),J.el=gt.el,Ae===null&&zI(w,gt.el),ie&&Dt(ie,j),(mt=J.props&&J.props.onVnodeUpdated)&&Dt(()=>_n(mt,ge,J,Pe),j)}else{let J;const{el:re,props:ie}=R,{bm:ge,m:Pe,parent:Ae,root:mt,type:gt}=w,$t=zi(R);Yr(w,!1),ge&&Cl(ge),!$t&&(J=ie&&ie.onVnodeBeforeMount)&&_n(J,Ae,R),Yr(w,!0);{mt.ce&&mt.ce._def.shadowRoot!==!1&&mt.ce._injectChildStyle(gt);const jt=w.subTree=qd(w);P(null,jt,D,B,w,j,L),R.el=jt.el}if(Pe&&Dt(Pe,j),!$t&&(J=ie&&ie.onVnodeMounted)){const jt=R;Dt(()=>_n(J,Ae,jt),j)}(R.shapeFlag&256||Ae&&zi(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&w.a&&Dt(w.a,j),w.isMounted=!0,R=D=B=null}};w.scope.on();const q=w.effect=new e_(W);w.scope.off();const H=w.update=q.run.bind(q),se=w.job=q.runIfDirty.bind(q);se.i=w,se.id=w.uid,q.scheduler=()=>vh(se),Yr(w,!0),H()},le=(w,R,D)=>{R.component=w;const B=w.vnode.props;w.vnode=R,w.next=null,PI(w,R.props,B,D),OI(w,R.children,D),Gn(),kd(w),zn()},me=(w,R,D,B,j,L,X,W,q=!1)=>{const H=w&&w.children,se=w?w.shapeFlag:0,J=R.children,{patchFlag:re,shapeFlag:ie}=R;if(re>0){if(re&128){Kt(H,J,D,B,j,L,X,W,q);return}else if(re&256){st(H,J,D,B,j,L,X,W,q);return}}ie&8?(se&16&&it(H,j,L),J!==H&&h(D,J)):se&16?ie&16?Kt(H,J,D,B,j,L,X,W,q):it(H,j,L,!0):(se&8&&h(D,""),ie&16&&v(J,D,B,j,L,X,W,q))},st=(w,R,D,B,j,L,X,W,q)=>{w=w||Bs,R=R||Bs;const H=w.length,se=R.length,J=Math.min(H,se);let re;for(re=0;re<J;re++){const ie=R[re]=q?pr(R[re]):Tn(R[re]);P(w[re],ie,D,null,j,L,X,W,q)}H>se?it(w,j,L,!0,!1,J):v(R,D,B,j,L,X,W,q,J)},Kt=(w,R,D,B,j,L,X,W,q)=>{let H=0;const se=R.length;let J=w.length-1,re=se-1;for(;H<=J&&H<=re;){const ie=w[H],ge=R[H]=q?pr(R[H]):Tn(R[H]);if(ns(ie,ge))P(ie,ge,D,null,j,L,X,W,q);else break;H++}for(;H<=J&&H<=re;){const ie=w[J],ge=R[re]=q?pr(R[re]):Tn(R[re]);if(ns(ie,ge))P(ie,ge,D,null,j,L,X,W,q);else break;J--,re--}if(H>J){if(H<=re){const ie=re+1,ge=ie<se?R[ie].el:B;for(;H<=re;)P(null,R[H]=q?pr(R[H]):Tn(R[H]),D,ge,j,L,X,W,q),H++}}else if(H>re)for(;H<=J;)Ue(w[H],j,L,!0),H++;else{const ie=H,ge=H,Pe=new Map;for(H=ge;H<=re;H++){const lt=R[H]=q?pr(R[H]):Tn(R[H]);lt.key!=null&&Pe.set(lt.key,H)}let Ae,mt=0;const gt=re-ge+1;let $t=!1,jt=0;const an=new Array(gt);for(H=0;H<gt;H++)an[H]=0;for(H=ie;H<=J;H++){const lt=w[H];if(mt>=gt){Ue(lt,j,L,!0);continue}let ot;if(lt.key!=null)ot=Pe.get(lt.key);else for(Ae=ge;Ae<=re;Ae++)if(an[Ae-ge]===0&&ns(lt,R[Ae])){ot=Ae;break}ot===void 0?Ue(lt,j,L,!0):(an[ot-ge]=H+1,ot>=jt?jt=ot:$t=!0,P(lt,R[ot],D,null,j,L,X,W,q),mt++)}const bs=$t?LI(an):Bs;for(Ae=bs.length-1,H=gt-1;H>=0;H--){const lt=ge+H,ot=R[lt],fi=R[lt+1],qr=lt+1<se?fi.el||fi.placeholder:B;an[H]===0?P(null,ot,D,qr,j,L,X,W,q):$t&&(Ae<0||H!==bs[Ae]?bt(ot,D,qr,2):Ae--)}}},bt=(w,R,D,B,j=null)=>{const{el:L,type:X,transition:W,children:q,shapeFlag:H}=w;if(H&6){bt(w.component.subTree,R,D,B);return}if(H&128){w.suspense.move(R,D,B);return}if(H&64){X.move(w,R,D,te);return}if(X===Yt){r(L,R,D);for(let J=0;J<q.length;J++)bt(q[J],R,D,B);r(w.anchor,R,D);return}if(X===Ml){V(w,R,D);return}if(B!==2&&H&1&&W)if(B===0)W.beforeEnter(L),r(L,R,D),Dt(()=>W.enter(L),j);else{const{leave:J,delayLeave:re,afterLeave:ie}=W,ge=()=>{w.ctx.isUnmounted?s(L):r(L,R,D)},Pe=()=>{L._isLeaving&&L[Mn](!0),J(L,()=>{ge(),ie&&ie()})};re?re(L,ge,Pe):Pe()}else r(L,R,D)},Ue=(w,R,D,B=!1,j=!1)=>{const{type:L,props:X,ref:W,children:q,dynamicChildren:H,shapeFlag:se,patchFlag:J,dirs:re,cacheIndex:ie}=w;if(J===-2&&(j=!1),W!=null&&(Gn(),Gi(W,null,D,w,!0),zn()),ie!=null&&(R.renderCache[ie]=void 0),se&256){R.ctx.deactivate(w);return}const ge=se&1&&re,Pe=!zi(w);let Ae;if(Pe&&(Ae=X&&X.onVnodeBeforeUnmount)&&_n(Ae,R,w),se&6)Rt(w.component,D,B);else{if(se&128){w.suspense.unmount(D,B);return}ge&&Qr(w,null,R,"beforeUnmount"),se&64?w.type.remove(w,R,D,te,B):H&&!H.hasOnce&&(L!==Yt||J>0&&J&64)?it(H,R,D,!1,!0):(L===Yt&&J&384||!j&&se&16)&&it(q,R,D),B&&Ut(w)}(Pe&&(Ae=X&&X.onVnodeUnmounted)||ge)&&Dt(()=>{Ae&&_n(Ae,R,w),ge&&Qr(w,null,R,"unmounted")},D)},Ut=w=>{const{type:R,el:D,anchor:B,transition:j}=w;if(R===Yt){Bt(D,B);return}if(R===Ml){F(w);return}const L=()=>{s(D),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(w.shapeFlag&1&&j&&!j.persisted){const{leave:X,delayLeave:W}=j,q=()=>X(D,L);W?W(w.el,L,q):q()}else L()},Bt=(w,R)=>{let D;for(;w!==R;)D=m(w),s(w),w=D;s(R)},Rt=(w,R,D)=>{const{bum:B,scope:j,job:L,subTree:X,um:W,m:q,a:H}=w;Hd(q),Hd(H),B&&Cl(B),j.stop(),L&&(L.flags|=8,Ue(X,w,R,D)),W&&Dt(W,R),Dt(()=>{w.isUnmounted=!0},R)},it=(w,R,D,B=!1,j=!1,L=0)=>{for(let X=L;X<w.length;X++)Ue(w[X],R,D,B,j)},M=w=>{if(w.shapeFlag&6)return M(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const R=m(w.anchor||w.el),D=R&&R[A_];return D?m(D):R};let Q=!1;const Y=(w,R,D)=>{w==null?R._vnode&&Ue(R._vnode,null,null,!0):P(R._vnode||null,w,R,null,null,null,D),R._vnode=w,Q||(Q=!0,kd(),T_(),Q=!1)},te={p:P,um:Ue,m:bt,r:Ut,mt:de,mc:v,pc:me,pbc:I,n:M,o:t};return{render:Y,hydrate:void 0,createApp:RI(Y)}}function xl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Yr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function MI(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ah(t,e,n=!1){const r=t.children,s=e.children;if(ce(r)&&ce(s))for(let i=0;i<r.length;i++){const o=r[i];let c=s[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[i]=pr(s[i]),c.el=o.el),!n&&c.patchFlag!==-2&&Ah(o,c)),c.type===Vc&&c.patchFlag!==-1&&(c.el=o.el),c.type===Ot&&!c.el&&(c.el=o.el)}}function LI(t){const e=t.slice(),n=[0];let r,s,i,o,c;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)c=i+o>>1,t[n[c]]<u?i=c+1:o=c;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Z_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Z_(e)}function Hd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const FI=Symbol.for("v-scx"),UI=()=>Be(FI);function Nc(t,e){return bh(t,null,e)}function tn(t,e,n){return bh(t,e,n)}function bh(t,e,n=ke){const{immediate:r,deep:s,flush:i,once:o}=n,c=rt({},n),l=e&&r||!e&&i!=="post";let u;if(ho){if(i==="sync"){const g=UI();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=In,g.resume=In,g.pause=In,g}}const h=wt;c.call=(g,S,P)=>hn(g,h,S,P);let d=!1;i==="post"?c.scheduler=g=>{Dt(g,h&&h.suspense)}:i!=="sync"&&(d=!0,c.scheduler=(g,S)=>{S?g():vh(g)}),c.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const m=rI(t,e,c);return ho&&(u?u.push(m):l&&m()),m}function BI(t,e,n){const r=this.proxy,s=$e(t)?t.includes(".")?ey(r,t):()=>r[t]:t.bind(r,r);let i;ue(e)?i=e:(i=e.handler,n=e);const o=ko(this),c=bh(s,i.bind(r),n);return o(),c}function ey(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const $I=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${rn(e)}Modifiers`]||t[`${Es(e)}Modifiers`];function jI(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ke;let s=n;const i=e.startsWith("update:"),o=i&&$I(r,e.slice(7));o&&(o.trim&&(s=n.map(h=>$e(h)?h.trim():h)),o.number&&(s=n.map(Tw)));let c,l=r[c=Sl(e)]||r[c=Sl(rn(e))];!l&&i&&(l=r[c=Sl(Es(e))]),l&&hn(l,t,6,s);const u=r[c+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,hn(u,t,6,s)}}const HI=new WeakMap;function ty(t,e,n=!1){const r=n?HI:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},c=!1;if(!ue(t)){const l=u=>{const h=ty(u,e,!0);h&&(c=!0,rt(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!c?(Ne(t)&&r.set(t,null),null):(ce(i)?i.forEach(l=>o[l]=null):rt(o,i),Ne(t)&&r.set(t,o),o)}function Oc(t,e){return!t||!vc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Se(t,e[0].toLowerCase()+e.slice(1))||Se(t,Es(e))||Se(t,e))}function qd(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:c,emit:l,render:u,renderCache:h,props:d,data:m,setupState:g,ctx:S,inheritAttrs:P}=t,k=$a(t);let C,O;try{if(n.shapeFlag&4){const F=s||r,G=F;C=Tn(u.call(G,F,h,d,g,m,S)),O=c}else{const F=e;C=Tn(F.length>1?F(d,{attrs:c,slots:o,emit:l}):F(d,null)),O=e.props?c:qI(c)}}catch(F){Qi.length=0,Rc(F,t,1),C=Qe(Ot)}let V=C;if(O&&P!==!1){const F=Object.keys(O),{shapeFlag:G}=V;F.length&&G&7&&(i&&F.some(ah)&&(O=WI(O,i)),V=Pr(V,O,!1,!0))}return n.dirs&&(V=Pr(V,null,!1,!0),V.dirs=V.dirs?V.dirs.concat(n.dirs):n.dirs),n.transition&&fs(V,n.transition),C=V,$a(k),C}const qI=t=>{let e;for(const n in t)(n==="class"||n==="style"||vc(n))&&((e||(e={}))[n]=t[n]);return e},WI=(t,e)=>{const n={};for(const r in t)(!ah(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function GI(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:c,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Wd(r,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let d=0;d<h.length;d++){const m=h[d];if(o[m]!==r[m]&&!Oc(u,m))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?Wd(r,o,u):!0:!!o;return!1}function Wd(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Oc(n,i))return!0}return!1}function zI({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const ny=t=>t.__isSuspense;function KI(t,e){e&&e.pendingBranch?ce(t)?e.effects.push(...t):e.effects.push(t):oI(t)}const Yt=Symbol.for("v-fgt"),Vc=Symbol.for("v-txt"),Ot=Symbol.for("v-cmt"),Ml=Symbol.for("v-stc"),Qi=[];let Wt=null;function _u(t=!1){Qi.push(Wt=t?null:[])}function QI(){Qi.pop(),Wt=Qi[Qi.length-1]||null}let uo=1;function qa(t,e=!1){uo+=t,t<0&&Wt&&e&&(Wt.hasOnce=!0)}function ry(t){return t.dynamicChildren=uo>0?Wt||Bs:null,QI(),uo>0&&Wt&&Wt.push(t),t}function WV(t,e,n,r,s,i){return ry(Er(t,e,n,r,s,i,!0))}function yu(t,e,n,r,s){return ry(Qe(t,e,n,r,s,!0))}function Wa(t){return t?t.__v_isVNode===!0:!1}function ns(t,e){return t.type===e.type&&t.key===e.key}const sy=({key:t})=>t??null,Aa=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$e(t)||We(t)||ue(t)?{i:qt,r:t,k:e,f:!!n}:t:null);function Er(t,e=null,n=null,r=0,s=null,i=t===Yt?0:1,o=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&sy(e),ref:e&&Aa(e),scopeId:I_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:qt};return c?(Rh(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=$e(n)?8:16),uo>0&&!o&&Wt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Wt.push(l),l}const Qe=YI;function YI(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===B_)&&(t=Ot),Wa(t)){const c=Pr(t,e,!0);return n&&Rh(c,n),uo>0&&!i&&Wt&&(c.shapeFlag&6?Wt[Wt.indexOf(t)]=c:Wt.push(c)),c.patchFlag=-2,c}if(aA(t)&&(t=t.__vccOpts),e){e=XI(e);let{class:c,style:l}=e;c&&!$e(c)&&(e.class=Po(c)),Ne(l)&&(_h(l)&&!ce(l)&&(l=rt({},l)),e.style=Ic(l))}const o=$e(t)?1:ny(t)?128:b_(t)?64:Ne(t)?4:ue(t)?2:0;return Er(t,e,n,r,s,o,i,!0)}function XI(t){return t?_h(t)||z_(t)?rt({},t):t:null}function Pr(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:c,transition:l}=t,u=e?iy(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&sy(u),ref:e&&e.ref?n&&i?ce(i)?i.concat(Aa(e)):[i,Aa(e)]:Aa(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Yt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Pr(t.ssContent),ssFallback:t.ssFallback&&Pr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&fs(h,l.clone(h)),h}function JI(t=" ",e=0){return Qe(Vc,null,t,e)}function GV(t="",e=!1){return e?(_u(),yu(Ot,null,t)):Qe(Ot,null,t)}function Tn(t){return t==null||typeof t=="boolean"?Qe(Ot):ce(t)?Qe(Yt,null,t.slice()):Wa(t)?pr(t):Qe(Vc,null,String(t))}function pr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Pr(t)}function Rh(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ce(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Rh(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!z_(e)?e._ctx=qt:s===3&&qt&&(qt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ue(e)?(e={default:e,_ctx:qt},n=32):(e=String(e),r&64?(n=16,e=[JI(e)]):n=8);t.children=e,t.shapeFlag|=n}function iy(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Po([e.class,r.class]));else if(s==="style")e.style=Ic([e.style,r.style]);else if(vc(s)){const i=e[s],o=r[s];o&&i!==o&&!(ce(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function _n(t,e,n,r=null){hn(t,e,7,[n,r])}const ZI=q_();let eA=0;function tA(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||ZI,i={uid:eA++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Zg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Q_(r,s),emitsOptions:ty(r,s),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:r.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=jI.bind(null,i),t.ce&&t.ce(i),i}let wt=null;const ii=()=>wt||qt;let Ga,vu;{const t=wc(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Ga=e("__VUE_INSTANCE_SETTERS__",n=>wt=n),vu=e("__VUE_SSR_SETTERS__",n=>ho=n)}const ko=t=>{const e=wt;return Ga(t),t.scope.on(),()=>{t.scope.off(),Ga(e)}},Gd=()=>{wt&&wt.scope.off(),Ga(null)};function oy(t){return t.vnode.shapeFlag&4}let ho=!1;function nA(t,e=!1,n=!1){e&&vu(e);const{props:r,children:s}=t.vnode,i=oy(t);CI(t,r,i,e),NI(t,s,n||e);const o=i?rA(t,e):void 0;return e&&vu(!1),o}function rA(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,vI);const{setup:r}=n;if(r){Gn();const s=t.setupContext=r.length>1?iA(t):null,i=ko(t),o=Do(r,t,0,[t.props,s]),c=Gg(o);if(zn(),i(),(c||t.sp)&&!zi(t)&&O_(t),c){if(o.then(Gd,Gd),e)return o.then(l=>{zd(t,l)}).catch(l=>{Rc(l,t,0)});t.asyncDep=o}else zd(t,o)}else ay(t)}function zd(t,e,n){ue(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ne(e)&&(t.setupState=g_(e)),ay(t)}function ay(t,e,n){const r=t.type;t.render||(t.render=r.render||In);{const s=ko(t);Gn();try{EI(t)}finally{zn(),s()}}}const sA={get(t,e){return Et(t,"get",""),t[e]}};function iA(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,sA),slots:t.slots,emit:t.emit,expose:e}}function xc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(g_(yh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ki)return Ki[n](t)},has(e,n){return n in e||n in Ki}})):t.proxy}function oA(t,e=!0){return ue(t)?t.displayName||t.name:t.name||e&&t.__name}function aA(t){return ue(t)&&"__vccOpts"in t}const we=(t,e)=>tI(t,e,ho);function Mc(t,e,n){try{qa(-1);const r=arguments.length;return r===2?Ne(e)&&!ce(e)?Wa(e)?Qe(t,null,[e]):Qe(t,e):Qe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Wa(n)&&(n=[n]),Qe(t,e,n))}finally{qa(1)}}const cA="3.5.24";let Eu;const Kd=typeof window<"u"&&window.trustedTypes;if(Kd)try{Eu=Kd.createPolicy("vue",{createHTML:t=>t})}catch{}const cy=Eu?t=>Eu.createHTML(t):t=>t,lA="http://www.w3.org/2000/svg",uA="http://www.w3.org/1998/Math/MathML",xn=typeof document<"u"?document:null,Qd=xn&&xn.createElement("template"),hA={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?xn.createElementNS(lA,t):e==="mathml"?xn.createElementNS(uA,t):n?xn.createElement(t,{is:n}):xn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>xn.createTextNode(t),createComment:t=>xn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>xn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Qd.innerHTML=cy(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=Qd.content;if(r==="svg"||r==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ar="transition",Ci="animation",Ks=Symbol("_vtc"),ly={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},uy=rt({},P_,ly),fA=t=>(t.displayName="Transition",t.props=uy,t),dA=fA((t,{slots:e})=>Mc(lI,hy(t),e)),Xr=(t,e=[])=>{ce(t)?t.forEach(n=>n(...e)):t&&t(...e)},Yd=t=>t?ce(t)?t.some(e=>e.length>1):t.length>1:!1;function hy(t){const e={};for(const A in t)A in ly||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:h=c,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,S=pA(s),P=S&&S[0],k=S&&S[1],{onBeforeEnter:C,onEnter:O,onEnterCancelled:V,onLeave:F,onLeaveCancelled:G,onBeforeAppear:z=C,onAppear:T=O,onAppearCancelled:v=V}=e,_=(A,E,de,xe)=>{A._enterCancelled=xe,hr(A,E?h:c),hr(A,E?u:o),de&&de()},I=(A,E)=>{A._isLeaving=!1,hr(A,d),hr(A,g),hr(A,m),E&&E()},b=A=>(E,de)=>{const xe=A?T:O,be=()=>_(E,A,de);Xr(xe,[E,be]),Xd(()=>{hr(E,A?l:i),yn(E,A?h:c),Yd(xe)||Jd(E,r,P,be)})};return rt(e,{onBeforeEnter(A){Xr(C,[A]),yn(A,i),yn(A,o)},onBeforeAppear(A){Xr(z,[A]),yn(A,l),yn(A,u)},onEnter:b(!1),onAppear:b(!0),onLeave(A,E){A._isLeaving=!0;const de=()=>I(A,E);yn(A,d),A._enterCancelled?(yn(A,m),Tu(A)):(Tu(A),yn(A,m)),Xd(()=>{A._isLeaving&&(hr(A,d),yn(A,g),Yd(F)||Jd(A,r,k,de))}),Xr(F,[A,de])},onEnterCancelled(A){_(A,!1,void 0,!0),Xr(V,[A])},onAppearCancelled(A){_(A,!0,void 0,!0),Xr(v,[A])},onLeaveCancelled(A){I(A),Xr(G,[A])}})}function pA(t){if(t==null)return null;if(Ne(t))return[Ll(t.enter),Ll(t.leave)];{const e=Ll(t);return[e,e]}}function Ll(t){return ww(t)}function yn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ks]||(t[Ks]=new Set)).add(e)}function hr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ks];n&&(n.delete(e),n.size||(t[Ks]=void 0))}function Xd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let mA=0;function Jd(t,e,n,r){const s=t._endId=++mA,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:c,propCount:l}=fy(t,e);if(!o)return r();const u=o+"end";let h=0;const d=()=>{t.removeEventListener(u,m),i()},m=g=>{g.target===t&&++h>=l&&d()};setTimeout(()=>{h<l&&d()},c+1),t.addEventListener(u,m)}function fy(t,e){const n=window.getComputedStyle(t),r=S=>(n[S]||"").split(", "),s=r(`${ar}Delay`),i=r(`${ar}Duration`),o=Zd(s,i),c=r(`${Ci}Delay`),l=r(`${Ci}Duration`),u=Zd(c,l);let h=null,d=0,m=0;e===ar?o>0&&(h=ar,d=o,m=i.length):e===Ci?u>0&&(h=Ci,d=u,m=l.length):(d=Math.max(o,u),h=d>0?o>u?ar:Ci:null,m=h?h===ar?i.length:l.length:0);const g=h===ar&&/\b(?:transform|all)(?:,|$)/.test(r(`${ar}Property`).toString());return{type:h,timeout:d,propCount:m,hasTransform:g}}function Zd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>ep(n)+ep(t[r])))}function ep(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Tu(t){return(t?t.ownerDocument:document).body.offsetHeight}function gA(t,e,n){const r=t[Ks];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const za=Symbol("_vod"),dy=Symbol("_vsh"),zV={name:"show",beforeMount(t,{value:e},{transition:n}){t[za]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Pi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Pi(t,!0),r.enter(t)):r.leave(t,()=>{Pi(t,!1)}):Pi(t,e))},beforeUnmount(t,{value:e}){Pi(t,e)}};function Pi(t,e){t.style.display=e?t[za]:"none",t[dy]=!e}const _A=Symbol(""),yA=/(?:^|;)\s*display\s*:/;function vA(t,e,n){const r=t.style,s=$e(n);let i=!1;if(n&&!s){if(e)if($e(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&ba(r,c,"")}else for(const o in e)n[o]==null&&ba(r,o,"");for(const o in n)o==="display"&&(i=!0),ba(r,o,n[o])}else if(s){if(e!==n){const o=r[_A];o&&(n+=";"+o),r.cssText=n,i=yA.test(n)}}else e&&t.removeAttribute("style");za in t&&(t[za]=i?r.display:"",t[dy]&&(r.display="none"))}const tp=/\s*!important$/;function ba(t,e,n){if(ce(n))n.forEach(r=>ba(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=EA(t,e);tp.test(n)?t.setProperty(Es(r),n.replace(tp,""),"important"):t[r]=n}}const np=["Webkit","Moz","ms"],Fl={};function EA(t,e){const n=Fl[e];if(n)return n;let r=rn(e);if(r!=="filter"&&r in t)return Fl[e]=r;r=Co(r);for(let s=0;s<np.length;s++){const i=np[s]+r;if(i in t)return Fl[e]=i}return e}const rp="http://www.w3.org/1999/xlink";function sp(t,e,n,r,s,i=Cw(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(rp,e.slice(6,e.length)):t.setAttributeNS(rp,e,n):n==null||i&&!Yg(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Lr(n)?String(n):n)}function ip(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?cy(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(c!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Yg(n):n==null&&c==="string"?(n="",o=!0):c==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function TA(t,e,n,r){t.addEventListener(e,n,r)}function wA(t,e,n,r){t.removeEventListener(e,n,r)}const op=Symbol("_vei");function IA(t,e,n,r,s=null){const i=t[op]||(t[op]={}),o=i[e];if(r&&o)o.value=r;else{const[c,l]=AA(e);if(r){const u=i[e]=SA(r,s);TA(t,c,u,l)}else o&&(wA(t,c,o,l),i[e]=void 0)}}const ap=/(?:Once|Passive|Capture)$/;function AA(t){let e;if(ap.test(t)){e={};let r;for(;r=t.match(ap);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Es(t.slice(2)),e]}let Ul=0;const bA=Promise.resolve(),RA=()=>Ul||(bA.then(()=>Ul=0),Ul=Date.now());function SA(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;hn(CA(r,n.value),e,5,[r])};return n.value=t,n.attached=RA(),n}function CA(t,e){if(ce(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const cp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,PA=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?gA(t,r,o):e==="style"?vA(t,n,r):vc(e)?ah(e)||IA(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):DA(t,e,r,o))?(ip(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&sp(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!$e(r))?ip(t,rn(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),sp(t,e,r,o))};function DA(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&cp(e)&&ue(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return cp(e)&&$e(n)?!1:e in t}const py=new WeakMap,my=new WeakMap,Ka=Symbol("_moveCb"),lp=Symbol("_enterCb"),kA=t=>(delete t.props.mode,t),NA=kA({name:"TransitionGroup",props:rt({},uy,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ii(),r=C_();let s,i;return L_(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!MA(s[0].el,n.vnode.el,o)){s=[];return}s.forEach(OA),s.forEach(VA);const c=s.filter(xA);Tu(n.vnode.el),c.forEach(l=>{const u=l.el,h=u.style;yn(u,o),h.transform=h.webkitTransform=h.transitionDuration="";const d=u[Ka]=m=>{m&&m.target!==u||(!m||m.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",d),u[Ka]=null,hr(u,o))};u.addEventListener("transitionend",d)}),s=[]}),()=>{const o=Te(t),c=hy(o);let l=o.tag||Yt;if(s=[],i)for(let u=0;u<i.length;u++){const h=i[u];h.el&&h.el instanceof Element&&(s.push(h),fs(h,lo(h,c,r,n)),py.set(h,{left:h.el.offsetLeft,top:h.el.offsetTop}))}i=e.default?Eh(e.default()):[];for(let u=0;u<i.length;u++){const h=i[u];h.key!=null&&fs(h,lo(h,c,r,n))}return Qe(l,null,i)}}}),KV=NA;function OA(t){const e=t.el;e[Ka]&&e[Ka](),e[lp]&&e[lp]()}function VA(t){my.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop})}function xA(t){const e=py.get(t),n=my.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function MA(t,e,n){const r=t.cloneNode(),s=t[Ks];s&&s.forEach(c=>{c.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(c=>c&&r.classList.add(c)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=fy(r);return i.removeChild(r),o}const LA=["ctrl","shift","alt","meta"],FA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>LA.some(n=>t[`${n}Key`]&&!e.includes(n))},QV=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const c=FA[e[o]];if(c&&c(s,e))return}return t(s,...i)}))},UA=rt({patchProp:PA},hA);let up;function BA(){return up||(up=VI(UA))}const $A=((...t)=>{const e=BA().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=HA(r);if(!s)return;const i=e._component;!ue(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,jA(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function jA(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function HA(t){return $e(t)?document.querySelector(t):t}let gy;const Lc=t=>gy=t,_y=Symbol();function wu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Yi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Yi||(Yi={}));function qA(){const t=io(!0),e=t.run(()=>on({}));let n=[],r=[];const s=yh({install(i){Lc(s),s._a=i,i.provide(_y,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const yy=()=>{};function hp(t,e,n,r=yy){t.add(e);const s=()=>{t.delete(e)&&r()};return!n&&uh()&&Ac(s),s}function Ds(t,...e){t.forEach(n=>{n(...e)})}const WA=t=>t(),fp=Symbol(),Bl=Symbol();function Iu(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];wu(s)&&wu(r)&&t.hasOwnProperty(n)&&!We(r)&&!Ir(r)?t[n]=Iu(s,r):t[n]=r}return t}const GA=Symbol();function zA(t){return!wu(t)||!Object.prototype.hasOwnProperty.call(t,GA)}const{assign:fr}=Object;function KA(t){return!!(We(t)&&t.effect)}function QA(t,e,n,r){const{state:s,actions:i,getters:o}=e,c=n.state.value[t];let l;function u(){c||(n.state.value[t]=s?s():{});const h=__(n.state.value[t]);return fr(h,i,Object.keys(o||{}).reduce((d,m)=>(d[m]=yh(we(()=>{Lc(n);const g=n._s.get(t);return o[m].call(g,g)})),d),{}))}return l=vy(t,u,e,n,r,!0),l}function vy(t,e,n={},r,s,i){let o;const c=fr({actions:{}},n),l={deep:!0};let u,h,d=new Set,m=new Set,g;const S=r.state.value[t];!i&&!S&&(r.state.value[t]={}),on({});let P;function k(v){let _;u=h=!1,typeof v=="function"?(v(r.state.value[t]),_={type:Yi.patchFunction,storeId:t,events:g}):(Iu(r.state.value[t],v),_={type:Yi.patchObject,payload:v,storeId:t,events:g});const I=P=Symbol();Sc().then(()=>{P===I&&(u=!0)}),h=!0,Ds(d,_,r.state.value[t])}const C=i?function(){const{state:_}=n,I=_?_():{};this.$patch(b=>{fr(b,I)})}:yy;function O(){o.stop(),d.clear(),m.clear(),r._s.delete(t)}const V=(v,_="")=>{if(fp in v)return v[Bl]=_,v;const I=function(){Lc(r);const b=Array.from(arguments),A=new Set,E=new Set;function de(le){A.add(le)}function xe(le){E.add(le)}Ds(m,{args:b,name:I[Bl],store:G,after:de,onError:xe});let be;try{be=v.apply(this&&this.$id===t?this:G,b)}catch(le){throw Ds(E,le),le}return be instanceof Promise?be.then(le=>(Ds(A,le),le)).catch(le=>(Ds(E,le),Promise.reject(le))):(Ds(A,be),be)};return I[fp]=!0,I[Bl]=_,I},F={_p:r,$id:t,$onAction:hp.bind(null,m),$patch:k,$reset:C,$subscribe(v,_={}){const I=hp(d,v,_.detached,()=>b()),b=o.run(()=>tn(()=>r.state.value[t],A=>{(_.flush==="sync"?h:u)&&v({storeId:t,type:Yi.direct,events:g},A)},fr({},l,_)));return I},$dispose:O},G=Mt(F);r._s.set(t,G);const T=(r._a&&r._a.runWithContext||WA)(()=>r._e.run(()=>(o=io()).run(()=>e({action:V}))));for(const v in T){const _=T[v];if(We(_)&&!KA(_)||Ir(_))i||(S&&zA(_)&&(We(_)?_.value=S[v]:Iu(_,S[v])),r.state.value[t][v]=_);else if(typeof _=="function"){const I=V(_,v);T[v]=I,c.actions[v]=_}}return fr(G,T),fr(Te(G),T),Object.defineProperty(G,"$state",{get:()=>r.state.value[t],set:v=>{k(_=>{fr(_,v)})}}),r._p.forEach(v=>{fr(G,o.run(()=>v({store:G,app:r._a,pinia:r,options:c})))}),S&&i&&n.hydrate&&n.hydrate(G.$state,S),u=!0,h=!0,G}function YA(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,c){const l=SI();return o=o||(l?Be(_y,null):null),o&&Lc(o),o=gy,o._s.has(t)||(s?vy(t,e,r,o):QA(t,r,o)),o._s.get(t)}return i.$id=t,i}const xs=typeof document<"u";function Ey(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function XA(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ey(t.default)}const Re=Object.assign;function $l(t,e){const n={};for(const r in e){const s=e[r];n[r]=fn(s)?s.map(t):t(s)}return n}const Xi=()=>{},fn=Array.isArray;function dp(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const Ty=/#/g,JA=/&/g,ZA=/\//g,eb=/=/g,tb=/\?/g,wy=/\+/g,nb=/%5B/g,rb=/%5D/g,Iy=/%5E/g,sb=/%60/g,Ay=/%7B/g,ib=/%7C/g,by=/%7D/g,ob=/%20/g;function Sh(t){return t==null?"":encodeURI(""+t).replace(ib,"|").replace(nb,"[").replace(rb,"]")}function ab(t){return Sh(t).replace(Ay,"{").replace(by,"}").replace(Iy,"^")}function Au(t){return Sh(t).replace(wy,"%2B").replace(ob,"+").replace(Ty,"%23").replace(JA,"%26").replace(sb,"`").replace(Ay,"{").replace(by,"}").replace(Iy,"^")}function cb(t){return Au(t).replace(eb,"%3D")}function lb(t){return Sh(t).replace(Ty,"%23").replace(tb,"%3F")}function ub(t){return lb(t).replace(ZA,"%2F")}function fo(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const hb=/\/$/,fb=t=>t.replace(hb,"");function jl(t,e,n="/"){let r,s={},i="",o="";const c=e.indexOf("#");let l=e.indexOf("?");return l=c>=0&&l>c?-1:l,l>=0&&(r=e.slice(0,l),i=e.slice(l,c>0?c:e.length),s=t(i.slice(1))),c>=0&&(r=r||e.slice(0,c),o=e.slice(c,e.length)),r=gb(r??e,n),{fullPath:r+i+o,path:r,query:s,hash:fo(o)}}function db(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function pp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function pb(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Qs(e.matched[r],n.matched[s])&&Ry(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Qs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ry(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!mb(t[n],e[n]))return!1;return!0}function mb(t,e){return fn(t)?mp(t,e):fn(e)?mp(e,t):t===e}function mp(t,e){return fn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function gb(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,c;for(o=0;o<r.length;o++)if(c=r[o],c!==".")if(c==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const cr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let bu=(function(t){return t.pop="pop",t.push="push",t})({}),Hl=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function _b(t){if(!t)if(xs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),fb(t)}const yb=/^[^#]+#/;function vb(t,e){return t.replace(yb,"#")+e}function Eb(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Fc=()=>({left:window.scrollX,top:window.scrollY});function Tb(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Eb(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function gp(t,e){return(history.state?history.state.position-e:-1)+t}const Ru=new Map;function wb(t,e){Ru.set(t,e)}function Ib(t){const e=Ru.get(t);return Ru.delete(t),e}function Ab(t){return typeof t=="string"||t&&typeof t=="object"}function Sy(t){return typeof t=="string"||typeof t=="symbol"}let qe=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Cy=Symbol("");qe.MATCHER_NOT_FOUND+"",qe.NAVIGATION_GUARD_REDIRECT+"",qe.NAVIGATION_ABORTED+"",qe.NAVIGATION_CANCELLED+"",qe.NAVIGATION_DUPLICATED+"";function Ys(t,e){return Re(new Error,{type:t,[Cy]:!0},e)}function On(t,e){return t instanceof Error&&Cy in t&&(e==null||!!(t.type&e))}const bb=["params","query","hash"];function Rb(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of bb)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function Sb(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(wy," "),i=s.indexOf("="),o=fo(i<0?s:s.slice(0,i)),c=i<0?null:fo(s.slice(i+1));if(o in e){let l=e[o];fn(l)||(l=e[o]=[l]),l.push(c)}else e[o]=c}return e}function _p(t){let e="";for(let n in t){const r=t[n];if(n=cb(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(fn(r)?r.map(s=>s&&Au(s)):[r&&Au(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function Cb(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=fn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Pb=Symbol(""),yp=Symbol(""),Uc=Symbol(""),Ch=Symbol(""),Su=Symbol("");function Di(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function mr(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((c,l)=>{const u=m=>{m===!1?l(Ys(qe.NAVIGATION_ABORTED,{from:n,to:e})):m instanceof Error?l(m):Ab(m)?l(Ys(qe.NAVIGATION_GUARD_REDIRECT,{from:e,to:m})):(o&&r.enterCallbacks[s]===o&&typeof m=="function"&&o.push(m),c())},h=i(()=>t.call(r&&r.instances[s],e,n,u));let d=Promise.resolve(h);t.length<3&&(d=d.then(u)),d.catch(m=>l(m))})}function ql(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const c in o.components){let l=o.components[c];if(!(e!=="beforeRouteEnter"&&!o.instances[c]))if(Ey(l)){const u=(l.__vccOpts||l)[e];u&&i.push(mr(u,n,r,o,c,s))}else{let u=l();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${c}" at "${o.path}"`);const d=XA(h)?h.default:h;o.mods[c]=h,o.components[c]=d;const m=(d.__vccOpts||d)[e];return m&&mr(m,n,r,o,c,s)()}))}}return i}function Db(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const c=e.matched[o];c&&(t.matched.find(u=>Qs(u,c))?r.push(c):n.push(c));const l=t.matched[o];l&&(e.matched.find(u=>Qs(u,l))||s.push(l))}return[n,r,s]}let kb=()=>location.protocol+"//"+location.host;function Py(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(o);return c[0]!=="/"&&(c="/"+c),pp(c,"")}return pp(n,t)+r+s}function Nb(t,e,n,r){let s=[],i=[],o=null;const c=({state:m})=>{const g=Py(t,location),S=n.value,P=e.value;let k=0;if(m){if(n.value=g,e.value=m,o&&o===S){o=null;return}k=P?m.position-P.position:0}else r(g);s.forEach(C=>{C(n.value,S,{delta:k,type:bu.pop,direction:k?k>0?Hl.forward:Hl.back:Hl.unknown})})};function l(){o=n.value}function u(m){s.push(m);const g=()=>{const S=s.indexOf(m);S>-1&&s.splice(S,1)};return i.push(g),g}function h(){if(document.visibilityState==="hidden"){const{history:m}=window;if(!m.state)return;m.replaceState(Re({},m.state,{scroll:Fc()}),"")}}function d(){for(const m of i)m();i=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",h),document.removeEventListener("visibilitychange",h)}return window.addEventListener("popstate",c),window.addEventListener("pagehide",h),document.addEventListener("visibilitychange",h),{pauseListeners:l,listen:u,destroy:d}}function vp(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Fc():null}}function Ob(t){const{history:e,location:n}=window,r={value:Py(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,h){const d=t.indexOf("#"),m=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:kb()+t+l;try{e[h?"replaceState":"pushState"](u,"",m),s.value=u}catch(g){console.error(g),n[h?"replace":"assign"](m)}}function o(l,u){i(l,Re({},e.state,vp(s.value.back,l,s.value.forward,!0),u,{position:s.value.position}),!0),r.value=l}function c(l,u){const h=Re({},s.value,e.state,{forward:l,scroll:Fc()});i(h.current,h,!0),i(l,Re({},vp(r.value,l,null),{position:h.position+1},u),!1),r.value=l}return{location:r,state:s,push:c,replace:o}}function Vb(t){t=_b(t);const e=Ob(t),n=Nb(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Re({location:"",base:t,go:r,createHref:vb.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}let rs=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var tt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(tt||{});const xb={type:rs.Static,value:""},Mb=/[a-zA-Z0-9_]/;function Lb(t){if(!t)return[[]];if(t==="/")return[[xb]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=tt.Static,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let c=0,l,u="",h="";function d(){u&&(n===tt.Static?i.push({type:rs.Static,value:u}):n===tt.Param||n===tt.ParamRegExp||n===tt.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:rs.Param,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function m(){u+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&n!==tt.ParamRegExp){r=n,n=tt.EscapeNext;continue}switch(n){case tt.Static:l==="/"?(u&&d(),o()):l===":"?(d(),n=tt.Param):m();break;case tt.EscapeNext:m(),n=r;break;case tt.Param:l==="("?n=tt.ParamRegExp:Mb.test(l)?m():(d(),n=tt.Static,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case tt.ParamRegExp:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=tt.ParamRegExpEnd:h+=l;break;case tt.ParamRegExpEnd:d(),n=tt.Static,l!=="*"&&l!=="?"&&l!=="+"&&c--,h="";break;default:e("Unknown state");break}}return n===tt.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),s}const Ep="[^/]+?",Fb={sensitive:!1,strict:!1,start:!0,end:!0};var kt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(kt||{});const Ub=/[.+*?^${}()[\]/\\]/g;function Bb(t,e){const n=Re({},Fb,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[kt.Root];n.strict&&!u.length&&(s+="/");for(let d=0;d<u.length;d++){const m=u[d];let g=kt.Segment+(n.sensitive?kt.BonusCaseSensitive:0);if(m.type===rs.Static)d||(s+="/"),s+=m.value.replace(Ub,"\\$&"),g+=kt.Static;else if(m.type===rs.Param){const{value:S,repeatable:P,optional:k,regexp:C}=m;i.push({name:S,repeatable:P,optional:k});const O=C||Ep;if(O!==Ep){g+=kt.BonusCustomRegExp;try{`${O}`}catch(F){throw new Error(`Invalid custom RegExp for param "${S}" (${O}): `+F.message)}}let V=P?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;d||(V=k&&u.length<2?`(?:/${V})`:"/"+V),k&&(V+="?"),s+=V,g+=kt.Dynamic,k&&(g+=kt.BonusOptional),P&&(g+=kt.BonusRepeatable),O===".*"&&(g+=kt.BonusWildcard)}h.push(g)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=kt.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function c(u){const h=u.match(o),d={};if(!h)return null;for(let m=1;m<h.length;m++){const g=h[m]||"",S=i[m-1];d[S.name]=g&&S.repeatable?g.split("/"):g}return d}function l(u){let h="",d=!1;for(const m of t){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const g of m)if(g.type===rs.Static)h+=g.value;else if(g.type===rs.Param){const{value:S,repeatable:P,optional:k}=g,C=S in u?u[S]:"";if(fn(C)&&!P)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const O=fn(C)?C.join("/"):C;if(!O)if(k)m.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${S}"`);h+=O}}return h||"/"}return{re:o,score:r,keys:i,parse:c,stringify:l}}function $b(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===kt.Static+kt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===kt.Static+kt.Segment?1:-1:0}function Dy(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=$b(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Tp(r))return 1;if(Tp(s))return-1}return s.length-r.length}function Tp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const jb={strict:!1,end:!0,sensitive:!1};function Hb(t,e,n){const r=Bb(Lb(t.path),n),s=Re(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function qb(t,e){const n=[],r=new Map;e=dp(jb,e);function s(d){return r.get(d)}function i(d,m,g){const S=!g,P=Ip(d);P.aliasOf=g&&g.record;const k=dp(e,d),C=[P];if("alias"in d){const F=typeof d.alias=="string"?[d.alias]:d.alias;for(const G of F)C.push(Ip(Re({},P,{components:g?g.record.components:P.components,path:G,aliasOf:g?g.record:P})))}let O,V;for(const F of C){const{path:G}=F;if(m&&G[0]!=="/"){const z=m.record.path,T=z[z.length-1]==="/"?"":"/";F.path=m.record.path+(G&&T+G)}if(O=Hb(F,m,k),g?g.alias.push(O):(V=V||O,V!==O&&V.alias.push(O),S&&d.name&&!Ap(O)&&o(d.name)),ky(O)&&l(O),P.children){const z=P.children;for(let T=0;T<z.length;T++)i(z[T],O,g&&g.children[T])}g=g||O}return V?()=>{o(V)}:Xi}function o(d){if(Sy(d)){const m=r.get(d);m&&(r.delete(d),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(d);m>-1&&(n.splice(m,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function c(){return n}function l(d){const m=zb(d,n);n.splice(m,0,d),d.record.name&&!Ap(d)&&r.set(d.record.name,d)}function u(d,m){let g,S={},P,k;if("name"in d&&d.name){if(g=r.get(d.name),!g)throw Ys(qe.MATCHER_NOT_FOUND,{location:d});k=g.record.name,S=Re(wp(m.params,g.keys.filter(V=>!V.optional).concat(g.parent?g.parent.keys.filter(V=>V.optional):[]).map(V=>V.name)),d.params&&wp(d.params,g.keys.map(V=>V.name))),P=g.stringify(S)}else if(d.path!=null)P=d.path,g=n.find(V=>V.re.test(P)),g&&(S=g.parse(P),k=g.record.name);else{if(g=m.name?r.get(m.name):n.find(V=>V.re.test(m.path)),!g)throw Ys(qe.MATCHER_NOT_FOUND,{location:d,currentLocation:m});k=g.record.name,S=Re({},m.params,d.params),P=g.stringify(S)}const C=[];let O=g;for(;O;)C.unshift(O.record),O=O.parent;return{name:k,path:P,params:S,matched:C,meta:Gb(C)}}t.forEach(d=>i(d));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:c,getRecordMatcher:s}}function wp(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Ip(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Wb(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Wb(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Ap(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Gb(t){return t.reduce((e,n)=>Re(e,n.meta),{})}function zb(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;Dy(t,e[i])<0?r=i:n=i+1}const s=Kb(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function Kb(t){let e=t;for(;e=e.parent;)if(ky(e)&&Dy(t,e)===0)return e}function ky({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function bp(t){const e=Be(Uc),n=Be(Ch),r=we(()=>{const l=Jt(t.to);return e.resolve(l)}),s=we(()=>{const{matched:l}=r.value,{length:u}=l,h=l[u-1],d=n.matched;if(!h||!d.length)return-1;const m=d.findIndex(Qs.bind(null,h));if(m>-1)return m;const g=Rp(l[u-2]);return u>1&&Rp(h)===g&&d[d.length-1].path!==g?d.findIndex(Qs.bind(null,l[u-2])):m}),i=we(()=>s.value>-1&&Zb(n.params,r.value.params)),o=we(()=>s.value>-1&&s.value===n.matched.length-1&&Ry(n.params,r.value.params));function c(l={}){if(Jb(l)){const u=e[Jt(t.replace)?"replace":"push"](Jt(t.to)).catch(Xi);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:we(()=>r.value.href),isActive:i,isExactActive:o,navigate:c}}function Qb(t){return t.length===1?t[0]:t}const Yb=Cc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:bp,setup(t,{slots:e}){const n=Mt(bp(t)),{options:r}=Be(Uc),s=we(()=>({[Sp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Sp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&Qb(e.default(n));return t.custom?i:Mc("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Xb=Yb;function Jb(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Zb(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!fn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Rp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Sp=(t,e,n)=>t??e??n,e0=Cc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Be(Su),s=we(()=>t.route||r.value),i=Be(yp,0),o=we(()=>{let u=Jt(i);const{matched:h}=s.value;let d;for(;(d=h[u])&&!d.components;)u++;return u}),c=we(()=>s.value.matched[o.value]);Hn(yp,we(()=>o.value+1)),Hn(Pb,c),Hn(Su,s);const l=on();return tn(()=>[l.value,c.value,t.name],([u,h,d],[m,g,S])=>{h&&(h.instances[d]=u,g&&g!==h&&u&&u===m&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),u&&h&&(!g||!Qs(h,g)||!m)&&(h.enterCallbacks[d]||[]).forEach(P=>P(u))},{flush:"post"}),()=>{const u=s.value,h=t.name,d=c.value,m=d&&d.components[h];if(!m)return Cp(n.default,{Component:m,route:u});const g=d.props[h],S=g?g===!0?u.params:typeof g=="function"?g(u):g:null,k=Mc(m,Re({},S,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(d.instances[h]=null)},ref:l}));return Cp(n.default,{Component:k,route:u})||k}}});function Cp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Ny=e0;function t0(t){const e=qb(t.routes,t),n=t.parseQuery||Sb,r=t.stringifyQuery||_p,s=t.history,i=Di(),o=Di(),c=Di(),l=en(cr);let u=cr;xs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=$l.bind(null,M=>""+M),d=$l.bind(null,ub),m=$l.bind(null,fo);function g(M,Q){let Y,te;return Sy(M)?(Y=e.getRecordMatcher(M),te=Q):te=M,e.addRoute(te,Y)}function S(M){const Q=e.getRecordMatcher(M);Q&&e.removeRoute(Q)}function P(){return e.getRoutes().map(M=>M.record)}function k(M){return!!e.getRecordMatcher(M)}function C(M,Q){if(Q=Re({},Q||l.value),typeof M=="string"){const D=jl(n,M,Q.path),B=e.resolve({path:D.path},Q),j=s.createHref(D.fullPath);return Re(D,B,{params:m(B.params),hash:fo(D.hash),redirectedFrom:void 0,href:j})}let Y;if(M.path!=null)Y=Re({},M,{path:jl(n,M.path,Q.path).path});else{const D=Re({},M.params);for(const B in D)D[B]==null&&delete D[B];Y=Re({},M,{params:d(D)}),Q.params=d(Q.params)}const te=e.resolve(Y,Q),_e=M.hash||"";te.params=h(m(te.params));const w=db(r,Re({},M,{hash:ab(_e),path:te.path})),R=s.createHref(w);return Re({fullPath:w,hash:_e,query:r===_p?Cb(M.query):M.query||{}},te,{redirectedFrom:void 0,href:R})}function O(M){return typeof M=="string"?jl(n,M,l.value.path):Re({},M)}function V(M,Q){if(u!==M)return Ys(qe.NAVIGATION_CANCELLED,{from:Q,to:M})}function F(M){return T(M)}function G(M){return F(Re(O(M),{replace:!0}))}function z(M,Q){const Y=M.matched[M.matched.length-1];if(Y&&Y.redirect){const{redirect:te}=Y;let _e=typeof te=="function"?te(M,Q):te;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=O(_e):{path:_e},_e.params={}),Re({query:M.query,hash:M.hash,params:_e.path!=null?{}:M.params},_e)}}function T(M,Q){const Y=u=C(M),te=l.value,_e=M.state,w=M.force,R=M.replace===!0,D=z(Y,te);if(D)return T(Re(O(D),{state:typeof D=="object"?Re({},_e,D.state):_e,force:w,replace:R}),Q||Y);const B=Y;B.redirectedFrom=Q;let j;return!w&&pb(r,te,Y)&&(j=Ys(qe.NAVIGATION_DUPLICATED,{to:B,from:te}),bt(te,te,!0,!1)),(j?Promise.resolve(j):I(B,te)).catch(L=>On(L)?On(L,qe.NAVIGATION_GUARD_REDIRECT)?L:Kt(L):me(L,B,te)).then(L=>{if(L){if(On(L,qe.NAVIGATION_GUARD_REDIRECT))return T(Re({replace:R},O(L.to),{state:typeof L.to=="object"?Re({},_e,L.to.state):_e,force:w}),Q||B)}else L=A(B,te,!0,R,_e);return b(B,te,L),L})}function v(M,Q){const Y=V(M,Q);return Y?Promise.reject(Y):Promise.resolve()}function _(M){const Q=Bt.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(M):M()}function I(M,Q){let Y;const[te,_e,w]=Db(M,Q);Y=ql(te.reverse(),"beforeRouteLeave",M,Q);for(const D of te)D.leaveGuards.forEach(B=>{Y.push(mr(B,M,Q))});const R=v.bind(null,M,Q);return Y.push(R),it(Y).then(()=>{Y=[];for(const D of i.list())Y.push(mr(D,M,Q));return Y.push(R),it(Y)}).then(()=>{Y=ql(_e,"beforeRouteUpdate",M,Q);for(const D of _e)D.updateGuards.forEach(B=>{Y.push(mr(B,M,Q))});return Y.push(R),it(Y)}).then(()=>{Y=[];for(const D of w)if(D.beforeEnter)if(fn(D.beforeEnter))for(const B of D.beforeEnter)Y.push(mr(B,M,Q));else Y.push(mr(D.beforeEnter,M,Q));return Y.push(R),it(Y)}).then(()=>(M.matched.forEach(D=>D.enterCallbacks={}),Y=ql(w,"beforeRouteEnter",M,Q,_),Y.push(R),it(Y))).then(()=>{Y=[];for(const D of o.list())Y.push(mr(D,M,Q));return Y.push(R),it(Y)}).catch(D=>On(D,qe.NAVIGATION_CANCELLED)?D:Promise.reject(D))}function b(M,Q,Y){c.list().forEach(te=>_(()=>te(M,Q,Y)))}function A(M,Q,Y,te,_e){const w=V(M,Q);if(w)return w;const R=Q===cr,D=xs?history.state:{};Y&&(te||R?s.replace(M.fullPath,Re({scroll:R&&D&&D.scroll},_e)):s.push(M.fullPath,_e)),l.value=M,bt(M,Q,Y,R),Kt()}let E;function de(){E||(E=s.listen((M,Q,Y)=>{if(!Rt.listening)return;const te=C(M),_e=z(te,Rt.currentRoute.value);if(_e){T(Re(_e,{replace:!0,force:!0}),te).catch(Xi);return}u=te;const w=l.value;xs&&wb(gp(w.fullPath,Y.delta),Fc()),I(te,w).catch(R=>On(R,qe.NAVIGATION_ABORTED|qe.NAVIGATION_CANCELLED)?R:On(R,qe.NAVIGATION_GUARD_REDIRECT)?(T(Re(O(R.to),{force:!0}),te).then(D=>{On(D,qe.NAVIGATION_ABORTED|qe.NAVIGATION_DUPLICATED)&&!Y.delta&&Y.type===bu.pop&&s.go(-1,!1)}).catch(Xi),Promise.reject()):(Y.delta&&s.go(-Y.delta,!1),me(R,te,w))).then(R=>{R=R||A(te,w,!1),R&&(Y.delta&&!On(R,qe.NAVIGATION_CANCELLED)?s.go(-Y.delta,!1):Y.type===bu.pop&&On(R,qe.NAVIGATION_ABORTED|qe.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),b(te,w,R)}).catch(Xi)}))}let xe=Di(),be=Di(),le;function me(M,Q,Y){Kt(M);const te=be.list();return te.length?te.forEach(_e=>_e(M,Q,Y)):console.error(M),Promise.reject(M)}function st(){return le&&l.value!==cr?Promise.resolve():new Promise((M,Q)=>{xe.add([M,Q])})}function Kt(M){return le||(le=!M,de(),xe.list().forEach(([Q,Y])=>M?Y(M):Q()),xe.reset()),M}function bt(M,Q,Y,te){const{scrollBehavior:_e}=t;if(!xs||!_e)return Promise.resolve();const w=!Y&&Ib(gp(M.fullPath,0))||(te||!Y)&&history.state&&history.state.scroll||null;return Sc().then(()=>_e(M,Q,w)).then(R=>R&&Tb(R)).catch(R=>me(R,M,Q))}const Ue=M=>s.go(M);let Ut;const Bt=new Set,Rt={currentRoute:l,listening:!0,addRoute:g,removeRoute:S,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:P,resolve:C,options:t,push:F,replace:G,go:Ue,back:()=>Ue(-1),forward:()=>Ue(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:be.add,isReady:st,install(M){M.component("RouterLink",Xb),M.component("RouterView",Ny),M.config.globalProperties.$router=Rt,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>Jt(l)}),xs&&!Ut&&l.value===cr&&(Ut=!0,F(s.location).catch(te=>{}));const Q={};for(const te in cr)Object.defineProperty(Q,te,{get:()=>l.value[te],enumerable:!0});M.provide(Uc,Rt),M.provide(Ch,p_(Q)),M.provide(Su,l);const Y=M.unmount;Bt.add(M),M.unmount=function(){Bt.delete(M),Bt.size<1&&(u=cr,E&&E(),E=null,l.value=cr,Ut=!1,le=!1),Y()}}};function it(M){return M.reduce((Q,Y)=>Q.then(()=>_(Y)),Promise.resolve())}return Rt}function YV(){return Be(Uc)}function XV(t){return Be(Ch)}function Fr(t,e){return n=>Object.keys(t).reduce((r,s)=>{const o=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?r[s]={...o,default:n[s]}:r[s]=o,e&&!r[s].source&&(r[s].source=e),r},{})}const n0=Fr({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function r0(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const Vt=typeof window<"u",JV=Vt&&"IntersectionObserver"in window,s0=Vt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),Oy=Vt&&"matchMedia"in window&&typeof window.matchMedia=="function",i0=()=>Oy&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;function Pp(t,e,n){o0(t,e),e.set(t,n)}function o0(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Dp(t,e,n){return t.set(Vy(t,e),n),n}function Vn(t,e){return t.get(Vy(t,e))}function Vy(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function xy(t,e,n){const r=e.length-1;if(r<0)return t===void 0?n:t;for(let s=0;s<r;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[r]]===void 0?n:t[e[r]]}function Cu(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),xy(t,e.split("."),n))}function ZV(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return Cu(t,e,n);if(Array.isArray(e))return xy(t,e,n);if(typeof e!="function")return n;const r=e(t,n);return typeof r>"u"?n:r}function My(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,r)=>e+r)}function la(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(t==null||t==="")return;const n=Number(t);return isNaN(n)?String(t):isFinite(n)?`${n}${e}`:void 0}function ex(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function kp(t){let e;return t!==null&&typeof t=="object"&&((e=Object.getPrototypeOf(t))===Object.prototype||e===null)}function Ly(t){if(t&&"$el"in t){const e=t.$el;return e?.nodeType===Node.TEXT_NODE?e.nextElementSibling:e}return t}function Wl(t,e){return e.every(n=>t.hasOwnProperty(n))}function a0(t,e){const n={};for(const r of e)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function Np(t,e,n){const r=Object.create(null),s=Object.create(null);for(const i in t)e.some(o=>o instanceof RegExp?o.test(i):o===i)?r[i]=t[i]:s[i]=t[i];return[r,s]}function Fy(t,e){const n={...t};return e.forEach(r=>delete n[r]),n}const Uy=/^on[^a-z]/,tx=t=>Uy.test(t),c0=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function nx(t){const[e,n]=Np(t,[Uy]),r=Fy(e,c0),[s,i]=Np(n,["class","style","id",/^data-/]);return Object.assign(s,e),Object.assign(i,r),[s,i]}function rx(t){return t==null?[]:Array.isArray(t)?t:[t]}function Ph(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function Op(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function Vp(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function l0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<t.length;)n.push(t.substr(r,e)),r+=e;return n}function sx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(t)>=e&&r<n.length-1;)t/=e,++r;return`${t.toFixed(1)} ${n[r]}B`}function It(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const s in t)r[s]=t[s];for(const s in e){const i=t[s],o=e[s];if(kp(i)&&kp(o)){r[s]=It(i,o,n);continue}if(n&&Array.isArray(i)&&Array.isArray(o)){r[s]=n(i,o);continue}r[s]=o}return r}function u0(t){return t.map(e=>e.type===Yt?u0(e.children):e).flat()}function cs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(cs.cache.has(t))return cs.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return cs.cache.set(t,e),e}cs.cache=new Map;function Vi(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>Vi(t,n)).flat(1);if(e.suspense)return Vi(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>Vi(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return Vi(t,e.component.subTree).flat(1)}return[]}var ks=new WeakMap,Jr=new WeakMap;class ix{constructor(e){Pp(this,ks,[]),Pp(this,Jr,0),this.size=e}get isFull(){return Vn(ks,this).length===this.size}push(e){Vn(ks,this)[Vn(Jr,this)]=e,Dp(Jr,this,(Vn(Jr,this)+1)%this.size)}values(){return Vn(ks,this).slice(Vn(Jr,this)).concat(Vn(ks,this).slice(0,Vn(Jr,this)))}clear(){Vn(ks,this).length=0,Dp(Jr,this,0)}}function ox(t){const e=Mt({});Nc(()=>{const r=t();for(const s in r)e[s]=r[s]},{flush:"sync"});const n={};for(const r in e)n[r]=ft(()=>e[r]);return n}function ax(t,e){return t.includes(e)}function cx(t){return t[2].toLowerCase()+t.slice(3)}const lx=()=>[Function,Array];function ux(t,e){return e="on"+Co(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function hx(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function h0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","details:not(:has(> summary))","details > summary","[tabindex]",'[contenteditable]:not([contenteditable="false"])',"audio[controls]","video[controls]"].map(s=>`${s}${e?':not([tabindex="-1"])':""}:not([disabled], [inert])`).join(", ");let r;try{r=[...t.querySelectorAll(n)]}catch{return[]}return r.filter(s=>!s.closest("[inert]")).filter(s=>!!s.offsetParent||s.getClientRects().length>0).filter(s=>!s.parentElement?.closest("details:not([open])")||s.tagName==="SUMMARY"&&s.parentElement?.tagName==="DETAILS")}function f0(t,e,n){let r,s=t.indexOf(document.activeElement);const i=e==="next"?1:-1;do s+=i,r=t[s];while((!r||r.offsetParent==null||!(n?.(r)??!0))&&s<t.length&&s>=0);return r}function d0(t,e){const n=h0(t);if(e==null)(t===document.activeElement||!t.contains(document.activeElement))&&n[0]?.focus();else if(e==="first")n[0]?.focus();else if(e==="last")n.at(-1)?.focus();else if(typeof e=="number")n[e]?.focus();else{const r=f0(n,e);r?r.focus():d0(t,e==="next"?"first":"last")}}function fx(t,e){if(!(Vt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function dx(t,e){if(!Vt||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function px(t,e){const n=t.clientX,r=t.clientY,s=e.getBoundingClientRect(),i=s.left,o=s.top,c=s.right,l=s.bottom;return n>=i&&n<=c&&r>=o&&r<=l}function p0(){const t=en(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>Ly(t.value)}),e}function mx(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"}function gx(t){const e=["checked","disabled"];return Object.fromEntries(Object.entries(t).filter(n=>{let[r,s]=n;return e.includes(r)?!!s:s!==void 0}))}const Ns=2.4,xp=.2126729,Mp=.7151522,Lp=.072175,m0=.55,g0=.58,_0=.57,y0=.62,ua=.03,Fp=1.45,v0=5e-4,E0=1.25,T0=1.25,Up=.078,Bp=12.82051282051282,ha=.06,$p=.001;function jp(t,e){const n=(t.r/255)**Ns,r=(t.g/255)**Ns,s=(t.b/255)**Ns,i=(e.r/255)**Ns,o=(e.g/255)**Ns,c=(e.b/255)**Ns;let l=n*xp+r*Mp+s*Lp,u=i*xp+o*Mp+c*Lp;if(l<=ua&&(l+=(ua-l)**Fp),u<=ua&&(u+=(ua-u)**Fp),Math.abs(u-l)<v0)return 0;let h;if(u>l){const d=(u**m0-l**g0)*E0;h=d<$p?0:d<Up?d-d*Bp*ha:d-ha}else{const d=(u**y0-l**_0)*T0;h=d>-$p?0:d>-Up?d-d*Bp*ha:d+ha}return h*100}const Qa=.20689655172413793,w0=t=>t>Qa**3?Math.cbrt(t):t/(3*Qa**2)+4/29,I0=t=>t>Qa?t**3:3*Qa**2*(t-4/29);function By(t){const e=w0,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function $y(t){const e=I0,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const A0=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],b0=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,R0=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],S0=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function jy(t){const e=Array(3),n=b0,r=A0;for(let s=0;s<3;++s)e[s]=Math.round(Ph(n(r[s][0]*t[0]+r[s][1]*t[1]+r[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function Dh(t){let{r:e,g:n,b:r}=t;const s=[0,0,0],i=S0,o=R0;e=i(e/255),n=i(n/255),r=i(r/255);for(let c=0;c<3;++c)s[c]=o[c][0]*e+o[c][1]*n+o[c][2]*r;return s}function C0(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function _x(t){return C0(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const Hp=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,P0={rgb:(t,e,n,r)=>({r:t,g:e,b:n,a:r}),rgba:(t,e,n,r)=>({r:t,g:e,b:n,a:r}),hsl:(t,e,n,r)=>qp({h:t,s:e,l:n,a:r}),hsla:(t,e,n,r)=>qp({h:t,s:e,l:n,a:r}),hsv:(t,e,n,r)=>po({h:t,s:e,v:n,a:r}),hsva:(t,e,n,r)=>po({h:t,s:e,v:n,a:r})};function Bn(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&Hp.test(t)){const{groups:e}=t.match(Hp),{fn:n,values:r}=e,s=r.split(/,\s*|\s*\/\s*|\s+/).map((i,o)=>i.endsWith("%")||o>0&&o<3&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(i)/100:parseFloat(i));return P0[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),k0(e)}else if(typeof t=="object"){if(Wl(t,["r","g","b"]))return t;if(Wl(t,["h","s","l"]))return po(Hy(t));if(Wl(t,["h","s","v"]))return po(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function po(t){const{h:e,s:n,v:r,a:s}=t,i=c=>{const l=(c+e/60)%6;return r-r*n*Math.max(Math.min(l,4-l,1),0)},o=[i(5),i(3),i(1)].map(c=>Math.round(c*255));return{r:o[0],g:o[1],b:o[2],a:s}}function qp(t){return po(Hy(t))}function Hy(t){const{h:e,s:n,l:r,a:s}=t,i=r+n*Math.min(r,1-r),o=i===0?0:2-2*r/i;return{h:e,s:o,v:i,a:s}}function fa(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function D0(t){let{r:e,g:n,b:r,a:s}=t;return`#${[fa(e),fa(n),fa(r),s!==void 0?fa(Math.round(s*255)):""].join("")}`}function k0(t){t=N0(t);let[e,n,r,s]=l0(t,2).map(i=>parseInt(i,16));return s=s===void 0?s:s/255,{r:e,g:n,b:r,a:s}}function N0(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=Op(Op(t,6),8,"F")),t}function O0(t,e){const n=By(Dh(t));return n[0]=n[0]+e*10,jy($y(n))}function V0(t,e){const n=By(Dh(t));return n[0]=n[0]-e*10,jy($y(n))}function x0(t){const e=Bn(t);return Dh(e)[1]}function M0(t){const e=Math.abs(jp(Bn(0),Bn(t)));return Math.abs(jp(Bn(16777215),Bn(t)))>Math.min(e,50)?"#fff":"#000"}function Zn(t,e){const n=ii();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function L0(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Zn(t).type;return cs(e?.aliasName||e?.name)}function F0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zn("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const Xs=Symbol.for("vuetify:defaults");function U0(t){return on(t)}function kh(){const t=Be(Xs);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function yx(t,e){const n=kh(),r=on(t),s=we(()=>{if(Jt(e?.disabled))return n.value;const o=Jt(e?.scoped),c=Jt(e?.reset),l=Jt(e?.root);if(r.value==null&&!(o||c||l))return n.value;let u=It(r.value,{prev:n.value});if(o)return u;if(c||l){const h=Number(c||1/0);for(let d=0;d<=h&&!(!u||!("prev"in u));d++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=It(It(u,{prev:u}),u[l])),u}return u.prev?It(u.prev,u):u});return Hn(Xs,s),s}function B0(t,e){return t.props&&(typeof t.props[e]<"u"||typeof t.props[cs(e)]<"u")}function $0(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kh();const r=Zn("useDefaults");if(e=e??r.type.name??r.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=we(()=>n.value?.[t._as??e]),i=new Proxy(t,{get(l,u){const h=Reflect.get(l,u);if(u==="class"||u==="style")return[s.value?.[u],h].filter(g=>g!=null);if(B0(r.vnode,u))return h;const d=s.value?.[u];if(d!==void 0)return d;const m=n.value?.global?.[u];return m!==void 0?m:h}}),o=en();Nc(()=>{if(s.value){const l=Object.entries(s.value).filter(u=>{let[h]=u;return h.startsWith(h[0].toUpperCase())});o.value=l.length?Object.fromEntries(l):void 0}else o.value=void 0});function c(){const l=F0(Xs,r);Hn(Xs,we(()=>o.value?It(l?.value??{},o.value):l?.value))}return{props:i,provideSubDefaults:c}}function No(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=Fr(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(r){return a0(r,e)},t.props._as=String,t.setup=function(r,s){const i=kh();if(!i.value)return t._setup(r,s);const{props:o,provideSubDefaults:c}=$0(r,r._as??t.name,i),l=t._setup(o,s);return c(),l}}return t}function qy(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?No:Cc)(e)}const vx="cubic-bezier(0.4, 0, 0.2, 1)",Ex="cubic-bezier(0.0, 0, 0.2, 1)",Tx="cubic-bezier(0.4, 0, 1, 1)",j0={linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5,instant:t=>1};function H0(t){const e=Zn("useRender");e.render=t}function q0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=p0(),r=on();if(Vt){const s=new ResizeObserver(i=>{t?.(i,s),i.length&&(e==="content"?r.value=i[0].contentRect:r.value=i[0].target.getBoundingClientRect())});kc(()=>{s.disconnect()}),tn(()=>n.el,(i,o)=>{o&&(s.unobserve(o),r.value=void 0),i&&s.observe(i)},{flush:"post"})}return{resizeRef:n,contentRect:La(r)}}const Ya=Symbol.for("vuetify:layout"),Wy=Symbol.for("vuetify:layout-item"),Wp=1e3,W0=Fr({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),wx=Fr({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Ix(){const t=Be(Ya);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function Ax(t){const e=Be(Ya);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${uI()}`,r=Zn("useLayoutItem");Hn(Wy,{id:n});const s=en(!1);x_(()=>s.value=!0),V_(()=>s.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:o}=e.register(r,{...t,active:we(()=>s.value?!1:t.active.value),id:n});return kc(()=>e.unregister(n)),{layoutItemStyles:i,layoutRect:e.layoutRect,layoutItemScrimStyles:o}}const G0=(t,e,n,r)=>{let s={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...s}}];for(const o of t){const c=e.get(o),l=n.get(o),u=r.get(o);if(!c||!l||!u)continue;const h={...s,[c.value]:parseInt(s[c.value],10)+(u.value?parseInt(l.value,10):0)};i.push({id:o,layer:h}),s=h}return i};function z0(t){const e=Be(Ya,null),n=we(()=>e?e.rootZIndex.value-100:Wp),r=on([]),s=Mt(new Map),i=Mt(new Map),o=Mt(new Map),c=Mt(new Map),l=Mt(new Map),{resizeRef:u,contentRect:h}=q0(),d=we(()=>{const z=new Map,T=t.overlaps??[];for(const v of T.filter(_=>_.includes(":"))){const[_,I]=v.split(":");if(!r.value.includes(_)||!r.value.includes(I))continue;const b=s.get(_),A=s.get(I),E=i.get(_),de=i.get(I);!b||!A||!E||!de||(z.set(I,{position:b.value,amount:parseInt(E.value,10)}),z.set(_,{position:A.value,amount:-parseInt(de.value,10)}))}return z}),m=we(()=>{const z=[...new Set([...o.values()].map(v=>v.value))].sort((v,_)=>v-_),T=[];for(const v of z){const _=r.value.filter(I=>o.get(I)?.value===v);T.push(..._)}return G0(T,s,i,c)}),g=we(()=>!Array.from(l.values()).some(z=>z.value)),S=we(()=>m.value[m.value.length-1].layer),P=ft(()=>({"--v-layout-left":la(S.value.left),"--v-layout-right":la(S.value.right),"--v-layout-top":la(S.value.top),"--v-layout-bottom":la(S.value.bottom),...g.value?void 0:{transition:"none"}})),k=we(()=>m.value.slice(1).map((z,T)=>{let{id:v}=z;const{layer:_}=m.value[T],I=i.get(v),b=s.get(v);return{id:v,..._,size:Number(I.value),position:b.value}})),C=z=>k.value.find(T=>T.id===z),O=Zn("createLayout"),V=en(!1);Th(()=>{V.value=!0}),Hn(Ya,{register:(z,T)=>{let{id:v,order:_,position:I,layoutSize:b,elementSize:A,active:E,disableTransitions:de,absolute:xe}=T;o.set(v,_),s.set(v,I),i.set(v,b),c.set(v,E),de&&l.set(v,de);const le=Vi(Wy,O?.vnode).indexOf(z);le>-1?r.value.splice(le,0,v):r.value.push(v);const me=we(()=>k.value.findIndex(Ue=>Ue.id===v)),st=we(()=>n.value+m.value.length*2-me.value*2),Kt=we(()=>{const Ue=I.value==="left"||I.value==="right",Ut=I.value==="right",Bt=I.value==="bottom",Rt=A.value??b.value,it=Rt===0?"%":"px",M={[I.value]:0,zIndex:st.value,transform:`translate${Ue?"X":"Y"}(${(E.value?0:-(Rt===0?100:Rt))*(Ut||Bt?-1:1)}${it})`,position:xe.value||n.value!==Wp?"absolute":"fixed",...g.value?void 0:{transition:"none"}};if(!V.value)return M;const Q=k.value[me.value],Y=d.value.get(v);return Y&&(Q[Y.position]+=Y.amount),{...M,height:Ue?`calc(100% - ${Q.top}px - ${Q.bottom}px)`:A.value?`${A.value}px`:void 0,left:Ut?void 0:`${Q.left}px`,right:Ut?`${Q.right}px`:void 0,top:I.value!=="bottom"?`${Q.top}px`:void 0,bottom:I.value!=="top"?`${Q.bottom}px`:void 0,width:Ue?A.value?`${A.value}px`:void 0:`calc(100% - ${Q.left}px - ${Q.right}px)`}}),bt=we(()=>({zIndex:st.value-1}));return{layoutItemStyles:Kt,layoutItemScrimStyles:bt,zIndex:st}},unregister:z=>{o.delete(z),s.delete(z),i.delete(z),c.delete(z),l.delete(z),r.value=r.value.filter(T=>T!==z)},mainRect:S,mainStyles:P,getLayoutItem:C,items:k,layoutRect:h,rootZIndex:n});const F=ft(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),G=ft(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:F,layoutStyles:G,getLayoutItem:C,items:k,layoutRect:h,layoutRef:u}}function K0(t,e){let n;function r(){n=io(),n.run(()=>e.length?e(()=>{n?.stop(),r()}):e())}tn(t,s=>{s&&!n?r():s||(n?.stop(),n=void 0)},{immediate:!0}),Ac(()=>{n?.stop()})}function Q0(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const i=Zn("useProxiedModel"),o=on(t[e]!==void 0?t[e]:n),c=cs(e),u=we(c!==e?()=>(t[e],!!((i.vnode.props?.hasOwnProperty(e)||i.vnode.props?.hasOwnProperty(c))&&(i.vnode.props?.hasOwnProperty(`onUpdate:${e}`)||i.vnode.props?.hasOwnProperty(`onUpdate:${c}`)))):()=>(t[e],!!(i.vnode.props?.hasOwnProperty(e)&&i.vnode.props?.hasOwnProperty(`onUpdate:${e}`))));K0(()=>!u.value,()=>{tn(()=>t[e],d=>{o.value=d})});const h=we({get(){const d=t[e];return r(u.value?d:o.value)},set(d){const m=s(d),g=Te(u.value?t[e]:o.value);g===m||r(g)===d||(o.value=m,i?.emit(`update:${e}`,m))}});return Object.defineProperty(h,"externalValue",{get:()=>u.value?t[e]:o.value}),h}const Y0={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"},ariaLabel:{previousMonth:"Previous month",nextMonth:"Next month",selectYear:"Select year",selectDate:"{0}",currentDate:"Today, {0}"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"},hotkey:{then:"then",ctrl:"Ctrl",command:"Command",space:"Space",shift:"Shift",alt:"Alt",enter:"Enter",escape:"Escape",upArrow:"Up Arrow",downArrow:"Down Arrow",leftArrow:"Left Arrow",rightArrow:"Right Arrow",backspace:"Backspace",option:"Option",plus:"plus",shortcut:"Keyboard shortcut: {0}"},video:{play:"Play",pause:"Pause",seek:"Seek",volume:"Volume",showVolume:"Show volume control",mute:"Mute",unmute:"Unmute",enterFullscreen:"Full screen",exitFullscreen:"Exit full screen"},colorPicker:{ariaLabel:{eyedropper:"Select color with eyedropper",hueSlider:"Hue",alphaSlider:"Alpha",redInput:"Red value",greenInput:"Green value",blueInput:"Blue value",alphaInput:"Alpha value",hueInput:"Hue value",saturationInput:"Saturation value",lightnessInput:"Lightness value",hexInput:"HEX value",hexaInput:"HEX with alpha value",changeFormat:"Change color format"}}},Gp="$vuetify.",zp=(t,e)=>t.replace(/\{(\d+)\}/g,(n,r)=>String(e[Number(r)])),Gy=(t,e,n)=>function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];if(!r.startsWith(Gp))return zp(r,i);const c=r.replace(Gp,""),l=t.value&&n.value[t.value],u=e.value&&n.value[e.value];let h=Cu(l,c,null);return h||(`${r}${t.value}`,h=Cu(u,c,null)),h||(h=r),typeof h!="string"&&(h=r),zp(h,i)};function Nh(t,e){return(n,r)=>new Intl.NumberFormat([t.value,e.value],r).format(n)}function zy(t,e){return Nh(t,e)(.1).includes(",")?",":"."}function Gl(t,e,n){const r=Q0(t,e,t[e]??n.value);return r.value=t[e]??n.value,tn(n,s=>{t[e]==null&&(r.value=n.value)}),r}function Ky(t){return e=>{const n=Gl(e,"locale",t.current),r=Gl(e,"fallback",t.fallback),s=Gl(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:r,messages:s,decimalSeparator:ft(()=>zy(n,r)),t:Gy(n,r,s),n:Nh(n,r),provide:Ky({current:n,fallback:r,messages:s})}}}function X0(t){const e=en(t?.locale??"en"),n=en(t?.fallback??"en"),r=on({en:Y0,...t?.messages});return{name:"vuetify",current:e,fallback:n,messages:r,decimalSeparator:ft(()=>t?.decimalSeparator??zy(e,n)),t:Gy(e,n,r),n:Nh(e,n),provide:Ky({current:e,fallback:n,messages:r})}}const Xa=Symbol.for("vuetify:locale");function J0(t){return t.name!=null}function Z0(t){const e=t?.adapter&&J0(t?.adapter)?t?.adapter:X0(t),n=tR(e,t);return{...e,...n}}function bx(){const t=Be(Xa);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function eR(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function tR(t,e){const n=on(e?.rtl??eR()),r=we(()=>n.value[t.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:ft(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function Qy(){const t=Be(Xa);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const mo=Symbol.for("vuetify:theme"),nR=Fr({theme:String},"theme");function Kp(){return{defaultTheme:"light",prefix:"v-",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#EEEEEE","theme-on-kbd":"#000000","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#424242","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet",scoped:!1,unimportant:!1,utilities:!0}}function rR(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kp();const e=Kp();if(!t)return{...e,isDisabled:!0};const n={};for(const[r,s]of Object.entries(t.themes??{})){const i=s.dark||r==="dark"?e.themes?.dark:e.themes?.light;n[r]=It(i,s)}return It(e,{...t,themes:n})}function Zr(t,e,n,r){t.push(`${aR(e,r)} {
`,...n.map(s=>`  ${s};
`),`}
`)}function Qp(t,e){const n=t.dark?2:1,r=t.dark?1:2,s=[];for(const[i,o]of Object.entries(t.colors)){const c=Bn(o);s.push(`--${e}theme-${i}: ${c.r},${c.g},${c.b}`),i.startsWith("on-")||s.push(`--${e}theme-${i}-overlay-multiplier: ${x0(o)>.18?n:r}`)}for(const[i,o]of Object.entries(t.variables)){const c=typeof o=="string"&&o.startsWith("#")?Bn(o):void 0,l=c?`${c.r}, ${c.g}, ${c.b}`:void 0;s.push(`--${e}${i}: ${l??o}`)}return s}function sR(t,e,n){const r={};if(n)for(const s of["lighten","darken"]){const i=s==="lighten"?O0:V0;for(const o of My(n[s],1))r[`${t}-${s}-${o}`]=D0(i(Bn(e),o))}return r}function iR(t,e){if(!e)return{};let n={};for(const r of e.colors){const s=t[r];s&&(n={...n,...sR(r,s,e)})}return n}function oR(t){const e={};for(const n of Object.keys(t)){if(n.startsWith("on-")||t[`on-${n}`])continue;const r=`on-${n}`,s=Bn(t[n]);e[r]=M0(s)}return e}function aR(t,e){if(!e)return t;const n=`:where(${e})`;return t===":root"?n:`${n} ${t}`}function cR(t,e,n){const r=lR(t,e);r&&(r.innerHTML=n)}function lR(t,e){if(!Vt)return null;let n=document.getElementById(t);return n||(n=document.createElement("style"),n.id=t,n.type="text/css",e&&n.setAttribute("nonce",e),document.head.appendChild(n)),n}function uR(t){const e=rR(t),n=en(e.defaultTheme),r=on(e.themes),s=en("light"),i=we({get(){return n.value==="system"?s.value:n.value},set(C){n.value=C}}),o=we(()=>{const C={};for(const[O,V]of Object.entries(r.value)){const F={...V.colors,...iR(V.colors,e.variations)};C[O]={...V,colors:{...F,...oR(F)}}}return C}),c=ft(()=>o.value[i.value]),l=ft(()=>n.value==="system"),u=we(()=>{const C=[],O=e.unimportant?"":" !important",V=e.scoped?e.prefix:"";c.value?.dark&&Zr(C,":root",["color-scheme: dark"],e.scope),Zr(C,":root",Qp(c.value,e.prefix),e.scope);for(const[F,G]of Object.entries(o.value))Zr(C,`.${e.prefix}theme--${F}`,[`color-scheme: ${G.dark?"dark":"normal"}`,...Qp(G,e.prefix)],e.scope);if(e.utilities){const F=[],G=[],z=new Set(Object.values(o.value).flatMap(T=>Object.keys(T.colors)));for(const T of z)T.startsWith("on-")?Zr(G,`.${T}`,[`color: rgb(var(--${e.prefix}theme-${T}))${O}`],e.scope):(Zr(F,`.${V}bg-${T}`,[`--${e.prefix}theme-overlay-multiplier: var(--${e.prefix}theme-${T}-overlay-multiplier)`,`background-color: rgb(var(--${e.prefix}theme-${T}))${O}`,`color: rgb(var(--${e.prefix}theme-on-${T}))${O}`],e.scope),Zr(G,`.${V}text-${T}`,[`color: rgb(var(--${e.prefix}theme-${T}))${O}`],e.scope),Zr(G,`.${V}border-${T}`,[`--${e.prefix}border-color: var(--${e.prefix}theme-${T})`],e.scope));C.push(...F,...G)}return C.map((F,G)=>G===0?F:`    ${F}`).join("")}),h=ft(()=>e.isDisabled?void 0:`${e.prefix}theme--${i.value}`),d=ft(()=>Object.keys(o.value));if(Oy){let O=function(){s.value=C.matches?"dark":"light"};const C=window.matchMedia("(prefers-color-scheme: dark)");O(),C.addEventListener("change",O,{passive:!0}),uh()&&Ac(()=>{C.removeEventListener("change",O)})}function m(C){if(e.isDisabled)return;const O=C._context.provides.usehead;if(O){let V=function(){return{style:[{textContent:u.value,id:e.stylesheetId,nonce:e.cspNonce||!1}]}};if(O.push){const F=O.push(V);Vt&&tn(u,()=>{F.patch(V)})}else Vt?(O.addHeadObjs(ft(V)),Nc(()=>O.updateDOM())):O.addHeadObjs(V())}else{let V=function(){cR(e.stylesheetId,e.cspNonce,u.value)};Vt?tn(u,V,{immediate:!0}):V()}}function g(C){C!=="system"&&!d.value.includes(C)||(i.value=C)}function S(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.value;const O=C.indexOf(i.value),V=O===-1?0:(O+1)%C.length;g(C[V])}function P(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["light","dark"];S(C)}const k=new Proxy(i,{get(C,O){return Reflect.get(C,O)},set(C,O,V){return O==="value"&&r0(`theme.global.name.value = ${V}`,`theme.change('${V}')`),Reflect.set(C,O,V)}});return{install:m,change:g,cycle:S,toggle:P,isDisabled:e.isDisabled,isSystem:l,name:i,themes:r,current:c,computedThemes:o,prefix:e.prefix,themeClasses:h,styles:u,global:{name:k,current:c}}}function hR(t){Zn("provideTheme");const e=Be(mo,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=ft(()=>t.theme??e.name.value),r=ft(()=>e.themes.value[n.value]),s=ft(()=>e.isDisabled?void 0:`${e.prefix}theme--${n.value}`),i={...e,name:n,current:r,themeClasses:s};return Hn(mo,i),i}function Rx(){Zn("useTheme");const t=Be(mo,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}const fR=Fr({...n0(),...Fy(W0(),["fullHeight"]),...nR()},"VApp"),dR=qy()({name:"VApp",props:fR(),setup(t,e){let{slots:n}=e;const r=hR(t),{layoutClasses:s,getLayoutItem:i,items:o,layoutRef:c}=z0({...t,fullHeight:!0}),{rtlClasses:l}=Qy();return H0(()=>Er("div",{ref:c,class:Po(["v-application",r.themeClasses.value,s.value,l.value,t.class]),style:Ic([t.style])},[Er("div",{class:"v-application__wrap"},[n.default?.()])])),{getLayoutItem:i,items:o,theme:r}}}),pR=Cc({__name:"App",setup(t){return(e,n)=>(_u(),yu(dR,{class:"bg-background"},{default:wa(()=>[Qe(Jt(Ny),null,{default:wa(({Component:r})=>[Qe(dA,{name:"fade",mode:"out-in"},{default:wa(()=>[(_u(),yu(yI(r)))]),_:2},1024)]),_:1})]),_:1}))}}),mR="modulepreload",gR=function(t){return"/"+t},Yp={},lr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");s=l(n.map(u=>{if(u=gR(u),u in Yp)return;Yp[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":mR,h||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((g,S)=>{m.addEventListener("load",g),m.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};const _R=()=>{};var Xp={};const Yy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Xy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,d=(i&3)<<4|c>>4;let m=(c&15)<<2|u>>6,g=u&63;l||(g=64,o||(m=64)),r.push(n[h],n[d],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||u==null||d==null)throw new vR;const m=i<<2|c>>4;if(r.push(m),u!==64){const g=c<<4&240|u>>2;if(r.push(g),d!==64){const S=u<<6&192|d;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ER=function(t){const e=Yy(t);return Xy.encodeByteArray(e,!0)},Ja=function(t){return ER(t).replace(/\./g,"")},Jy=function(t){try{return Xy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wR=()=>TR().__FIREBASE_DEFAULTS__,IR=()=>{if(typeof process>"u"||typeof Xp>"u")return;const t=Xp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Jy(t[1]);return e&&JSON.parse(e)},Bc=()=>{try{return _R()||wR()||IR()||AR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Zy=t=>Bc()?.emulatorHosts?.[t],ev=t=>{const e=Zy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tv=()=>Bc()?.config,nv=t=>Bc()?.[`_${t}`];class bR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ur(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Oh(t){return(await fetch(t,{credentials:"include"})).ok}function rv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ja(JSON.stringify(n)),Ja(JSON.stringify(o)),""].join(".")}const Ji={};function RR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ji))Ji[e]?t.emulator.push(e):t.prod.push(e);return t}function SR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Jp=!1;function Vh(t,e){if(typeof window>"u"||typeof document>"u"||!Ur(window.location.host)||Ji[t]===e||Ji[t]||Jp)return;Ji[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=RR().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Jp=!0,o()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function d(){const m=SR(r),g=n("text"),S=document.getElementById(g)||document.createElement("span"),P=n("learnmore"),k=document.getElementById(P)||document.createElement("a"),C=n("preprendIcon"),O=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const V=m.element;c(V),h(k,P);const F=u();l(O,C),V.append(O,S,k,F),document.body.appendChild(V)}i?(S.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function PR(){const t=Bc()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OR(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VR(){return!PR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xR(){try{return typeof indexedDB=="object"}catch{return!1}}function MR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const LR="FirebaseError";class kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LR,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oo.prototype.create)}}class Oo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?FR(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new kn(s,c,r)}}function FR(t,e){return t.replace(UR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const UR=/\{\$([^}]+)}/g;function BR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ds(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Zp(i)&&Zp(o)){if(!ds(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Zp(t){return t!==null&&typeof t=="object"}function Vo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Mi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $R(t,e){const n=new jR(t,e);return n.subscribe.bind(n)}class jR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=zl),s.error===void 0&&(s.error=zl),s.complete===void 0&&(s.complete=zl);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zl(){}function Fe(t){return t&&t._delegate?t._delegate:t}class Dr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ts="[DEFAULT]";class qR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GR(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WR(t){return t===ts?void 0:t}function GR(t){return t.instantiationMode==="EAGER"}class zR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const KR={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},QR=ye.INFO,YR={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},XR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=YR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xh{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=XR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const JR=(t,e)=>e.some(n=>t instanceof n);let em,tm;function ZR(){return em||(em=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eS(){return tm||(tm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sv=new WeakMap,Pu=new WeakMap,iv=new WeakMap,Kl=new WeakMap,Mh=new WeakMap;function tS(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ar(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sv.set(n,t)}).catch(()=>{}),Mh.set(e,t),e}function nS(t){if(Pu.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Pu.set(t,e)}let Du={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rS(t){Du=t(Du)}function sS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ql(this),e,...n);return iv.set(r,e.sort?e.sort():[e]),Ar(r)}:eS().includes(t)?function(...e){return t.apply(Ql(this),e),Ar(sv.get(this))}:function(...e){return Ar(t.apply(Ql(this),e))}}function iS(t){return typeof t=="function"?sS(t):(t instanceof IDBTransaction&&nS(t),JR(t,ZR())?new Proxy(t,Du):t)}function Ar(t){if(t instanceof IDBRequest)return tS(t);if(Kl.has(t))return Kl.get(t);const e=iS(t);return e!==t&&(Kl.set(t,e),Mh.set(e,t)),e}const Ql=t=>Mh.get(t);function oS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=Ar(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ar(o.result),l.oldVersion,l.newVersion,Ar(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const aS=["get","getKey","getAll","getAllKeys","count"],cS=["put","add","delete","clear"],Yl=new Map;function nm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yl.get(e))return Yl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=cS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||aS.includes(n)))return;const i=async function(o,...c){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),s&&l.done]))[0]};return Yl.set(e,i),i}rS(t=>({...t,get:(e,n,r)=>nm(e,n)||t.get(e,n,r),has:(e,n)=>!!nm(e,n)||t.has(e,n)}));class lS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uS(t){return t.getComponent()?.type==="VERSION"}const ku="@firebase/app",rm="0.14.6";const Kn=new xh("@firebase/app"),hS="@firebase/app-compat",fS="@firebase/analytics-compat",dS="@firebase/analytics",pS="@firebase/app-check-compat",mS="@firebase/app-check",gS="@firebase/auth",_S="@firebase/auth-compat",yS="@firebase/database",vS="@firebase/data-connect",ES="@firebase/database-compat",TS="@firebase/functions",wS="@firebase/functions-compat",IS="@firebase/installations",AS="@firebase/installations-compat",bS="@firebase/messaging",RS="@firebase/messaging-compat",SS="@firebase/performance",CS="@firebase/performance-compat",PS="@firebase/remote-config",DS="@firebase/remote-config-compat",kS="@firebase/storage",NS="@firebase/storage-compat",OS="@firebase/firestore",VS="@firebase/ai",xS="@firebase/firestore-compat",MS="firebase",LS="12.6.0";const Nu="[DEFAULT]",FS={[ku]:"fire-core",[hS]:"fire-core-compat",[dS]:"fire-analytics",[fS]:"fire-analytics-compat",[mS]:"fire-app-check",[pS]:"fire-app-check-compat",[gS]:"fire-auth",[_S]:"fire-auth-compat",[yS]:"fire-rtdb",[vS]:"fire-data-connect",[ES]:"fire-rtdb-compat",[TS]:"fire-fn",[wS]:"fire-fn-compat",[IS]:"fire-iid",[AS]:"fire-iid-compat",[bS]:"fire-fcm",[RS]:"fire-fcm-compat",[SS]:"fire-perf",[CS]:"fire-perf-compat",[PS]:"fire-rc",[DS]:"fire-rc-compat",[kS]:"fire-gcs",[NS]:"fire-gcs-compat",[OS]:"fire-fst",[xS]:"fire-fst-compat",[VS]:"fire-vertex","fire-js":"fire-js",[MS]:"fire-js-all"};const Za=new Map,US=new Map,Ou=new Map;function sm(t,e){try{t.container.addComponent(e)}catch(n){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ps(t){const e=t.name;if(Ou.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;Ou.set(e,t);for(const n of Za.values())sm(n,t);for(const n of US.values())sm(n,t);return!0}function $c(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lt(t){return t==null?!1:t.settings!==void 0}const BS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Oo("app","Firebase",BS);class $S{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const Ts=LS;function ov(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Nu,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw br.create("bad-app-name",{appName:String(s)});if(n||(n=tv()),!n)throw br.create("no-options");const i=Za.get(s);if(i){if(ds(n,i.options)&&ds(r,i.config))return i;throw br.create("duplicate-app",{appName:s})}const o=new zR(s);for(const l of Ou.values())o.addComponent(l);const c=new $S(n,r,o);return Za.set(s,c),c}function Lh(t=Nu){const e=Za.get(t);if(!e&&t===Nu&&tv())return ov();if(!e)throw br.create("no-app",{appName:t});return e}function An(t,e,n){let r=FS[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(o.join(" "));return}ps(new Dr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const jS="firebase-heartbeat-database",HS=1,go="firebase-heartbeat-store";let Xl=null;function av(){return Xl||(Xl=oS(jS,HS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(go)}catch(n){console.warn(n)}}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),Xl}async function qS(t){try{const n=(await av()).transaction(go),r=await n.objectStore(go).get(cv(t));return await n.done,r}catch(e){if(e instanceof kn)Kn.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e?.message});Kn.warn(n.message)}}}async function im(t,e){try{const r=(await av()).transaction(go,"readwrite");await r.objectStore(go).put(e,cv(t)),await r.done}catch(n){if(n instanceof kn)Kn.warn(n.message);else{const r=br.create("idb-set",{originalErrorMessage:n?.message});Kn.warn(r.message)}}}function cv(t){return`${t.name}!${t.options.appId}`}const WS=1024,GS=30;class zS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=om();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>GS){const s=YS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=om(),{heartbeatsToSend:n,unsentEntries:r}=KS(this._heartbeatsCache.heartbeats),s=Ja(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Kn.warn(e),""}}}function om(){return new Date().toISOString().substring(0,10)}function KS(t,e=WS){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),am(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),am(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xR()?MR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return im(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return im(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function am(t){return Ja(JSON.stringify({version:2,heartbeats:t})).length}function YS(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function XS(t){ps(new Dr("platform-logger",e=>new lS(e),"PRIVATE")),ps(new Dr("heartbeat",e=>new zS(e),"PRIVATE")),An(ku,rm,t),An(ku,rm,"esm2020"),An("fire-js","")}XS("");function lv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JS=lv,uv=new Oo("auth","Firebase",lv());const ec=new xh("@firebase/auth");function ZS(t,...e){ec.logLevel<=ye.WARN&&ec.warn(`Auth (${Ts}): ${t}`,...e)}function Ra(t,...e){ec.logLevel<=ye.ERROR&&ec.error(`Auth (${Ts}): ${t}`,...e)}function sn(t,...e){throw Uh(t,...e)}function un(t,...e){return Uh(t,...e)}function Fh(t,e,n){const r={...JS(),[e]:n};return new Oo("auth","Firebase",r).create(e,{appName:t.name})}function qn(t){return Fh(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eC(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&sn(t,"argument-error"),Fh(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Uh(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uv.create(t,...e)}function oe(t,e,...n){if(!t)throw Uh(e,...n)}function $n(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ra(e),new Error(e)}function Qn(t,e){t||$n(e)}function Vu(){return typeof self<"u"&&self.location?.href||""}function tC(){return cm()==="http:"||cm()==="https:"}function cm(){return typeof self<"u"&&self.location?.protocol||null}function nC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tC()||kR()||"connection"in navigator)?navigator.onLine:!0}function rC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class xo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qn(n>e,"Short delay should be less than long delay!"),this.isMobile=CR()||NR()}get(){return nC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bh(t,e){Qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class hv{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oC=new xo(3e4,6e4);function Br(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function er(t,e,n,r,s={}){return fv(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const c=Vo({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return DR()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ur(t.emulatorConfig.host)&&(u.credentials="include"),hv.fetch()(await dv(t,t.config.apiHost,n,c),u)})}async function fv(t,e,n){t._canInitEmulator=!1;const r={...sC,...e};try{const s=new cC(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw da(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw da(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw da(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw da(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Fh(t,h,u);sn(t,h)}}catch(s){if(s instanceof kn)throw s;sn(t,"network-request-failed",{message:String(s)})}}async function Mo(t,e,n,r,s={}){const i=await er(t,e,n,r,s);return"mfaPendingCredential"in i&&sn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function dv(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Bh(t.config,s):`${t.config.apiScheme}://${s}`;return iC.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function aC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(un(this.auth,"network-request-failed")),oC.get())})}}function da(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=un(t,e,r);return s.customData._tokenResponse=n,s}function lm(t){return t!==void 0&&t.enterprise!==void 0}class lC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uC(t,e){return er(t,"GET","/v2/recaptchaConfig",Br(t,e))}async function hC(t,e){return er(t,"POST","/v1/accounts:delete",e)}async function tc(t,e){return er(t,"POST","/v1/accounts:lookup",e)}function Zi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fC(t,e=!1){const n=Fe(t),r=await n.getIdToken(e),s=$h(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Zi(Jl(s.auth_time)),issuedAtTime:Zi(Jl(s.iat)),expirationTime:Zi(Jl(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Jl(t){return Number(t)*1e3}function $h(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ra("JWT malformed, contained fewer than 3 sections"),null;try{const s=Jy(n);return s?JSON.parse(s):(Ra("Failed to decode base64 JWT payload"),null)}catch(s){return Ra("Caught error parsing JWT payload as JSON",s?.toString()),null}}function um(t){const e=$h(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Js(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kn&&dC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class pC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zi(this.lastLoginAt),this.creationTime=Zi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nc(t){const e=t.auth,n=await t.getIdToken(),r=await Js(t,tc(e,{idToken:n}));oe(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?pv(s.providerUserInfo):[],o=gC(t.providerData,i),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,u=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new xu(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function mC(t){const e=Fe(t);await nc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gC(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function pv(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function _C(t,e){const n=await fv(t,{},async()=>{const r=Vo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await dv(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:c,body:r};return t.emulatorConfig&&Ur(t.emulatorConfig.host)&&(l.credentials="include"),hv.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yC(t,e){return er(t,"POST","/v2/accounts:revokeToken",Br(t,e))}class Hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):um(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=um(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await _C(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Hs;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hs,this.toJSON())}_performRefresh(){return $n("not implemented")}}function ur(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new pC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xu(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Js(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fC(this,e)}reload(){return mC(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lt(this.auth.app))return Promise.reject(qn(this.auth));const e=await this.getIdToken();return await Js(this,hC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:m,isAnonymous:g,providerData:S,stsTokenManager:P}=n;oe(d&&P,e,"internal-error");const k=Hs.fromJSON(this.name,P);oe(typeof d=="string",e,"internal-error"),ur(r,e.name),ur(s,e.name),oe(typeof m=="boolean",e,"internal-error"),oe(typeof g=="boolean",e,"internal-error"),ur(i,e.name),ur(o,e.name),ur(c,e.name),ur(l,e.name),ur(u,e.name),ur(h,e.name);const C=new cn({uid:d,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:c,stsTokenManager:k,createdAt:u,lastLoginAt:h});return S&&Array.isArray(S)&&(C.providerData=S.map(O=>({...O}))),l&&(C._redirectEventId=l),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new Hs;s.updateFromServerResponse(n);const i=new cn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await nc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?pv(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,c=new Hs;c.updateFromIdToken(r);const l=new cn({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new xu(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,u),l}}const hm=new Map;function jn(t){Qn(t instanceof Function,"Expected a class definition");let e=hm.get(t);return e?(Qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hm.set(t,e),e)}class mv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mv.type="NONE";const fm=mv;function Sa(t,e,n){return`firebase:${t}:${e}:${n}`}class qs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Sa(this.userKey,s.apiKey,i),this.fullPersistenceKey=Sa("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tc(this.auth,{idToken:e}).catch(()=>{});return n?cn._fromGetAccountInfoResponse(this.auth,n,e):null}return cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qs(jn(fm),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||jn(fm);const o=Sa(r,e.config.apiKey,e.name);let c=null;for(const u of n)try{const h=await u._get(o);if(h){let d;if(typeof h=="string"){const m=await tc(e,{idToken:h}).catch(()=>{});if(!m)break;d=await cn._fromGetAccountInfoResponse(e,m,h)}else d=cn._fromJSON(e,h);u!==i&&(c=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new qs(i,e,r):(i=l[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new qs(i,e,r))}}function dm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tv(e))return"Blackberry";if(wv(e))return"Webos";if(_v(e))return"Safari";if((e.includes("chrome/")||yv(e))&&!e.includes("edge/"))return"Chrome";if(Ev(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function gv(t=At()){return/firefox\//i.test(t)}function _v(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yv(t=At()){return/crios\//i.test(t)}function vv(t=At()){return/iemobile/i.test(t)}function Ev(t=At()){return/android/i.test(t)}function Tv(t=At()){return/blackberry/i.test(t)}function wv(t=At()){return/webos/i.test(t)}function jh(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vC(t=At()){return jh(t)&&!!window.navigator?.standalone}function EC(){return OR()&&document.documentMode===10}function Iv(t=At()){return jh(t)||Ev(t)||wv(t)||Tv(t)||/windows phone/i.test(t)||vv(t)}function Av(t,e=[]){let n;switch(t){case"Browser":n=dm(At());break;case"Worker":n=`${dm(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${r}`}class TC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,c)=>{try{const l=e(i);o(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function wC(t,e={}){return er(t,"GET","/v2/passwordPolicy",Br(t,e))}const IC=6;class AC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??IC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class bC{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pm(this),this.idTokenSubscription=new pm(this),this.beforeStateQueue=new TC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qs.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tc(this,{idToken:e}),r=await cn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Lt(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===o)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lt(this.app))return Promise.reject(qn(this));const n=e?Fe(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lt(this.app)?Promise.reject(qn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lt(this.app)?Promise.reject(qn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wC(this),n=new AC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Oo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jn(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await qs.create(this,[jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Av(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Lt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $r(t){return Fe(t)}class pm{constructor(e){this.auth=e,this.observer=null,this.addObserver=$R(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RC(t){jc=t}function bv(t){return jc.loadJS(t)}function SC(){return jc.recaptchaEnterpriseScript}function CC(){return jc.gapiScript}function PC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class DC{constructor(){this.enterprise=new kC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NC="recaptcha-enterprise",Rv="NO_RECAPTCHA";class OC{constructor(e){this.type=NC,this.auth=$r(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,c)=>{uC(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const u=new lC(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{c(l)})})}function s(i,o,c){const l=window.grecaptcha;lm(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Rv)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DC().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(c=>{if(!n&&lm(window.grecaptcha))s(c,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=SC();l.length!==0&&(l+=c),bv(l).then(()=>{s(c,i,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})}}async function mm(t,e,n,r=!1,s=!1){const i=new OC(t);let o;if(s)o=Rv;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const l=c.phoneEnrollmentInfo.phoneNumber,u=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const l=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Mu(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await mm(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await mm(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}function VC(t,e){const n=$c(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ds(i,e??{}))return s;sn(s,"already-initialized")}return n.initialize({options:e})}function xC(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(jn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function MC(t,e,n){const r=$r(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Sv(e),{host:o,port:c}=LC(e),l=c===null?"":`:${c}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(ds(u,r.config.emulator)&&ds(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ur(o)?(Oh(`${i}//${o}${l}`),Vh("Auth",!0)):FC()}function Sv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LC(t){const e=Sv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:gm(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:gm(o)}}}function gm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Hh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $n("not implemented")}_getIdTokenResponse(e){return $n("not implemented")}_linkToIdToken(e,n){return $n("not implemented")}_getReauthenticationResolver(e){return $n("not implemented")}}async function UC(t,e){return er(t,"POST","/v1/accounts:signUp",e)}async function BC(t,e){return Mo(t,"POST","/v1/accounts:signInWithPassword",Br(t,e))}async function $C(t,e){return Mo(t,"POST","/v1/accounts:signInWithEmailLink",Br(t,e))}async function jC(t,e){return Mo(t,"POST","/v1/accounts:signInWithEmailLink",Br(t,e))}class _o extends Hh{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new _o(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _o(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mu(e,n,"signInWithPassword",BC);case"emailLink":return $C(e,{email:this._email,oobCode:this._password});default:sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mu(e,r,"signUpPassword",UC);case"emailLink":return jC(e,{idToken:n,email:this._email,oobCode:this._password});default:sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ws(t,e){return Mo(t,"POST","/v1/accounts:signInWithIdp",Br(t,e))}const HC="http://localhost";class ms extends Hh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new ms(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ws(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ws(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ws(e,n)}buildRequest(){const e={requestUri:HC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vo(n)}return e}}function qC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WC(t){const e=xi(Mi(t)).link,n=e?xi(Mi(e)).deep_link_id:null,r=xi(Mi(t)).deep_link_id;return(r?xi(Mi(r)).link:null)||r||n||e||t}class qh{constructor(e){const n=xi(Mi(e)),r=n.apiKey??null,s=n.oobCode??null,i=qC(n.mode??null);oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=WC(e);try{return new qh(n)}catch{return null}}}class oi{constructor(){this.providerId=oi.PROVIDER_ID}static credential(e,n){return _o._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qh.parseLink(n);return oe(r,"argument-error"),_o._fromEmailAndCode(e,r.code,r.tenantId)}}oi.PROVIDER_ID="password";oi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Wh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lo extends Wh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class gr extends Lo{constructor(){super("facebook.com")}static credential(e){return ms._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";class Un extends Lo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ms._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Un.credential(n,r)}catch{return null}}}Un.GOOGLE_SIGN_IN_METHOD="google.com";Un.PROVIDER_ID="google.com";class _r extends Lo{constructor(){super("github.com")}static credential(e){return ms._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";class yr extends Lo{constructor(){super("twitter.com")}static credential(e,n){return ms._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yr.credential(n,r)}catch{return null}}}yr.TWITTER_SIGN_IN_METHOD="twitter.com";yr.PROVIDER_ID="twitter.com";async function GC(t,e){return Mo(t,"POST","/v1/accounts:signUp",Br(t,e))}class gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await cn._fromIdTokenResponse(e,r,s),o=_m(r);return new gs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=_m(r);return new gs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function _m(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class rc extends kn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,rc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new rc(e,n,r,s)}}function Cv(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?rc._fromErrorAndOperation(t,i,e,r):i})}async function zC(t,e,n=!1){const r=await Js(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gs._forOperation(t,"link",r)}async function KC(t,e,n=!1){const{auth:r}=t;if(Lt(r.app))return Promise.reject(qn(r));const s="reauthenticate";try{const i=await Js(t,Cv(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=$h(i.idToken);oe(o,r,"internal-error");const{sub:c}=o;return oe(t.uid===c,r,"user-mismatch"),gs._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&sn(r,"user-mismatch"),i}}async function Pv(t,e,n=!1){if(Lt(t.app))return Promise.reject(qn(t));const r="signIn",s=await Cv(t,r,e),i=await gs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function QC(t,e){return Pv($r(t),e)}async function Dv(t){const e=$r(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YC(t,e,n){if(Lt(t.app))return Promise.reject(qn(t));const r=$r(t),o=await Mu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GC).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Dv(t),l}),c=await gs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function XC(t,e,n){return Lt(t.app)?Promise.reject(qn(t)):QC(Fe(t),oi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Dv(t),r})}async function JC(t,e){return er(t,"POST","/v1/accounts:update",e)}async function ym(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Fe(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Js(r,JC(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const c=r.providerData.find(({providerId:l})=>l==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function ZC(t,e,n,r){return Fe(t).onIdTokenChanged(e,n,r)}function eP(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}function tP(t,e,n,r){return Fe(t).onAuthStateChanged(e,n,r)}function nP(t){return Fe(t).signOut()}const sc="__sak";class kv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sc,"1"),this.storage.removeItem(sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rP=1e3,sP=10;class Nv extends kv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Iv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);EC()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,sP):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nv.type="LOCAL";const iP=Nv;class Ov extends kv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ov.type="SESSION";const Vv=Ov;function oP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Hc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Hc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async u=>u(n.origin,i)),l=await oP(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hc.receivers=[];function Gh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class aP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,l)=>{const u=Gh("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const m=d;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function bn(){return window}function cP(t){bn().location.href=t}function xv(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function lP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uP(){return navigator?.serviceWorker?.controller||null}function hP(){return xv()?self:null}const Mv="firebaseLocalStorageDb",fP=1,ic="firebaseLocalStorage",Lv="fbase_key";class Fo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qc(t,e){return t.transaction([ic],e?"readwrite":"readonly").objectStore(ic)}function dP(){const t=indexedDB.deleteDatabase(Mv);return new Fo(t).toPromise()}function Lu(){const t=indexedDB.open(Mv,fP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ic,{keyPath:Lv})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ic)?e(r):(r.close(),await dP(),e(await Lu()))})})}async function vm(t,e,n){const r=qc(t,!0).put({[Lv]:e,value:n});return new Fo(r).toPromise()}async function pP(t,e){const n=qc(t,!1).get(e),r=await new Fo(n).toPromise();return r===void 0?null:r.value}function Em(t,e){const n=qc(t,!0).delete(e);return new Fo(n).toPromise()}const mP=800,gP=3;class Fv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hc._getInstance(hP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lP(),!this.activeServiceWorker)return;this.sender=new aP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lu();return await vm(e,sc,"1"),await Em(e,sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vm(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Em(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=qc(s,!1).getAll();return new Fo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fv.type="LOCAL";const _P=Fv;new xo(3e4,6e4);function Uv(t,e){return e?jn(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class zh extends Hh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ws(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ws(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yP(t){return Pv(t.auth,new zh(t),t.bypassAuthState)}function vP(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),KC(n,new zh(t),t.bypassAuthState)}async function EP(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),zC(n,new zh(t),t.bypassAuthState)}class Bv{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yP;case"linkViaPopup":case"linkViaRedirect":return EP;case"reauthViaPopup":case"reauthViaRedirect":return vP;default:sn(this.auth,"internal-error")}}resolve(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const TP=new xo(2e3,1e4);async function wP(t,e,n){if(Lt(t.app))return Promise.reject(un(t,"operation-not-supported-in-this-environment"));const r=$r(t);eC(t,e,Wh);const s=Uv(r,n);return new ss(r,"signInViaPopup",e,s).executeNotNull()}class ss extends Bv{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ss.currentPopupAction&&ss.currentPopupAction.cancel(),ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Qn(this.filter.length===1,"Popup operations only handle one event");const e=Gh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TP.get())};e()}}ss.currentPopupAction=null;const IP="pendingRedirect",Ca=new Map;class AP extends Bv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ca.get(this.auth._key());if(!e){try{const r=await bP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ca.set(this.auth._key(),e)}return this.bypassAuthState||Ca.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bP(t,e){const n=CP(e),r=SP(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function RP(t,e){Ca.set(t._key(),e)}function SP(t){return jn(t._redirectPersistence)}function CP(t){return Sa(IP,t.config.apiKey,t.name)}async function PP(t,e,n=!1){if(Lt(t.app))return Promise.reject(qn(t));const r=$r(t),s=Uv(r,e),o=await new AP(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const DP=600*1e3;class kP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$v(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(un(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tm(e))}saveEventToCache(e){this.cachedEventUids.add(Tm(e)),this.lastProcessedEventTime=Date.now()}}function Tm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $v({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function NP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $v(t);default:return!1}}async function OP(t,e={}){return er(t,"GET","/v1/projects",e)}const VP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xP=/^https?/;async function MP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OP(t);for(const n of e)try{if(LP(n))return}catch{}sn(t,"unauthorized-domain")}function LP(t){const e=Vu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!xP.test(n))return!1;if(VP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const FP=new xo(3e4,6e4);function wm(){const t=bn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UP(t){return new Promise((e,n)=>{function r(){wm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wm(),n(un(t,"network-request-failed"))},timeout:FP.get()})}if(bn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bn().gapi?.load)r();else{const s=PC("iframefcb");return bn()[s]=()=>{gapi.load?r():n(un(t,"network-request-failed"))},bv(`${CC()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw Pa=null,e})}let Pa=null;function BP(t){return Pa=Pa||UP(t),Pa}const $P=new xo(5e3,15e3),jP="__/auth/iframe",HP="emulator/auth/iframe",qP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GP(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bh(e,HP):`https://${t.config.authDomain}/${jP}`,r={apiKey:e.apiKey,appName:t.name,v:Ts},s=WP.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vo(r).slice(1)}`}async function zP(t){const e=await BP(t),n=bn().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:GP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qP,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=un(t,"network-request-failed"),c=bn().setTimeout(()=>{i(o)},$P.get());function l(){bn().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{i(o)})}))}const KP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QP=500,YP=600,XP="_blank",JP="http://localhost";class Im{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZP(t,e,n,r=QP,s=YP){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l={...KP,width:r.toString(),height:s.toString(),top:i,left:o},u=At().toLowerCase();n&&(c=yv(u)?XP:n),gv(u)&&(e=e||JP,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[g,S])=>`${m}${g}=${S},`,"");if(vC(u)&&c!=="_self")return e1(e||"",c),new Im(null);const d=window.open(e||"",c,h);oe(d,t,"popup-blocked");try{d.focus()}catch{}return new Im(d)}function e1(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const t1="__/auth/handler",n1="emulator/auth/handler",r1=encodeURIComponent("fac");async function Am(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ts,eventId:s};if(e instanceof Wh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",BR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Lo){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const h of Object.keys(c))c[h]===void 0&&delete c[h];const l=await t._getAppCheckToken(),u=l?`#${r1}=${encodeURIComponent(l)}`:"";return`${s1(t)}?${Vo(c).slice(1)}${u}`}function s1({config:t}){return t.emulator?Bh(t,n1):`https://${t.authDomain}/${t1}`}const Zl="webStorageSupport";class i1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vv,this._completeRedirectFn=PP,this._overrideRedirectResult=RP}async _openPopup(e,n,r,s){Qn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await Am(e,n,r,Vu(),s);return ZP(e,i,Gh())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Am(e,n,r,Vu(),s);return cP(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Qn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zP(e),r=new kP(e);return n.register("authEvent",s=>(oe(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zl,{type:Zl},s=>{const i=s?.[0]?.[Zl];i!==void 0&&n(!!i),sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Iv()||_v()||jh()}}const o1=i1;var bm="@firebase/auth",Rm="1.11.1";class a1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function c1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l1(t){ps(new Dr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Av(t)},u=new bC(r,s,i,l);return xC(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ps(new Dr("auth-internal",e=>{const n=$r(e.getProvider("auth").getImmediate());return(r=>new a1(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),An(bm,Rm,c1(t)),An(bm,Rm,"esm2020")}const u1=300,h1=nv("authIdTokenMaxAge")||u1;let Sm=null;const f1=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>h1)return;const s=n?.token;Sm!==s&&(Sm=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function d1(t=Lh()){const e=$c(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VC(t,{popupRedirectResolver:o1,persistence:[_P,iP,Vv]}),r=nv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=f1(i.toString());eP(n,o,()=>o(n.currentUser)),ZC(n,c=>o(c))}}const s=Zy("auth");return s&&MC(n,`http://${s}`),n}function p1(){return document.getElementsByTagName("head")?.[0]??document}RC({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=un("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",p1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l1("Browser");var Cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rr,jv;(function(){var t;function e(T,v){function _(){}_.prototype=v.prototype,T.F=v.prototype,T.prototype=new _,T.prototype.constructor=T,T.D=function(I,b,A){for(var E=Array(arguments.length-2),de=2;de<arguments.length;de++)E[de-2]=arguments[de];return v.prototype[b].apply(I,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,v,_){_||(_=0);const I=Array(16);if(typeof v=="string")for(var b=0;b<16;++b)I[b]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(b=0;b<16;++b)I[b]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=T.g[0],_=T.g[1],b=T.g[2];let A=T.g[3],E;E=v+(A^_&(b^A))+I[0]+3614090360&4294967295,v=_+(E<<7&4294967295|E>>>25),E=A+(b^v&(_^b))+I[1]+3905402710&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(_^A&(v^_))+I[2]+606105819&4294967295,b=A+(E<<17&4294967295|E>>>15),E=_+(v^b&(A^v))+I[3]+3250441966&4294967295,_=b+(E<<22&4294967295|E>>>10),E=v+(A^_&(b^A))+I[4]+4118548399&4294967295,v=_+(E<<7&4294967295|E>>>25),E=A+(b^v&(_^b))+I[5]+1200080426&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(_^A&(v^_))+I[6]+2821735955&4294967295,b=A+(E<<17&4294967295|E>>>15),E=_+(v^b&(A^v))+I[7]+4249261313&4294967295,_=b+(E<<22&4294967295|E>>>10),E=v+(A^_&(b^A))+I[8]+1770035416&4294967295,v=_+(E<<7&4294967295|E>>>25),E=A+(b^v&(_^b))+I[9]+2336552879&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(_^A&(v^_))+I[10]+4294925233&4294967295,b=A+(E<<17&4294967295|E>>>15),E=_+(v^b&(A^v))+I[11]+2304563134&4294967295,_=b+(E<<22&4294967295|E>>>10),E=v+(A^_&(b^A))+I[12]+1804603682&4294967295,v=_+(E<<7&4294967295|E>>>25),E=A+(b^v&(_^b))+I[13]+4254626195&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(_^A&(v^_))+I[14]+2792965006&4294967295,b=A+(E<<17&4294967295|E>>>15),E=_+(v^b&(A^v))+I[15]+1236535329&4294967295,_=b+(E<<22&4294967295|E>>>10),E=v+(b^A&(_^b))+I[1]+4129170786&4294967295,v=_+(E<<5&4294967295|E>>>27),E=A+(_^b&(v^_))+I[6]+3225465664&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^_&(A^v))+I[11]+643717713&4294967295,b=A+(E<<14&4294967295|E>>>18),E=_+(A^v&(b^A))+I[0]+3921069994&4294967295,_=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(_^b))+I[5]+3593408605&4294967295,v=_+(E<<5&4294967295|E>>>27),E=A+(_^b&(v^_))+I[10]+38016083&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^_&(A^v))+I[15]+3634488961&4294967295,b=A+(E<<14&4294967295|E>>>18),E=_+(A^v&(b^A))+I[4]+3889429448&4294967295,_=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(_^b))+I[9]+568446438&4294967295,v=_+(E<<5&4294967295|E>>>27),E=A+(_^b&(v^_))+I[14]+3275163606&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^_&(A^v))+I[3]+4107603335&4294967295,b=A+(E<<14&4294967295|E>>>18),E=_+(A^v&(b^A))+I[8]+1163531501&4294967295,_=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(_^b))+I[13]+2850285829&4294967295,v=_+(E<<5&4294967295|E>>>27),E=A+(_^b&(v^_))+I[2]+4243563512&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^_&(A^v))+I[7]+1735328473&4294967295,b=A+(E<<14&4294967295|E>>>18),E=_+(A^v&(b^A))+I[12]+2368359562&4294967295,_=b+(E<<20&4294967295|E>>>12),E=v+(_^b^A)+I[5]+4294588738&4294967295,v=_+(E<<4&4294967295|E>>>28),E=A+(v^_^b)+I[8]+2272392833&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^_)+I[11]+1839030562&4294967295,b=A+(E<<16&4294967295|E>>>16),E=_+(b^A^v)+I[14]+4259657740&4294967295,_=b+(E<<23&4294967295|E>>>9),E=v+(_^b^A)+I[1]+2763975236&4294967295,v=_+(E<<4&4294967295|E>>>28),E=A+(v^_^b)+I[4]+1272893353&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^_)+I[7]+4139469664&4294967295,b=A+(E<<16&4294967295|E>>>16),E=_+(b^A^v)+I[10]+3200236656&4294967295,_=b+(E<<23&4294967295|E>>>9),E=v+(_^b^A)+I[13]+681279174&4294967295,v=_+(E<<4&4294967295|E>>>28),E=A+(v^_^b)+I[0]+3936430074&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^_)+I[3]+3572445317&4294967295,b=A+(E<<16&4294967295|E>>>16),E=_+(b^A^v)+I[6]+76029189&4294967295,_=b+(E<<23&4294967295|E>>>9),E=v+(_^b^A)+I[9]+3654602809&4294967295,v=_+(E<<4&4294967295|E>>>28),E=A+(v^_^b)+I[12]+3873151461&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^_)+I[15]+530742520&4294967295,b=A+(E<<16&4294967295|E>>>16),E=_+(b^A^v)+I[2]+3299628645&4294967295,_=b+(E<<23&4294967295|E>>>9),E=v+(b^(_|~A))+I[0]+4096336452&4294967295,v=_+(E<<6&4294967295|E>>>26),E=A+(_^(v|~b))+I[7]+1126891415&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~_))+I[14]+2878612391&4294967295,b=A+(E<<15&4294967295|E>>>17),E=_+(A^(b|~v))+I[5]+4237533241&4294967295,_=b+(E<<21&4294967295|E>>>11),E=v+(b^(_|~A))+I[12]+1700485571&4294967295,v=_+(E<<6&4294967295|E>>>26),E=A+(_^(v|~b))+I[3]+2399980690&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~_))+I[10]+4293915773&4294967295,b=A+(E<<15&4294967295|E>>>17),E=_+(A^(b|~v))+I[1]+2240044497&4294967295,_=b+(E<<21&4294967295|E>>>11),E=v+(b^(_|~A))+I[8]+1873313359&4294967295,v=_+(E<<6&4294967295|E>>>26),E=A+(_^(v|~b))+I[15]+4264355552&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~_))+I[6]+2734768916&4294967295,b=A+(E<<15&4294967295|E>>>17),E=_+(A^(b|~v))+I[13]+1309151649&4294967295,_=b+(E<<21&4294967295|E>>>11),E=v+(b^(_|~A))+I[4]+4149444226&4294967295,v=_+(E<<6&4294967295|E>>>26),E=A+(_^(v|~b))+I[11]+3174756917&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~_))+I[2]+718787259&4294967295,b=A+(E<<15&4294967295|E>>>17),E=_+(A^(b|~v))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+A&4294967295}r.prototype.v=function(T,v){v===void 0&&(v=T.length);const _=v-this.blockSize,I=this.C;let b=this.h,A=0;for(;A<v;){if(b==0)for(;A<=_;)s(this,T,A),A+=this.blockSize;if(typeof T=="string"){for(;A<v;)if(I[b++]=T.charCodeAt(A++),b==this.blockSize){s(this,I),b=0;break}}else for(;A<v;)if(I[b++]=T[A++],b==this.blockSize){s(this,I),b=0;break}}this.h=b,this.o+=v},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;v=this.o*8;for(var _=T.length-8;_<T.length;++_)T[_]=v&255,v/=256;for(this.v(T),T=Array(16),v=0,_=0;_<4;++_)for(let I=0;I<32;I+=8)T[v++]=this.g[_]>>>I&255;return T};function i(T,v){var _=c;return Object.prototype.hasOwnProperty.call(_,T)?_[T]:_[T]=v(T)}function o(T,v){this.h=v;const _=[];let I=!0;for(let b=T.length-1;b>=0;b--){const A=T[b]|0;I&&A==v||(_[b]=A,I=!1)}this.g=_}var c={};function l(T){return-128<=T&&T<128?i(T,function(v){return new o([v|0],v<0?-1:0)}):new o([T|0],T<0?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(T<0)return k(u(-T));const v=[];let _=1;for(let I=0;T>=_;I++)v[I]=T/_|0,_*=4294967296;return new o(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return k(h(T.substring(1),v));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=u(Math.pow(v,8));let I=d;for(let A=0;A<T.length;A+=8){var b=Math.min(8,T.length-A);const E=parseInt(T.substring(A,A+b),v);b<8?(b=u(Math.pow(v,b)),I=I.j(b).add(u(E))):(I=I.j(_),I=I.add(u(E)))}return I}var d=l(0),m=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(P(this))return-k(this).m();let T=0,v=1;for(let _=0;_<this.g.length;_++){const I=this.i(_);T+=(I>=0?I:4294967296+I)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(P(this))return"-"+k(this).toString(T);const v=u(Math.pow(T,6));var _=this;let I="";for(;;){const b=F(_,v).g;_=C(_,b.j(v));let A=((_.g.length>0?_.g[0]:_.h)>>>0).toString(T);if(_=b,S(_))return A+I;for(;A.length<6;)A="0"+A;I=A+I}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(let v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function P(T){return T.h==-1}t.l=function(T){return T=C(this,T),P(T)?-1:S(T)?0:1};function k(T){const v=T.g.length,_=[];for(let I=0;I<v;I++)_[I]=~T.g[I];return new o(_,~T.h).add(m)}t.abs=function(){return P(this)?k(this):this},t.add=function(T){const v=Math.max(this.g.length,T.g.length),_=[];let I=0;for(let b=0;b<=v;b++){let A=I+(this.i(b)&65535)+(T.i(b)&65535),E=(A>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);I=E>>>16,A&=65535,E&=65535,_[b]=E<<16|A}return new o(_,_[_.length-1]&-2147483648?-1:0)};function C(T,v){return T.add(k(v))}t.j=function(T){if(S(this)||S(T))return d;if(P(this))return P(T)?k(this).j(k(T)):k(k(this).j(T));if(P(T))return k(this.j(k(T)));if(this.l(g)<0&&T.l(g)<0)return u(this.m()*T.m());const v=this.g.length+T.g.length,_=[];for(var I=0;I<2*v;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(let b=0;b<T.g.length;b++){const A=this.i(I)>>>16,E=this.i(I)&65535,de=T.i(b)>>>16,xe=T.i(b)&65535;_[2*I+2*b]+=E*xe,O(_,2*I+2*b),_[2*I+2*b+1]+=A*xe,O(_,2*I+2*b+1),_[2*I+2*b+1]+=E*de,O(_,2*I+2*b+1),_[2*I+2*b+2]+=A*de,O(_,2*I+2*b+2)}for(T=0;T<v;T++)_[T]=_[2*T+1]<<16|_[2*T];for(T=v;T<2*v;T++)_[T]=0;return new o(_,0)};function O(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function V(T,v){this.g=T,this.h=v}function F(T,v){if(S(v))throw Error("division by zero");if(S(T))return new V(d,d);if(P(T))return v=F(k(T),v),new V(k(v.g),k(v.h));if(P(v))return v=F(T,k(v)),new V(k(v.g),v.h);if(T.g.length>30){if(P(T)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,I=v;I.l(T)<=0;)_=G(_),I=G(I);var b=z(_,1),A=z(I,1);for(I=z(I,2),_=z(_,2);!S(I);){var E=A.add(I);E.l(T)<=0&&(b=b.add(_),A=E),I=z(I,1),_=z(_,1)}return v=C(T,b.j(v)),new V(b,v)}for(b=d;T.l(v)>=0;){for(_=Math.max(1,Math.floor(T.m()/v.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),A=u(_),E=A.j(v);P(E)||E.l(T)>0;)_-=I,A=u(_),E=A.j(v);S(A)&&(A=m),b=b.add(A),T=C(T,E)}return new V(b,T)}t.B=function(T){return F(this,T).h},t.and=function(T){const v=Math.max(this.g.length,T.g.length),_=[];for(let I=0;I<v;I++)_[I]=this.i(I)&T.i(I);return new o(_,this.h&T.h)},t.or=function(T){const v=Math.max(this.g.length,T.g.length),_=[];for(let I=0;I<v;I++)_[I]=this.i(I)|T.i(I);return new o(_,this.h|T.h)},t.xor=function(T){const v=Math.max(this.g.length,T.g.length),_=[];for(let I=0;I<v;I++)_[I]=this.i(I)^T.i(I);return new o(_,this.h^T.h)};function G(T){const v=T.g.length+1,_=[];for(let I=0;I<v;I++)_[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(_,T.h)}function z(T,v){const _=v>>5;v%=32;const I=T.g.length-_,b=[];for(let A=0;A<I;A++)b[A]=v>0?T.i(A+_)>>>v|T.i(A+_+1)<<32-v:T.i(A+_);return new o(b,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jv=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Rr=o}).apply(typeof Cm<"u"?Cm:typeof self<"u"?self:typeof window<"u"?window:{});var pa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hv,Li,qv,Da,Fu,Wv,Gv,zv;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof pa=="object"&&pa];for(var f=0;f<a.length;++f){var p=a[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(a,f){if(f)e:{var p=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var N=a[y];if(!(N in p))break e;p=p[N]}a=a[a.length-1],y=p[a],f=f(y),f!=y&&f!=null&&e(p,a,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(f){var p=[],y;for(y in f)Object.prototype.hasOwnProperty.call(f,y)&&p.push([y,f[y]]);return p}});var i=i||{},o=this||self;function c(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function l(a,f,p){return a.call.apply(a.bind,arguments)}function u(a,f,p){return u=l,u.apply(null,arguments)}function h(a,f){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function d(a,f){function p(){}p.prototype=f.prototype,a.Z=f.prototype,a.prototype=new p,a.prototype.constructor=a,a.Ob=function(y,N,x){for(var K=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)K[pe-2]=arguments[pe];return f.prototype[N].apply(y,K)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function g(a){const f=a.length;if(f>0){const p=Array(f);for(let y=0;y<f;y++)p[y]=a[y];return p}return[]}function S(a,f){for(let y=1;y<arguments.length;y++){const N=arguments[y];var p=typeof N;if(p=p!="object"?p:N?Array.isArray(N)?"array":p:"null",p=="array"||p=="object"&&typeof N.length=="number"){p=a.length||0;const x=N.length||0;a.length=p+x;for(let K=0;K<x;K++)a[p+K]=N[K]}else a.push(N)}}class P{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function k(a){o.setTimeout(()=>{throw a},0)}function C(){var a=T;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class O{constructor(){this.h=this.g=null}add(f,p){const y=V.get();y.set(f,p),this.h?this.h.next=y:this.g=y,this.h=y}}var V=new P(()=>new F,a=>a.reset());class F{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let G,z=!1,T=new O,v=()=>{const a=Promise.resolve(void 0);G=()=>{a.then(_)}};function _(){for(var a;a=C();){try{a.h.call(a.g)}catch(p){k(p)}var f=V;f.j(a),f.h<100&&(f.h++,a.next=f.g,f.g=a)}z=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var A=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};o.addEventListener("test",p,f),o.removeEventListener("test",p,f)}catch{}return a})();function E(a){return/^[\s\xa0]*$/.test(a)}function de(a,f){b.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,f)}d(de,b),de.prototype.init=function(a,f){const p=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget,f||(p=="mouseover"?f=a.fromElement:p=="mouseout"&&(f=a.toElement)),this.relatedTarget=f,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),be=0;function le(a,f,p,y,N){this.listener=a,this.proxy=null,this.src=f,this.type=p,this.capture=!!y,this.ha=N,this.key=++be,this.da=this.fa=!1}function me(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function st(a,f,p){for(const y in a)f.call(p,a[y],y,a)}function Kt(a,f){for(const p in a)f.call(void 0,a[p],p,a)}function bt(a){const f={};for(const p in a)f[p]=a[p];return f}const Ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ut(a,f){let p,y;for(let N=1;N<arguments.length;N++){y=arguments[N];for(p in y)a[p]=y[p];for(let x=0;x<Ue.length;x++)p=Ue[x],Object.prototype.hasOwnProperty.call(y,p)&&(a[p]=y[p])}}function Bt(a){this.src=a,this.g={},this.h=0}Bt.prototype.add=function(a,f,p,y,N){const x=a.toString();a=this.g[x],a||(a=this.g[x]=[],this.h++);const K=it(a,f,y,N);return K>-1?(f=a[K],p||(f.fa=!1)):(f=new le(f,this.src,x,!!y,N),f.fa=p,a.push(f)),f};function Rt(a,f){const p=f.type;if(p in a.g){var y=a.g[p],N=Array.prototype.indexOf.call(y,f,void 0),x;(x=N>=0)&&Array.prototype.splice.call(y,N,1),x&&(me(f),a.g[p].length==0&&(delete a.g[p],a.h--))}}function it(a,f,p,y){for(let N=0;N<a.length;++N){const x=a[N];if(!x.da&&x.listener==f&&x.capture==!!p&&x.ha==y)return N}return-1}var M="closure_lm_"+(Math.random()*1e6|0),Q={};function Y(a,f,p,y,N){if(Array.isArray(f)){for(let x=0;x<f.length;x++)Y(a,f[x],p,y,N);return null}return p=X(p),a&&a[xe]?a.J(f,p,c(y)?!!y.capture:!1,N):te(a,f,p,!1,y,N)}function te(a,f,p,y,N,x){if(!f)throw Error("Invalid event type");const K=c(N)?!!N.capture:!!N;let pe=j(a);if(pe||(a[M]=pe=new Bt(a)),p=pe.add(f,p,y,K,x),p.proxy)return p;if(y=_e(),p.proxy=y,y.src=a,y.listener=p,a.addEventListener)A||(N=K),N===void 0&&(N=!1),a.addEventListener(f.toString(),y,N);else if(a.attachEvent)a.attachEvent(D(f.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function _e(){function a(p){return f.call(a.src,a.listener,p)}const f=B;return a}function w(a,f,p,y,N){if(Array.isArray(f))for(var x=0;x<f.length;x++)w(a,f[x],p,y,N);else y=c(y)?!!y.capture:!!y,p=X(p),a&&a[xe]?(a=a.i,x=String(f).toString(),x in a.g&&(f=a.g[x],p=it(f,p,y,N),p>-1&&(me(f[p]),Array.prototype.splice.call(f,p,1),f.length==0&&(delete a.g[x],a.h--)))):a&&(a=j(a))&&(f=a.g[f.toString()],a=-1,f&&(a=it(f,p,y,N)),(p=a>-1?f[a]:null)&&R(p))}function R(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[xe])Rt(f.i,a);else{var p=a.type,y=a.proxy;f.removeEventListener?f.removeEventListener(p,y,a.capture):f.detachEvent?f.detachEvent(D(p),y):f.addListener&&f.removeListener&&f.removeListener(y),(p=j(f))?(Rt(p,a),p.h==0&&(p.src=null,f[M]=null)):me(a)}}}function D(a){return a in Q?Q[a]:Q[a]="on"+a}function B(a,f){if(a.da)a=!0;else{f=new de(f,this);const p=a.listener,y=a.ha||a.src;a.fa&&R(a),a=p.call(y,f)}return a}function j(a){return a=a[M],a instanceof Bt?a:null}var L="__closure_events_fn_"+(Math.random()*1e9>>>0);function X(a){return typeof a=="function"?a:(a[L]||(a[L]=function(f){return a.handleEvent(f)}),a[L])}function W(){I.call(this),this.i=new Bt(this),this.M=this,this.G=null}d(W,I),W.prototype[xe]=!0,W.prototype.removeEventListener=function(a,f,p,y){w(this,a,f,p,y)};function q(a,f){var p,y=a.G;if(y)for(p=[];y;y=y.G)p.push(y);if(a=a.M,y=f.type||f,typeof f=="string")f=new b(f,a);else if(f instanceof b)f.target=f.target||a;else{var N=f;f=new b(y,a),Ut(f,N)}N=!0;let x,K;if(p)for(K=p.length-1;K>=0;K--)x=f.g=p[K],N=H(x,y,!0,f)&&N;if(x=f.g=a,N=H(x,y,!0,f)&&N,N=H(x,y,!1,f)&&N,p)for(K=0;K<p.length;K++)x=f.g=p[K],N=H(x,y,!1,f)&&N}W.prototype.N=function(){if(W.Z.N.call(this),this.i){var a=this.i;for(const f in a.g){const p=a.g[f];for(let y=0;y<p.length;y++)me(p[y]);delete a.g[f],a.h--}}this.G=null},W.prototype.J=function(a,f,p,y){return this.i.add(String(a),f,!1,p,y)},W.prototype.K=function(a,f,p,y){return this.i.add(String(a),f,!0,p,y)};function H(a,f,p,y){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();let N=!0;for(let x=0;x<f.length;++x){const K=f[x];if(K&&!K.da&&K.capture==p){const pe=K.listener,et=K.ha||K.src;K.fa&&Rt(a.i,K),N=pe.call(et,y)!==!1&&N}}return N&&!y.defaultPrevented}function se(a,f){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(a,f||0)}function J(a){a.g=se(()=>{a.g=null,a.i&&(a.i=!1,J(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class re extends I{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:J(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ie(a){I.call(this),this.h=a,this.g={}}d(ie,I);var ge=[];function Pe(a){st(a.g,function(f,p){this.g.hasOwnProperty(p)&&R(f)},a),a.g={}}ie.prototype.N=function(){ie.Z.N.call(this),Pe(this)},ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ae=o.JSON.stringify,mt=o.JSON.parse,gt=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function $t(){}function jt(){}var an={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bs(){b.call(this,"d")}d(bs,b);function lt(){b.call(this,"c")}d(lt,b);var ot={},fi=null;function qr(){return fi=fi||new W}ot.Ia="serverreachability";function Bf(a){b.call(this,ot.Ia,a)}d(Bf,b);function di(a){const f=qr();q(f,new Bf(f))}ot.STAT_EVENT="statevent";function $f(a,f){b.call(this,ot.STAT_EVENT,a),this.stat=f}d($f,b);function St(a){const f=qr();q(f,new $f(f,a))}ot.Ja="timingevent";function jf(a,f){b.call(this,ot.Ja,a),this.size=f}d(jf,b);function pi(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},f)}function mi(){this.g=!0}mi.prototype.ua=function(){this.g=!1};function QT(a,f,p,y,N,x){a.info(function(){if(a.g)if(x){var K="",pe=x.split("&");for(let De=0;De<pe.length;De++){var et=pe[De].split("=");if(et.length>1){const at=et[0];et=et[1];const gn=at.split("_");K=gn.length>=2&&gn[1]=="type"?K+(at+"="+et+"&"):K+(at+"=redacted&")}}}else K=null;else K=x;return"XMLHTTP REQ ("+y+") [attempt "+N+"]: "+f+`
`+p+`
`+K})}function YT(a,f,p,y,N,x,K){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+N+"]: "+f+`
`+p+`
`+x+" "+K})}function Rs(a,f,p,y){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+JT(a,p)+(y?" "+y:"")})}function XT(a,f){a.info(function(){return"TIMEOUT: "+f})}mi.prototype.info=function(){};function JT(a,f){if(!a.g)return f;if(!f)return null;try{const x=JSON.parse(f);if(x){for(a=0;a<x.length;a++)if(Array.isArray(x[a])){var p=x[a];if(!(p.length<2)){var y=p[1];if(Array.isArray(y)&&!(y.length<1)){var N=y[0];if(N!="noop"&&N!="stop"&&N!="close")for(let K=1;K<y.length;K++)y[K]=""}}}}return Ae(x)}catch{return f}}var Ko={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qf;function dl(){}d(dl,$t),dl.prototype.g=function(){return new XMLHttpRequest},qf=new dl;function gi(a){return encodeURIComponent(String(a))}function ZT(a){var f=1;a=a.split(":");const p=[];for(;f>0&&a.length;)p.push(a.shift()),f--;return a.length&&p.push(a.join(":")),p}function tr(a,f,p,y){this.j=a,this.i=f,this.l=p,this.S=y||1,this.V=new ie(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wf}function Wf(){this.i=null,this.g="",this.h=!1}var Gf={},pl={};function ml(a,f,p){a.M=1,a.A=Yo(mn(f)),a.u=p,a.R=!0,zf(a,null)}function zf(a,f){a.F=Date.now(),Qo(a),a.B=mn(a.A);var p=a.B,y=a.S;Array.isArray(y)||(y=[String(y)]),od(p.i,"t",y),a.C=0,p=a.j.L,a.h=new Wf,a.g=Ad(a.j,p?f:null,!a.u),a.P>0&&(a.O=new re(u(a.Y,a,a.g),a.P)),f=a.V,p=a.g,y=a.ba;var N="readystatechange";Array.isArray(N)||(N&&(ge[0]=N.toString()),N=ge);for(let x=0;x<N.length;x++){const K=Y(p,N[x],y||f.handleEvent,!1,f.h||f);if(!K)break;f.g[K.key]=K}f=a.J?bt(a.J):{},a.u?(a.v||(a.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,f)):(a.v="GET",a.g.ea(a.B,a.v,null,f)),di(),QT(a.i,a.v,a.B,a.l,a.S,a.u)}tr.prototype.ba=function(a){a=a.target;const f=this.O;f&&sr(a)==3?f.j():this.Y(a)},tr.prototype.Y=function(a){try{if(a==this.g)e:{const pe=sr(this.g),et=this.g.ya(),De=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||dd(this.g)))){this.K||pe!=4||et==7||(et==8||De<=0?di(3):di(2)),gl(this);var f=this.g.ca();this.X=f;var p=ew(this);if(this.o=f==200,YT(this.i,this.v,this.B,this.l,this.S,pe,f),this.o){if(this.U&&!this.L){t:{if(this.g){var y,N=this.g;if((y=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(y)){var x=y;break t}}x=null}if(a=x)Rs(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_l(this,a);else{this.o=!1,this.m=3,St(12),Wr(this),_i(this);break e}}if(this.R){a=!0;let at;for(;!this.K&&this.C<p.length;)if(at=tw(this,p),at==pl){pe==4&&(this.m=4,St(14),a=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Gf){this.m=4,St(15),Rs(this.i,this.l,p,"[Invalid Chunk]"),a=!1;break}else Rs(this.i,this.l,at,null),_l(this,at);if(Kf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||p.length!=0||this.h.h||(this.m=1,St(16),a=!1),this.o=this.o&&a,!a)Rs(this.i,this.l,p,"[Invalid Chunked Response]"),Wr(this),_i(this);else if(p.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),bl(K),K.P=!0,St(11))}}else Rs(this.i,this.l,p,null),_l(this,p);pe==4&&Wr(this),this.o&&!this.K&&(pe==4?Ed(this.j,this):(this.o=!1,Qo(this)))}else mw(this.g),f==400&&p.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Wr(this),_i(this)}}}catch{}finally{}};function ew(a){if(!Kf(a))return a.g.la();const f=dd(a.g);if(f==="")return"";let p="";const y=f.length,N=sr(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Wr(a),_i(a),"";a.h.i=new o.TextDecoder}for(let x=0;x<y;x++)a.h.h=!0,p+=a.h.i.decode(f[x],{stream:!(N&&x==y-1)});return f.length=0,a.h.g+=p,a.C=0,a.h.g}function Kf(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function tw(a,f){var p=a.C,y=f.indexOf(`
`,p);return y==-1?pl:(p=Number(f.substring(p,y)),isNaN(p)?Gf:(y+=1,y+p>f.length?pl:(f=f.slice(y,y+p),a.C=y+p,f)))}tr.prototype.cancel=function(){this.K=!0,Wr(this)};function Qo(a){a.T=Date.now()+a.H,Qf(a,a.H)}function Qf(a,f){if(a.D!=null)throw Error("WatchDog timer not null");a.D=pi(u(a.aa,a),f)}function gl(a){a.D&&(o.clearTimeout(a.D),a.D=null)}tr.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(XT(this.i,this.B),this.M!=2&&(di(),St(17)),Wr(this),this.m=2,_i(this)):Qf(this,this.T-a)};function _i(a){a.j.I==0||a.K||Ed(a.j,a)}function Wr(a){gl(a);var f=a.O;f&&typeof f.dispose=="function"&&f.dispose(),a.O=null,Pe(a.V),a.g&&(f=a.g,a.g=null,f.abort(),f.dispose())}function _l(a,f){try{var p=a.j;if(p.I!=0&&(p.g==a||yl(p.h,a))){if(!a.L&&yl(p.h,a)&&p.I==3){try{var y=p.Ba.g.parse(f)}catch{y=null}if(Array.isArray(y)&&y.length==3){var N=y;if(N[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<a.F)ta(p),Zo(p);else break e;Al(p),St(18)}}else p.xa=N[1],0<p.xa-p.K&&N[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=pi(u(p.Va,p),6e3));Jf(p.h)<=1&&p.ta&&(p.ta=void 0)}else zr(p,11)}else if((a.L||p.g==a)&&ta(p),!E(f))for(N=p.Ba.g.parse(f),f=0;f<N.length;f++){let De=N[f];const at=De[0];if(!(at<=p.K))if(p.K=at,De=De[1],p.I==2)if(De[0]=="c"){p.M=De[1],p.ba=De[2];const gn=De[3];gn!=null&&(p.ka=gn,p.j.info("VER="+p.ka));const Kr=De[4];Kr!=null&&(p.za=Kr,p.j.info("SVER="+p.za));const ir=De[5];ir!=null&&typeof ir=="number"&&ir>0&&(y=1.5*ir,p.O=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;const or=a.g;if(or){const ra=or.g?or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var x=y.h;x.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(vl(x,x.h),x.h=null))}if(y.G){const Rl=or.g?or.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(y.wa=Rl,Me(y.J,y.G,Rl))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-a.F,p.j.info("Handshake RTT: "+p.T+"ms")),y=p;var K=a;if(y.na=Id(y,y.L?y.ba:null,y.W),K.L){Zf(y.h,K);var pe=K,et=y.O;et&&(pe.H=et),pe.D&&(gl(pe),Qo(pe)),y.g=K}else yd(y);p.i.length>0&&ea(p)}else De[0]!="stop"&&De[0]!="close"||zr(p,7);else p.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?zr(p,7):Il(p):De[0]!="noop"&&p.l&&p.l.qa(De),p.A=0)}}di(4)}catch{}}var nw=class{constructor(a,f){this.g=a,this.map=f}};function Yf(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Jf(a){return a.h?1:a.g?a.g.size:0}function yl(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function vl(a,f){a.g?a.g.add(f):a.h=f}function Zf(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Yf.prototype.cancel=function(){if(this.i=ed(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ed(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const p of a.g.values())f=f.concat(p.G);return f}return g(a.i)}var td=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rw(a,f){if(a){a=a.split("&");for(let p=0;p<a.length;p++){const y=a[p].indexOf("=");let N,x=null;y>=0?(N=a[p].substring(0,y),x=a[p].substring(y+1)):N=a[p],f(N,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function nr(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;a instanceof nr?(this.l=a.l,yi(this,a.j),this.o=a.o,this.g=a.g,vi(this,a.u),this.h=a.h,El(this,ad(a.i)),this.m=a.m):a&&(f=String(a).match(td))?(this.l=!1,yi(this,f[1]||"",!0),this.o=Ei(f[2]||""),this.g=Ei(f[3]||"",!0),vi(this,f[4]),this.h=Ei(f[5]||"",!0),El(this,f[6]||"",!0),this.m=Ei(f[7]||"")):(this.l=!1,this.i=new wi(null,this.l))}nr.prototype.toString=function(){const a=[];var f=this.j;f&&a.push(Ti(f,nd,!0),":");var p=this.g;return(p||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Ti(f,nd,!0),"@"),a.push(gi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&a.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Ti(p,p.charAt(0)=="/"?ow:iw,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Ti(p,cw)),a.join("")},nr.prototype.resolve=function(a){const f=mn(this);let p=!!a.j;p?yi(f,a.j):p=!!a.o,p?f.o=a.o:p=!!a.g,p?f.g=a.g:p=a.u!=null;var y=a.h;if(p)vi(f,a.u);else if(p=!!a.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var N=f.h.lastIndexOf("/");N!=-1&&(y=f.h.slice(0,N+1)+y)}if(N=y,N==".."||N==".")y="";else if(N.indexOf("./")!=-1||N.indexOf("/.")!=-1){y=N.lastIndexOf("/",0)==0,N=N.split("/");const x=[];for(let K=0;K<N.length;){const pe=N[K++];pe=="."?y&&K==N.length&&x.push(""):pe==".."?((x.length>1||x.length==1&&x[0]!="")&&x.pop(),y&&K==N.length&&x.push("")):(x.push(pe),y=!0)}y=x.join("/")}else y=N}return p?f.h=y:p=a.i.toString()!=="",p?El(f,ad(a.i)):p=!!a.m,p&&(f.m=a.m),f};function mn(a){return new nr(a)}function yi(a,f,p){a.j=p?Ei(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function vi(a,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);a.u=f}else a.u=null}function El(a,f,p){f instanceof wi?(a.i=f,lw(a.i,a.l)):(p||(f=Ti(f,aw)),a.i=new wi(f,a.l))}function Me(a,f,p){a.i.set(f,p)}function Yo(a){return Me(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Ei(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ti(a,f,p){return typeof a=="string"?(a=encodeURI(a).replace(f,sw),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function sw(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var nd=/[#\/\?@]/g,iw=/[#\?:]/g,ow=/[#\?]/g,aw=/[#\?@]/g,cw=/#/g;function wi(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Gr(a){a.g||(a.g=new Map,a.h=0,a.i&&rw(a.i,function(f,p){a.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}t=wi.prototype,t.add=function(a,f){Gr(this),this.i=null,a=Ss(this,a);let p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(f),this.h+=1,this};function rd(a,f){Gr(a),f=Ss(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function sd(a,f){return Gr(a),f=Ss(a,f),a.g.has(f)}t.forEach=function(a,f){Gr(this),this.g.forEach(function(p,y){p.forEach(function(N){a.call(f,N,y,this)},this)},this)};function id(a,f){Gr(a);let p=[];if(typeof f=="string")sd(a,f)&&(p=p.concat(a.g.get(Ss(a,f))));else for(a=Array.from(a.g.values()),f=0;f<a.length;f++)p=p.concat(a[f]);return p}t.set=function(a,f){return Gr(this),this.i=null,a=Ss(this,a),sd(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=id(this,a),a.length>0?String(a[0]):f):f};function od(a,f,p){rd(a,f),p.length>0&&(a.i=null,a.g.set(Ss(a,f),g(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(let y=0;y<f.length;y++){var p=f[y];const N=gi(p);p=id(this,p);for(let x=0;x<p.length;x++){let K=N;p[x]!==""&&(K+="="+gi(p[x])),a.push(K)}}return this.i=a.join("&")};function ad(a){const f=new wi;return f.i=a.i,a.g&&(f.g=new Map(a.g),f.h=a.h),f}function Ss(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function lw(a,f){f&&!a.j&&(Gr(a),a.i=null,a.g.forEach(function(p,y){const N=y.toLowerCase();y!=N&&(rd(this,y),od(this,N,p))},a)),a.j=f}function uw(a,f){const p=new mi;if(o.Image){const y=new Image;y.onload=h(rr,p,"TestLoadImage: loaded",!0,f,y),y.onerror=h(rr,p,"TestLoadImage: error",!1,f,y),y.onabort=h(rr,p,"TestLoadImage: abort",!1,f,y),y.ontimeout=h(rr,p,"TestLoadImage: timeout",!1,f,y),o.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else f(!1)}function hw(a,f){const p=new mi,y=new AbortController,N=setTimeout(()=>{y.abort(),rr(p,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:y.signal}).then(x=>{clearTimeout(N),x.ok?rr(p,"TestPingServer: ok",!0,f):rr(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),rr(p,"TestPingServer: error",!1,f)})}function rr(a,f,p,y,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),y(p)}catch{}}function fw(){this.g=new gt}function Tl(a){this.i=a.Sb||null,this.h=a.ab||!1}d(Tl,$t),Tl.prototype.g=function(){return new Xo(this.i,this.h)};function Xo(a,f){W.call(this),this.H=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Xo,W),t=Xo.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=f,this.readyState=1,Ai(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(f.body=a),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cd(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function cd(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Ii(this):Ai(this),this.readyState==3&&cd(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Ii(this))},t.Na=function(a){this.g&&(this.response=a,Ii(this))},t.ga=function(){this.g&&Ii(this)};function Ii(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Ai(a)}t.setRequestHeader=function(a,f){this.A.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=f.next();return a.join(`\r
`)};function Ai(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ld(a){let f="";return st(a,function(p,y){f+=y,f+=":",f+=p,f+=`\r
`}),f}function wl(a,f,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=ld(p),typeof a=="string"?p!=null&&gi(p):Me(a,f,p))}function He(a){W.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(He,W);var dw=/^https?$/i,pw=["POST","PUT"];t=He.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,f,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qf.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(x){ud(this,x);return}if(a=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var N in y)p.set(N,y[N]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const x of y.keys())p.set(x,y.get(x));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(x=>x.toLowerCase()=="content-type"),N=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(pw,f,void 0)>=0)||y||N||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,K]of p)this.g.setRequestHeader(x,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(x){ud(this,x)}};function ud(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.o=5,hd(a),Jo(a)}function hd(a){a.A||(a.A=!0,q(a,"complete"),q(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,q(this,"complete"),q(this,"abort"),Jo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jo(this,!0)),He.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fd(this):this.Xa())},t.Xa=function(){fd(this)};function fd(a){if(a.h&&typeof i<"u"){if(a.v&&sr(a)==4)setTimeout(a.Ca.bind(a),0);else if(q(a,"readystatechange"),sr(a)==4){a.h=!1;try{const x=a.ca();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var y;if(y=x===0){let K=String(a.D).match(td)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),y=!dw.test(K?K.toLowerCase():"")}p=y}if(p)q(a,"complete"),q(a,"success");else{a.o=6;try{var N=sr(a)>2?a.g.statusText:""}catch{N=""}a.l=N+" ["+a.ca()+"]",hd(a)}}finally{Jo(a)}}}}function Jo(a,f){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const p=a.g;a.g=null,f||q(a,"ready");try{p.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function sr(a){return a.g?a.g.readyState:0}t.ca=function(){try{return sr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),mt(f)}};function dd(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function mw(a){const f={};a=(a.g&&sr(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(E(a[y]))continue;var p=ZT(a[y]);const N=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const x=f[N]||[];f[N]=x,x.push(p)}Kt(f,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(a,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||f}function pd(a){this.za=0,this.i=[],this.j=new mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,a),this.Za=bi("retryDelaySeedMs",1e4,a),this.Ta=bi("forwardChannelMaxRetries",2,a),this.va=bi("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Yf(a&&a.concurrentRequestLimit),this.Ba=new fw,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=pd.prototype,t.ka=8,t.I=1,t.connect=function(a,f,p,y){St(0),this.W=a,this.H=f||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.J=Id(this,null,this.W),ea(this)};function Il(a){if(md(a),a.I==3){var f=a.V++,p=mn(a.J);if(Me(p,"SID",a.M),Me(p,"RID",f),Me(p,"TYPE","terminate"),Ri(a,p),f=new tr(a,a.j,f),f.M=2,f.A=Yo(mn(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!p&&o.Image&&(new Image().src=f.A,p=!0),p||(f.g=Ad(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Qo(f)}wd(a)}function Zo(a){a.g&&(bl(a),a.g.cancel(),a.g=null)}function md(a){Zo(a),a.v&&(o.clearTimeout(a.v),a.v=null),ta(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function ea(a){if(!Xf(a.h)&&!a.m){a.m=!0;var f=a.Ea;G||v(),z||(G(),z=!0),T.add(f,a),a.D=0}}function gw(a,f){return Jf(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=f.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=pi(u(a.Ea,a,f),Td(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const N=new tr(this,this.j,a);let x=this.o;if(this.U&&(x?(x=bt(x),Ut(x,this.U)):x=this.U),this.u!==null||this.R||(N.J=x,x=null),this.S)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(f+=y,f>4096){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=_d(this,N,f),p=mn(this.J),Me(p,"RID",a),Me(p,"CVER",22),this.G&&Me(p,"X-HTTP-Session-Id",this.G),Ri(this,p),x&&(this.R?f="headers="+gi(ld(x))+"&"+f:this.u&&wl(p,this.u,x)),vl(this.h,N),this.Ra&&Me(p,"TYPE","init"),this.S?(Me(p,"$req",f),Me(p,"SID","null"),N.U=!0,ml(N,p,null)):ml(N,p,f),this.I=2}}else this.I==3&&(a?gd(this,a):this.i.length==0||Xf(this.h)||gd(this))};function gd(a,f){var p;f?p=f.l:p=a.V++;const y=mn(a.J);Me(y,"SID",a.M),Me(y,"RID",p),Me(y,"AID",a.K),Ri(a,y),a.u&&a.o&&wl(y,a.u,a.o),p=new tr(a,a.j,p,a.D+1),a.u===null&&(p.J=a.o),f&&(a.i=f.G.concat(a.i)),f=_d(a,p,1e3),p.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),vl(a.h,p),ml(p,y,f)}function Ri(a,f){a.H&&st(a.H,function(p,y){Me(f,y,p)}),a.l&&st({},function(p,y){Me(f,y,p)})}function _d(a,f,p){p=Math.min(a.i.length,p);const y=a.l?u(a.l.Ka,a.l,a):null;e:{var N=a.i;let pe=-1;for(;;){const et=["count="+p];pe==-1?p>0?(pe=N[0].g,et.push("ofs="+pe)):pe=0:et.push("ofs="+pe);let De=!0;for(let at=0;at<p;at++){var x=N[at].g;const gn=N[at].map;if(x-=pe,x<0)pe=Math.max(0,N[at].g-100),De=!1;else try{x="req"+x+"_"||"";try{var K=gn instanceof Map?gn:Object.entries(gn);for(const[Kr,ir]of K){let or=ir;c(ir)&&(or=Ae(ir)),et.push(x+Kr+"="+encodeURIComponent(or))}}catch(Kr){throw et.push(x+"type="+encodeURIComponent("_badmap")),Kr}}catch{y&&y(gn)}}if(De){K=et.join("&");break e}}K=void 0}return a=a.i.splice(0,p),f.G=a,K}function yd(a){if(!a.g&&!a.v){a.Y=1;var f=a.Da;G||v(),z||(G(),z=!0),T.add(f,a),a.A=0}}function Al(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=pi(u(a.Da,a),Td(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,vd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=pi(u(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Zo(this),vd(this))};function bl(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function vd(a){a.g=new tr(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var f=mn(a.na);Me(f,"RID","rpc"),Me(f,"SID",a.M),Me(f,"AID",a.K),Me(f,"CI",a.F?"0":"1"),!a.F&&a.ia&&Me(f,"TO",a.ia),Me(f,"TYPE","xmlhttp"),Ri(a,f),a.u&&a.o&&wl(f,a.u,a.o),a.O&&(a.g.H=a.O);var p=a.g;a=a.ba,p.M=1,p.A=Yo(mn(f)),p.u=null,p.R=!0,zf(p,a)}t.Va=function(){this.C!=null&&(this.C=null,Zo(this),Al(this),St(19))};function ta(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function Ed(a,f){var p=null;if(a.g==f){ta(a),bl(a),a.g=null;var y=2}else if(yl(a.h,f))p=f.G,Zf(a.h,f),y=1;else return;if(a.I!=0){if(f.o)if(y==1){p=f.u?f.u.length:0,f=Date.now()-f.F;var N=a.D;y=qr(),q(y,new jf(y,p)),ea(a)}else yd(a);else if(N=f.m,N==3||N==0&&f.X>0||!(y==1&&gw(a,f)||y==2&&Al(a)))switch(p&&p.length>0&&(f=a.h,f.i=f.i.concat(p)),N){case 1:zr(a,5);break;case 4:zr(a,10);break;case 3:zr(a,6);break;default:zr(a,2)}}}function Td(a,f){let p=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(p*=2),p*f}function zr(a,f){if(a.j.info("Error code "+f),f==2){var p=u(a.bb,a),y=a.Ua;const N=!y;y=new nr(y||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||yi(y,"https"),Yo(y),N?uw(y.toString(),p):hw(y.toString(),p)}else St(2);a.I=0,a.l&&a.l.pa(f),wd(a),md(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function wd(a){if(a.I=0,a.ja=[],a.l){const f=ed(a.h);(f.length!=0||a.i.length!=0)&&(S(a.ja,f),S(a.ja,a.i),a.h.i.length=0,g(a.i),a.i.length=0),a.l.oa()}}function Id(a,f,p){var y=p instanceof nr?mn(p):new nr(p);if(y.g!="")f&&(y.g=f+"."+y.g),vi(y,y.u);else{var N=o.location;y=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;const x=new nr(null);y&&yi(x,y),f&&(x.g=f),N&&vi(x,N),p&&(x.h=p),y=x}return p=a.G,f=a.wa,p&&f&&Me(y,p,f),Me(y,"VER",a.ka),Ri(a,y),y}function Ad(a,f,p){if(f&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Aa&&!a.ma?new He(new Tl({ab:p})):new He(a.ma),f.Fa(a.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bd(){}t=bd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function na(){}na.prototype.g=function(a,f){return new Ht(a,f)};function Ht(a,f){W.call(this),this.g=new pd(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(a?a["X-WebChannel-Client-Profile"]=f.sa:a={"X-WebChannel-Client-Profile":f.sa}),this.g.U=a,(a=f&&f.Qb)&&!E(a)&&(this.g.u=a),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!E(f)&&(this.g.G=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Cs(this)}d(Ht,W),Ht.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Il(this.g)},Ht.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.v&&(p={},p.__data__=Ae(a),a=p);f.i.push(new nw(f.Ya++,a)),f.I==3&&ea(f)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,Ht.Z.N.call(this)};function Rd(a){bs.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const p in f){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}d(Rd,bs);function Sd(){lt.call(this),this.status=1}d(Sd,lt);function Cs(a){this.g=a}d(Cs,bd),Cs.prototype.ra=function(){q(this.g,"a")},Cs.prototype.qa=function(a){q(this.g,new Rd(a))},Cs.prototype.pa=function(a){q(this.g,new Sd)},Cs.prototype.oa=function(){q(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,zv=function(){return new na},Gv=function(){return qr()},Wv=ot,Fu={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ko.NO_ERROR=0,Ko.TIMEOUT=8,Ko.HTTP_ERROR=6,Da=Ko,Hf.COMPLETE="complete",qv=Hf,jt.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",W.prototype.listen=W.prototype.J,Li=jt,He.prototype.listenOnce=He.prototype.K,He.prototype.getLastError=He.prototype.Ha,He.prototype.getLastErrorCode=He.prototype.ya,He.prototype.getStatus=He.prototype.ca,He.prototype.getResponseJson=He.prototype.La,He.prototype.getResponseText=He.prototype.la,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Fa,Hv=He}).apply(typeof pa<"u"?pa:typeof self<"u"?self:typeof window<"u"?window:{});const Pm="@firebase/firestore",Dm="4.9.2";class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");let ai="12.3.0";const _s=new xh("@firebase/firestore");function Ms(){return _s.logLevel}function ee(t,...e){if(_s.logLevel<=ye.DEBUG){const n=e.map(Kh);_s.debug(`Firestore (${ai}): ${t}`,...n)}}function Yn(t,...e){if(_s.logLevel<=ye.ERROR){const n=e.map(Kh);_s.error(`Firestore (${ai}): ${t}`,...n)}}function Zs(t,...e){if(_s.logLevel<=ye.WARN){const n=e.map(Kh);_s.warn(`Firestore (${ai}): ${t}`,...n)}}function Kh(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Kv(t,r,n)}function Kv(t,e,n){let r=`FIRESTORE (${ai}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Yn(r),new Error(r)}function Ce(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Kv(e,s,r)}function fe(t,e){return t}const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wn{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Qv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vt.UNAUTHENTICATED)))}shutdown(){}}class g1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _1{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Wn,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},c=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>c(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Wn)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new Qv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new vt(e)}}class y1{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v1{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y1(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class km{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E1{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const r=i=>{i.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new km(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new km(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function T1(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Qh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=T1(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function Uu(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return eu(s)===eu(i)?ve(s,i):eu(s)?1:-1}return ve(t.length,e.length)}const w1=55296,I1=57343;function eu(t){const e=t.charCodeAt(0);return e>=w1&&e<=I1}function ei(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}const Nm="__name__";class En{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return En.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof En?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=En.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ve(e.length,n.length)}static compareSegments(e,n){const r=En.isNumericId(e),s=En.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?En.extractNumericId(e).compare(En.extractNumericId(n)):Uu(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}}class Ve extends En{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Ve(n)}static emptyPath(){return new Ve([])}}const A1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends En{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return A1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nm}static keyField(){return new dt([Nm])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Z(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new Z(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ve.fromString(e))}static fromName(e){return new ne(Ve.fromString(e).popFirst(5))}static empty(){return new ne(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ve(e.slice()))}}function Yv(t,e,n){if(!n)throw new Z(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b1(t,e,n,r){if(e===!0&&r===!0)throw new Z(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Om(t){if(!ne.isDocumentKey(t))throw new Z(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vm(t){if(ne.isDocumentKey(t))throw new Z(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xv(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Wc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wc(t);throw new Z(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ze(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uo(t,e){if(!Xv(t))throw new Z(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Z(U.INVALID_ARGUMENT,n);return!0}const xm=-62135596800,Mm=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Mm);return new Le(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xm)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mm}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uo(e,Le._jsonSchema))return new Le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:Ze("string",Le._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Le(0,0))}static max(){return new he(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const yo=-1;function R1(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new kr(s,ne.empty(),e)}function S1(t){return new kr(t.readTime,t.key,yo)}class kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kr(he.min(),ne.empty(),yo)}static max(){return new kr(he.max(),ne.empty(),yo)}}function C1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}const P1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ci(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==P1)throw t;ee("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,r)=>{n(e)}))}static reject(e){return new $(((n,r)=>{r(e)}))}static waitFor(e){return new $(((n,r)=>{let s=0,i=0,o=!1;e.forEach((c=>{++s,c.next((()=>{++i,o&&i===s&&n()}),(l=>r(l)))})),o=!0,i===s&&n()}))}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next((s=>s?$.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new $(((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next((h=>{o[u]=h,++c,c===i&&r(o)}),(h=>s(h)))}}))}static doWhile(e,n){return new $(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function k1(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function li(t){return t.name==="IndexedDbTransactionError"}class Gc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gc.ce=-1;const Yh=-1;function zc(t){return t==null}function oc(t){return t===0&&1/t==-1/0}function N1(t){return typeof t=="number"&&Number.isInteger(t)&&!oc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Jv="";function O1(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lm(e)),e=V1(t.get(n),e);return Lm(e)}function V1(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Jv:n+="";break;default:n+=i}}return n}function Lm(t){return t+Jv+""}function Fm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class je{constructor(e,n){this.comparator=e,this.root=n||ut.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ut.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ma(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ma(this.root,e,this.comparator,!1)}getReverseIterator(){return new ma(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ma(this.root,e,this.comparator,!0)}}class ma{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ut{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ut.RED,this.left=s??ut.EMPTY,this.right=i??ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ut(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}ut.EMPTY=null,ut.RED=!0,ut.BLACK=!1;ut.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nt{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Um(this.data.getIterator())}getIteratorFrom(e){return new Um(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class Um{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gt{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new Gt([])}unionWith(e){let n=new nt(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ei(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new eE("Invalid base64 string: "+i):i}})(e);return new pt(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const x1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=x1.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Or(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}const tE="server_timestamp",nE="__type__",rE="__previous_value__",sE="__local_write_time__";function Xh(t){return(t?.mapValue?.fields||{})[nE]?.stringValue===tE}function Kc(t){const e=t.mapValue.fields[rE];return Xh(e)?Kc(e):e}function vo(t){const e=Nr(t.mapValue.fields[sE].timestampValue);return new Le(e.seconds,e.nanos)}class M1{constructor(e,n,r,s,i,o,c,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const ac="(default)";class Eo{constructor(e,n){this.projectId=e,this.database=n||ac}static empty(){return new Eo("","")}get isDefaultDatabase(){return this.database===ac}isEqual(e){return e instanceof Eo&&e.projectId===this.projectId&&e.database===this.database}}const iE="__type__",L1="__max__",ga={mapValue:{}},oE="__vector__",cc="value";function Vr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xh(t)?4:U1(t)?9007199254740991:F1(t)?10:11:ae(28295,{value:t})}function Dn(t,e){if(t===e)return!0;const n=Vr(t);if(n!==Vr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vo(t).isEqual(vo(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Nr(s.timestampValue),c=Nr(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Or(s.bytesValue).isEqual(Or(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Ke(s.geoPointValue.latitude)===Ke(i.geoPointValue.latitude)&&Ke(s.geoPointValue.longitude)===Ke(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Ke(s.integerValue)===Ke(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ke(s.doubleValue),c=Ke(i.doubleValue);return o===c?oc(o)===oc(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return ei(t.arrayValue.values||[],e.arrayValue.values||[],Dn);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(Fm(o)!==Fm(c))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!Dn(o[l],c[l])))return!1;return!0})(t,e);default:return ae(52216,{left:t})}}function To(t,e){return(t.values||[]).find((n=>Dn(n,e)))!==void 0}function ti(t,e){if(t===e)return 0;const n=Vr(t),r=Vr(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const c=Ke(i.integerValue||i.doubleValue),l=Ke(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1})(t,e);case 3:return Bm(t.timestampValue,e.timestampValue);case 4:return Bm(vo(t),vo(e));case 5:return Uu(t.stringValue,e.stringValue);case 6:return(function(i,o){const c=Or(i),l=Or(o);return c.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const c=i.split("/"),l=o.split("/");for(let u=0;u<c.length&&u<l.length;u++){const h=ve(c[u],l[u]);if(h!==0)return h}return ve(c.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const c=ve(Ke(i.latitude),Ke(o.latitude));return c!==0?c:ve(Ke(i.longitude),Ke(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return $m(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const c=i.fields||{},l=o.fields||{},u=c[cc]?.arrayValue,h=l[cc]?.arrayValue,d=ve(u?.values?.length||0,h?.values?.length||0);return d!==0?d:$m(u,h)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===ga.mapValue&&o===ga.mapValue)return 0;if(i===ga.mapValue)return 1;if(o===ga.mapValue)return-1;const c=i.fields||{},l=Object.keys(c),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const m=Uu(l[d],h[d]);if(m!==0)return m;const g=ti(c[l[d]],u[h[d]]);if(g!==0)return g}return ve(l.length,h.length)})(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function Bm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=Nr(t),r=Nr(e),s=ve(n.seconds,r.seconds);return s!==0?s:ve(n.nanos,r.nanos)}function $m(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ti(n[s],r[s]);if(i)return i}return ve(n.length,r.length)}function ni(t){return Bu(t)}function Bu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Nr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Or(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Bu(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Bu(n.fields[o])}`;return s+"}"})(t.mapValue):ae(61005,{value:t})}function ka(t){switch(Vr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kc(t);return e?16+ka(e):16;case 5:return 2*t.stringValue.length;case 6:return Or(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+ka(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return jr(r.fields,((i,o)=>{s+=i.length+ka(o)})),s})(t.mapValue);default:throw ae(13486,{value:t})}}function jm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $u(t){return!!t&&"integerValue"in t}function Jh(t){return!!t&&"arrayValue"in t}function Hm(t){return!!t&&"nullValue"in t}function qm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Na(t){return!!t&&"mapValue"in t}function F1(t){return(t?.mapValue?.fields||{})[iE]?.stringValue===oE}function eo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return jr(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=eo(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eo(t.arrayValue.values[n]);return e}return{...t}}function U1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===L1}class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Na(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(n)}setAll(e){let n=dt.emptyPath(),r={},s=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=eo(o):s.push(c.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Na(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Na(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){jr(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Ft(eo(this.value))}}function aE(t){const e=[];return jr(t.fields,((n,r)=>{const s=new dt([n]);if(Na(r)){const i=aE(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Gt(e)}class Tt{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Tt(e,0,he.min(),he.min(),he.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,s){return new Tt(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new Tt(e,2,n,he.min(),he.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,he.min(),he.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lc{constructor(e,n){this.position=e,this.inclusive=n}}function Wm(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=ti(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Gm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dn(t.position[n],e.position[n]))return!1;return!0}class uc{constructor(e,n="asc"){this.field=e,this.dir=n}}function B1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class cE{}class Je extends cE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j1(e,n,r):n==="array-contains"?new W1(e,r):n==="in"?new G1(e,r):n==="not-in"?new z1(e,r):n==="array-contains-any"?new K1(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new H1(e,r):new q1(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ti(n,this.value)):n!==null&&Vr(this.value)===Vr(n)&&this.matchesComparison(ti(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends cE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new pn(e,n)}matches(e){return lE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lE(t){return t.op==="and"}function uE(t){return $1(t)&&lE(t)}function $1(t){for(const e of t.filters)if(e instanceof pn)return!1;return!0}function ju(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+ni(t.value);if(uE(t))return t.filters.map((e=>ju(e))).join(",");{const e=t.filters.map((n=>ju(n))).join(",");return`${t.op}(${e})`}}function hE(t,e){return t instanceof Je?(function(r,s){return s instanceof Je&&r.op===s.op&&r.field.isEqual(s.field)&&Dn(r.value,s.value)})(t,e):t instanceof pn?(function(r,s){return s instanceof pn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,c)=>i&&hE(o,s.filters[c])),!0):!1})(t,e):void ae(19439)}function fE(t){return t instanceof Je?(function(n){return`${n.field.canonicalString()} ${n.op} ${ni(n.value)}`})(t):t instanceof pn?(function(n){return n.op.toString()+" {"+n.getFilters().map(fE).join(" ,")+"}"})(t):"Filter"}class j1 extends Je{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class H1 extends Je{constructor(e,n){super(e,"in",n),this.keys=dE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class q1 extends Je{constructor(e,n){super(e,"not-in",n),this.keys=dE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dE(t,e){return(e.arrayValue?.values||[]).map((n=>ne.fromName(n.referenceValue)))}class W1 extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jh(n)&&To(n.arrayValue,this.value)}}class G1 extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&To(this.value.arrayValue,n)}}class z1 extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!To(this.value.arrayValue,n)}}class K1 extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>To(this.value.arrayValue,r)))}}class Q1{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function zm(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Q1(t,e,n,r,s,i,o)}function Zh(t){const e=fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ju(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),zc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ni(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ni(r))).join(",")),e.Te=n}return e.Te}function ef(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!B1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gm(t.startAt,e.startAt)&&Gm(t.endAt,e.endAt)}function Hu(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Bo{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y1(t,e,n,r,s,i,o,c){return new Bo(t,e,n,r,s,i,o,c)}function tf(t){return new Bo(t)}function Km(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pE(t){return t.collectionGroup!==null}function to(t){const e=fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new nt(dt.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(c=c.add(u.field))}))})),c})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new uc(i,r))})),n.has(dt.keyField().canonicalString())||e.Ie.push(new uc(dt.keyField(),r))}return e.Ie}function Rn(t){const e=fe(t);return e.Ee||(e.Ee=X1(e,to(t))),e.Ee}function X1(t,e){if(t.limitType==="F")return zm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new uc(s.field,i)}));const n=t.endAt?new lc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lc(t.startAt.position,t.startAt.inclusive):null;return zm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qu(t,e){const n=t.filters.concat([e]);return new Bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wu(t,e,n){return new Bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qc(t,e){return ef(Rn(t),Rn(e))&&t.limitType===e.limitType}function mE(t){return`${Zh(Rn(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>fE(s))).join(", ")}]`),zc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>ni(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>ni(s))).join(",")),`Target(${r})`})(Rn(t))}; limitType=${t.limitType})`}function Yc(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of to(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,c,l){const u=Wm(o,c,l);return o.inclusive?u<=0:u<0})(r.startAt,to(r),s)||r.endAt&&!(function(o,c,l){const u=Wm(o,c,l);return o.inclusive?u>=0:u>0})(r.endAt,to(r),s))})(t,e)}function J1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gE(t){return(e,n)=>{let r=!1;for(const s of to(t)){const i=Z1(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Z1(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):(function(i,o,c){const l=o.data.field(i),u=c.data.field(i);return l!==null&&u!==null?ti(l,u):ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}class ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){jr(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return Zv(this.inner)}size(){return this.innerSize}}const eD=new je(ne.comparator);function Xn(){return eD}const _E=new je(ne.comparator);function Fi(...t){let e=_E;for(const n of t)e=e.insert(n.key,n);return e}function yE(t){let e=_E;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function is(){return no()}function vE(){return no()}function no(){return new ws((t=>t.toString()),((t,e)=>t.isEqual(e)))}const tD=new je(ne.comparator),nD=new nt(ne.comparator);function Ee(...t){let e=nD;for(const n of t)e=e.add(n);return e}const rD=new nt(ve);function sD(){return rD}function nf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function EE(t){return{integerValue:""+t}}function TE(t,e){return N1(e)?EE(e):nf(t,e)}class Xc{constructor(){this._=void 0}}function iD(t,e,n){return t instanceof wo?(function(s,i){const o={fields:{[nE]:{stringValue:tE},[sE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Xh(i)&&(i=Kc(i)),i&&(o.fields[rE]=i),{mapValue:o}})(n,e):t instanceof Io?IE(t,e):t instanceof Ao?AE(t,e):(function(s,i){const o=wE(s,i),c=Qm(o)+Qm(s.Ae);return $u(o)&&$u(s.Ae)?EE(c):nf(s.serializer,c)})(t,e)}function oD(t,e,n){return t instanceof Io?IE(t,e):t instanceof Ao?AE(t,e):n}function wE(t,e){return t instanceof bo?(function(r){return $u(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class wo extends Xc{}class Io extends Xc{constructor(e){super(),this.elements=e}}function IE(t,e){const n=bE(e);for(const r of t.elements)n.some((s=>Dn(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Ao extends Xc{constructor(e){super(),this.elements=e}}function AE(t,e){let n=bE(e);for(const r of t.elements)n=n.filter((s=>!Dn(s,r)));return{arrayValue:{values:n}}}class bo extends Xc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Qm(t){return Ke(t.integerValue||t.doubleValue)}function bE(t){return Jh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class RE{constructor(e,n){this.field=e,this.transform=n}}function aD(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Io&&s instanceof Io||r instanceof Ao&&s instanceof Ao?ei(r.elements,s.elements,Dn):r instanceof bo&&s instanceof bo?Dn(r.Ae,s.Ae):r instanceof wo&&s instanceof wo})(t.transform,e.transform)}class cD{constructor(e,n){this.version=e,this.transformResults=n}}class nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jc{}function SE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rf(t.key,nn.none()):new $o(t.key,t.data,nn.none());{const n=t.data,r=Ft.empty();let s=new nt(dt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Hr(t.key,r,new Gt(s.toArray()),nn.none())}}function lD(t,e,n){t instanceof $o?(function(s,i,o){const c=s.value.clone(),l=Xm(s.fieldTransforms,i,o.transformResults);c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Hr?(function(s,i,o){if(!Oa(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=Xm(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(CE(s)),l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function ro(t,e,n,r){return t instanceof $o?(function(i,o,c,l){if(!Oa(i.precondition,o))return c;const u=i.value.clone(),h=Jm(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof Hr?(function(i,o,c,l){if(!Oa(i.precondition,o))return c;const u=Jm(i.fieldTransforms,l,o),h=o.data;return h.setAll(CE(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((d=>d.field)))})(t,e,n,r):(function(i,o,c){return Oa(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function uD(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=wE(r.transform,s||null);i!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,i))}return n||null}function Ym(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ei(r,s,((i,o)=>aD(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $o extends Jc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Hr extends Jc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function CE(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Xm(t,e,n){const r=new Map;Ce(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,oD(o,c,n[s]))}return r}function Jm(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,iD(i,o,e))}return r}class rf extends Jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hD extends Jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fD{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&lD(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ro(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ro(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vE();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const l=SE(o,c);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ee())}isEqual(e){return this.batchId===e.batchId&&ei(this.mutations,e.mutations,((n,r)=>Ym(n,r)))&&ei(this.baseMutations,e.baseMutations,((n,r)=>Ym(n,r)))}}class sf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return tD})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new sf(e,n,r,s)}}class dD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class pD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Xe,Ie;function mD(t){switch(t){case U.OK:return ae(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function PE(t){if(t===void 0)return Yn("GRPC error has no .code"),U.UNKNOWN;switch(t){case Xe.OK:return U.OK;case Xe.CANCELLED:return U.CANCELLED;case Xe.UNKNOWN:return U.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return U.INTERNAL;case Xe.UNAVAILABLE:return U.UNAVAILABLE;case Xe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Xe.NOT_FOUND:return U.NOT_FOUND;case Xe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Xe.ABORTED:return U.ABORTED;case Xe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Xe.DATA_LOSS:return U.DATA_LOSS;default:return ae(39323,{code:t})}}(Ie=Xe||(Xe={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";function gD(){return new TextEncoder}const _D=new Rr([4294967295,4294967295],0);function Zm(t){const e=gD().encode(t),n=new jv;return n.update(e),new Uint8Array(n.digest())}function eg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Rr([n,r],0),new Rr([s,i],0)]}class of{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ui(`Invalid padding: ${n}`);if(r<0)throw new Ui(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ui(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ui(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Rr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Rr.fromNumber(r)));return s.compare(_D)===1&&(s=new Rr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Zm(e),[r,s]=eg(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new of(i,s,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=Zm(e),[r,s]=eg(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ui extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,jo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zc(he.min(),s,new je(ve),Xn(),Ee())}}class jo{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jo(r,n,Ee(),Ee(),Ee())}}class Va{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class DE{constructor(e,n){this.targetId=e,this.Ce=n}}class kE{constructor(e,n,r=pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class tg{constructor(){this.ve=0,this.Fe=ng(),this.Me=pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}})),new jo(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ng()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xn(),this.Je=_a(),this.He=_a(),this.Ye=new je(ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Hu(i))if(r===0){const o=new ne(i.path);this.et(n,o,Tt.newNoDocument(o,he.min()))}else Ce(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),l=c?this.ct(c,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=Or(r).toUint8Array()}catch(l){if(l instanceof eE)return Zs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new of(o,s,i)}catch(l){return Zs(l instanceof Ui?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const c=this.ot(o);if(c){if(i.current&&Hu(c.target)){const l=new ne(c.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Tt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=Ee();this.He.forEach(((i,o)=>{let c=!0;o.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new Zc(e,n,this.Ye,this.je,r);return this.je=Xn(),this.Je=_a(),this.He=_a(),this.Ye=new je(ve),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tg,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nt(ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nt(ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tg),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _a(){return new je(ne.comparator)}function ng(){return new je(ne.comparator)}const vD={asc:"ASCENDING",desc:"DESCENDING"},ED={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TD={and:"AND",or:"OR"};class wD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gu(t,e){return t.useProto3Json||zc(e)?e:{value:e}}function hc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ID(t,e){return hc(t,e.toTimestamp())}function Sn(t){return Ce(!!t,49232),he.fromTimestamp((function(n){const r=Nr(n);return new Le(r.seconds,r.nanos)})(t))}function af(t,e){return zu(t,e).canonicalString()}function zu(t,e){const n=(function(s){return new Ve(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function OE(t){const e=Ve.fromString(t);return Ce(FE(e),10190,{key:e.toString()}),e}function Ku(t,e){return af(t.databaseId,e.path)}function tu(t,e){const n=OE(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(xE(n))}function VE(t,e){return af(t.databaseId,e)}function AD(t){const e=OE(t);return e.length===4?Ve.emptyPath():xE(e)}function Qu(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xE(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rg(t,e,n){return{name:Ku(t,e),fields:n.value.mapValue.fields}}function bD(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(u,h){return u.useProto3Json?(Ce(h===void 0||typeof h=="string",58123),pt.fromBase64String(h||"")):(Ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),pt.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(u){const h=u.code===void 0?U.UNKNOWN:PE(u.code);return new Z(h,u.message||"")})(o);n=new kE(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=tu(t,r.document.name),i=Sn(r.document.updateTime),o=r.document.createTime?Sn(r.document.createTime):he.min(),c=new Ft({mapValue:{fields:r.document.fields}}),l=Tt.newFoundDocument(s,i,o,c),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Va(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=tu(t,r.document),i=r.readTime?Sn(r.readTime):he.min(),o=Tt.newNoDocument(s,i),c=r.removedTargetIds||[];n=new Va([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=tu(t,r.document),i=r.removedTargetIds||[];n=new Va([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new pD(s,i),c=r.targetId;n=new DE(c,o)}}return n}function RD(t,e){let n;if(e instanceof $o)n={update:rg(t,e.key,e.value)};else if(e instanceof rf)n={delete:Ku(t,e.key)};else if(e instanceof Hr)n={update:rg(t,e.key,e.data),updateMask:xD(e.fieldMask)};else{if(!(e instanceof hD))return ae(16599,{Vt:e.type});n={verify:Ku(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const c=o.transform;if(c instanceof wo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Io)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ao)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof bo)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw ae(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:ID(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)})(t,e.precondition)),n}function SD(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?Sn(s.updateTime):Sn(i);return o.isEqual(he.min())&&(o=Sn(i)),new cD(o,s.transformResults||[])})(n,e)))):[]}function CD(t,e){return{documents:[VE(t,e.path)]}}function PD(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VE(t,s);const i=(function(u){if(u.length!==0)return LE(pn.create(u,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(u){if(u.length!==0)return u.map((h=>(function(m){return{field:Fs(m.field),direction:ND(m.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=Gu(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:s}}function DD(t){let e=AD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ce(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=(function(d){const m=ME(d);return m instanceof pn&&uE(m)?m.getFilters():[m]})(n.where));let o=[];n.orderBy&&(o=(function(d){return d.map((m=>(function(S){return new uc(Us(S.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m)))})(n.orderBy));let c=null;n.limit&&(c=(function(d){let m;return m=typeof d=="object"?d.value:d,zc(m)?null:m})(n.limit));let l=null;n.startAt&&(l=(function(d){const m=!!d.before,g=d.values||[];return new lc(g,m)})(n.startAt));let u=null;return n.endAt&&(u=(function(d){const m=!d.before,g=d.values||[];return new lc(g,m)})(n.endAt)),Y1(e,s,o,i,c,"F",l,u)}function kD(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ME(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Us(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Us(n.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Us(n.unaryFilter.field);return Je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Us(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Je.create(Us(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return pn.create(n.compositeFilter.filters.map((r=>ME(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}})(n.compositeFilter.op))})(t):ae(30097,{filter:t})}function ND(t){return vD[t]}function OD(t){return ED[t]}function VD(t){return TD[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Us(t){return dt.fromServerFormat(t.fieldPath)}function LE(t){return t instanceof Je?(function(n){if(n.op==="=="){if(qm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(Hm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(Hm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:OD(n.op),value:n.value}}})(t):t instanceof pn?(function(n){const r=n.getFilters().map((s=>LE(s)));return r.length===1?r[0]:{compositeFilter:{op:VD(n.op),filters:r}}})(t):ae(54877,{filter:t})}function xD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function FE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Tr{constructor(e,n,r,s,i=he.min(),o=he.min(),c=pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MD{constructor(e){this.yt=e}}function LD(t){const e=DD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wu(e,e.limit,"L"):e}class FD{constructor(){this.Cn=new UD}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(kr.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class UD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nt(Ve.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nt(Ve.comparator)).toArray()}}const sg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class xt{static withCacheSize(e){return new xt(e,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}xt.DEFAULT_COLLECTION_PERCENTILE=10,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xt.DEFAULT=new xt(UE,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xt.DISABLED=new xt(-1,0,0);class ri{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ri(0)}static cr(){return new ri(-1)}}const ig="LruGarbageCollector",BD=1048576;function og([t,e],[n,r]){const s=ve(t,n);return s===0?ve(e,r):s}class $D{constructor(e){this.Ir=e,this.buffer=new nt(og),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();og(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ee(ig,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){li(n)?ee(ig,"Ignoring IndexedDB error during garbage collection: ",n):await ci(n)}await this.Vr(3e5)}))}}class HD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Gc.ce);const r=new $D(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(sg)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sg):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,c,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s)))).next((d=>(r=d,c=Date.now(),this.removeTargets(e,r,n)))).next((d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((d=>(u=Date.now(),Ms()<=ye.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(l-c)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d}))))}}function qD(t,e){return new HD(t,e)}class WD{constructor(){this.changes=new ws((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class zD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&ro(r.mutation,s,Gt.empty(),Le.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ee()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ee()){const s=is();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=Fi();return i.forEach(((c,l)=>{o=o.insert(c,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=is();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ee())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,s){let i=Xn();const o=no(),c=(function(){return no()})();return n.forEach(((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Hr)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),ro(h.mutation,u,h.mutation.getFieldMask(),Le.now())):o.set(u.key,Gt.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((u,h)=>o.set(u,h))),n.forEach(((u,h)=>c.set(u,new GD(h,o.get(u)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=no();let s=new je(((o,c)=>o-c)),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Gt.empty();h=c.applyToLocalView(u,h),r.set(l,h);const d=(s.get(c.batchId)||Ee()).add(l);s=s.insert(c.batchId,d)}))})).next((()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),u=l.key,h=l.value,d=vE();h.forEach((m=>{if(!i.has(m)){const g=SE(n.get(m),r.get(m));g!==null&&d.set(m,g),i=i.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return $.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(is());let c=yo,l=i;return o.next((u=>$.forEach(u,((h,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next((m=>{l=l.insert(h,m)}))))).next((()=>this.populateOverlays(e,u,i))).next((()=>this.computeViews(e,l,u,Ee()))).next((h=>({batchId:c,changes:yE(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next((r=>{let s=Fi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Fi();return this.indexManager.getCollectionParents(e,i).next((c=>$.forEach(c,(l=>{const u=(function(d,m){return new Bo(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next((h=>{h.forEach(((d,m)=>{o=o.insert(d,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Tt.newInvalidDocument(h)))}));let c=Fi();return o.forEach(((l,u)=>{const h=i.get(l);h!==void 0&&ro(h.mutation,u,Gt.empty(),Le.now()),Yc(n,u)&&(c=c.insert(l,u))})),c}))}}class KD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Sn(s.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:LD(s.bundledQuery),readTime:Sn(s.readTime)}})(n)),$.resolve()}}class QD{constructor(){this.overlays=new je(ne.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=is();return $.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=is(),i=n.length+1,o=new ne(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const l=c.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new je(((u,h)=>u-h));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=is(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const c=is(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,h)=>c.set(u,h))),!(c.size()>=s)););return $.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dD(n,r));let i=this.qr.get(n);i===void 0&&(i=Ee(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class YD{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}class cf{constructor(){this.Qr=new nt(ct.$r),this.Ur=new nt(ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ct(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ne(new Ve([])),r=new ct(n,e),s=new ct(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new Ve([])),r=new ct(n,e),s=new ct(n,e+1);let i=Ee();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new ct(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||ve(e.Yr,n.Yr)}static Kr(e,n){return ve(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}class XD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nt(ct.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fD(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.Zr=this.Zr.add(new ct(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Yh:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),s=new ct(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const c=this.Xr(o.Yr);i.push(c)})),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(ve);return n.forEach((s=>{const i=new ct(s,0),o=new ct(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(c=>{r=r.add(c.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new ct(new ne(i),0);let c=new nt(ve);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(c=c.add(l.Yr)),!0)}),o),$.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,(s=>{const i=new ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ct(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class JD{constructor(e){this.ri=e,this.docs=(function(){return new je(ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Tt.newInvalidDocument(s))})),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Xn();const o=n.path,c=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||C1(S1(h),r)<=0||(s.has(h.key)||Yc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}ii(e,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ZD(this)}getSize(e){return $.resolve(this.size)}}class ZD extends WD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class ek{constructor(e){this.persistence=e,this.si=new ws((n=>Zh(n)),ef),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new cf,this.targetCount=0,this.ai=ri.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ri(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),$.waitFor(i).next((()=>s))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}class BE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gc(0),this.li=!1,this.li=!0,this.hi=new YD,this.referenceDelegate=e(this),this.Pi=new ek(this),this.indexManager=new FD,this.remoteDocumentCache=(function(s){return new JD(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new MD(n),this.Ii=new KD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new XD(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const s=new tk(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class tk extends D1{constructor(e){super(),this.currentSequenceNumber=e}}class lf{constructor(e){this.persistence=e,this.Ri=new cf,this.Vi=null}static mi(e){return new lf(e)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const s=ne.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,he.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class fc{constructor(e,n){this.persistence=e,this.pi=new ws((r=>O1(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=qD(this,n)}static mi(e,n){return new fc(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return $.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?$.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((c=>{c||(r++,i.removeEntry(o,he.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ka(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class uf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new uf(e,n.fromCache,r,s)}}class nk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return VR()?8:k1(At())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new nk;return this.Ss(e,n,o).next((c=>{if(i.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ms()<=ye.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ms()<=ye.DEBUG&&ee("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ms()<=ye.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rn(n))):$.resolve())}ys(e,n){if(Km(n))return $.resolve(null);let r=Rn(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Wu(n,null,"F"),r=Rn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=Ee(...i);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((l=>{const u=this.Ds(n,c);return this.Cs(n,u,o,l.readTime)?this.ys(e,Wu(n,null,"F")):this.vs(e,u,n,l)}))))})))))}ws(e,n,r,s){return Km(n)||s.isEqual(he.min())?$.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(Ms()<=ye.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ls(n)),this.vs(e,o,n,R1(s,yo)).next((c=>c)))}))}Ds(e,n){let r=new nt(gE(e));return n.forEach(((s,i)=>{Yc(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ms()<=ye.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.ps.getDocumentsMatchingQuery(e,n,kr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const hf="LocalStore",sk=3e8;class ik{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new je(ve),this.xs=new ws((i=>Zh(i)),ef),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ok(t,e,n,r){return new ik(t,e,n,r)}async function $E(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],c=[];let l=Ee();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){c.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:c})))}))}))}function ak(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,l,u,h){const d=u.batch,m=d.keys();let g=$.resolve();return m.forEach((S=>{g=g.next((()=>h.getEntry(l,S))).next((P=>{const k=u.docVersions.get(S);Ce(k!==null,48541),P.version.compareTo(k)<0&&(d.applyToRemoteDocument(P,u),P.isValidDocument()&&(P.setReadTime(u.commitVersion),h.addEntry(P)))}))})),g.next((()=>c.mutationQueue.removeMutationBatch(l,d)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let l=Ee();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function jE(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ck(t,e){const n=fe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach(((h,d)=>{const m=s.get(d);if(!m)return;c.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,d).next((()=>n.Pi.addMatchingKeys(i,h.addedDocuments,d))));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(pt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(d,g),(function(P,k,C){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=sk?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(m,g,h)&&c.push(n.Pi.updateTargetData(i,g))}));let l=Xn(),u=Ee();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))})),c.push(lk(i,o,e.documentUpdates).next((h=>{l=h.ks,u=h.qs}))),!r.isEqual(he.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next((d=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));c.push(h)}return $.waitFor(c).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,l,u))).next((()=>l))})).then((i=>(n.Ms=s,i)))}function lk(t,e,n){let r=Ee(),s=Ee();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=Xn();return n.forEach(((c,l)=>{const u=i.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(c)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):ee(hf,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function uk(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Yh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hk(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Tr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Yu(t,e,n){const r=fe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!li(o))throw o;ee(hf,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function ag(t,e,n){const r=fe(t);let s=he.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,h){const d=fe(l),m=d.xs.get(h);return m!==void 0?$.resolve(d.Ms.get(m)):d.Pi.getTargetData(u,h)})(r,o,Rn(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?i:Ee()))).next((c=>(fk(r,J1(e),c),{documents:c,Qs:i})))))}function fk(t,e,n){let r=t.Os.get(e)||he.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class cg{constructor(){this.activeTargetIds=sD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dk{constructor(){this.Mo=new cg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pk{Oo(e){}shutdown(){}}const lg="ConnectivityMonitor";class ug{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ee(lg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ee(lg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ya=null;function Xu(){return ya===null?ya=(function(){return 268435456+Math.round(2147483648*Math.random())})():ya++,"0x"+ya.toString(16)}const nu="RestConnection",mk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ac?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Xu(),c=this.zo(e,n.toUriEncodedString());ee(nu,`Sending RPC '${e}' ${o}:`,c,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(c),h=Ur(u);return this.Jo(e,c,l,r,h).then((d=>(ee(nu,`Received RPC '${e}' ${o}: `,d),d)),(d=>{throw Zs(nu,`RPC '${e}' ${o} failed with error: `,d,"url: ",c,"request:",r),d}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ai})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=mk[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class _k{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _t="WebChannelConnection";class yk extends gk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Xu();return new Promise(((c,l)=>{const u=new Hv;u.setWithCredentials(!0),u.listenOnce(qv.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Da.NO_ERROR:const d=u.getResponseJson();ee(_t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),c(d);break;case Da.TIMEOUT:ee(_t,`RPC '${e}' ${o} timed out`),l(new Z(U.DEADLINE_EXCEEDED,"Request time out"));break;case Da.HTTP_ERROR:const m=u.getStatus();if(ee(_t,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g?.error;if(S&&S.status&&S.message){const P=(function(C){const O=C.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(O)>=0?O:U.UNKNOWN})(S.status);l(new Z(P,S.message))}else l(new Z(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Z(U.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ee(_t,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(s);ee(_t,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)}))}T_(e,n,r){const s=Xu(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zv(),c=Gv(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ee(_t,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let m=!1,g=!1;const S=new _k({Yo:k=>{g?ee(_t,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(m||(ee(_t,`Opening RPC '${e}' stream ${s} transport.`),d.open(),m=!0),ee(_t,`RPC '${e}' stream ${s} sending:`,k),d.send(k))},Zo:()=>d.close()}),P=(k,C,O)=>{k.listen(C,(V=>{try{O(V)}catch(F){setTimeout((()=>{throw F}),0)}}))};return P(d,Li.EventType.OPEN,(()=>{g||(ee(_t,`RPC '${e}' stream ${s} transport opened.`),S.o_())})),P(d,Li.EventType.CLOSE,(()=>{g||(g=!0,ee(_t,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(d))})),P(d,Li.EventType.ERROR,(k=>{g||(g=!0,Zs(_t,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),S.a_(new Z(U.UNAVAILABLE,"The operation could not be completed")))})),P(d,Li.EventType.MESSAGE,(k=>{if(!g){const C=k.data[0];Ce(!!C,16349);const O=C,V=O?.error||O[0]?.error;if(V){ee(_t,`RPC '${e}' stream ${s} received error:`,V);const F=V.status;let G=(function(v){const _=Xe[v];if(_!==void 0)return PE(_)})(F),z=V.message;G===void 0&&(G=U.INTERNAL,z="Unknown error status: "+F+" with message "+V.message),g=!0,S.a_(new Z(G,z)),d.close()}else ee(_t,`RPC '${e}' stream ${s} received:`,C),S.u_(C)}})),P(c,Wv.STAT_EVENT,(k=>{k.stat===Fu.PROXY?ee(_t,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Fu.NOPROXY&&ee(_t,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ru(){return typeof document<"u"?document:null}function el(t){return new wD(t,!0)}class HE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hg="PersistentStream";class qE{constructor(e,n,r,s,i,o,c,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Yn(n.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new Z(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ee(hg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ee(hg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vk extends qE{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bD(this.serializer,e),r=(function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?Sn(o.readTime):he.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Qu(this.serializer),n.addTarget=(function(i,o){let c;const l=o.target;if(c=Hu(l)?{documents:CD(i,l)}:{query:PD(i,l).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=NE(i,o.resumeToken);const u=Gu(i,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(he.min())>0){c.readTime=hc(i,o.snapshotVersion.toTimestamp());const u=Gu(i,o.expectedCount);u!==null&&(c.expectedCount=u)}return c})(this.serializer,e);const r=kD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Qu(this.serializer),n.removeTarget=e,this.q_(n)}}class Ek extends qE{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=SD(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Qu(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>RD(this.serializer,r)))};this.q_(n)}}class Tk{}class wk extends Tk{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,zu(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(U.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,zu(n,r),s,o,c,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(U.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ik{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yn(n),this.aa=!1):ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ys="RemoteStore";class Ak{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Is(this)&&(ee(ys,"Restarting streams for network reachability change."),await(async function(l){const u=fe(l);u.Ea.add(4),await Ho(u),u.Ra.set("Unknown"),u.Ea.delete(4),await tl(u)})(this))}))})),this.Ra=new Ik(r,s)}}async function tl(t){if(Is(t))for(const e of t.da)await e(!0)}async function Ho(t){for(const e of t.da)await e(!1)}function WE(t,e){const n=fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mf(n)?pf(n):ui(n).O_()&&df(n,e))}function ff(t,e){const n=fe(t),r=ui(n);n.Ia.delete(e),r.O_()&&GE(n,e),n.Ia.size===0&&(r.O_()?r.L_():Is(n)&&n.Ra.set("Unknown"))}function df(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ui(t).Y_(e)}function GE(t,e){t.Va.Ue(e),ui(t).Z_(e)}function pf(t){t.Va=new yD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ui(t).start(),t.Ra.ua()}function mf(t){return Is(t)&&!ui(t).x_()&&t.Ia.size>0}function Is(t){return fe(t).Ea.size===0}function zE(t){t.Va=void 0}async function bk(t){t.Ra.set("Online")}async function Rk(t){t.Ia.forEach(((e,n)=>{df(t,e)}))}async function Sk(t,e){zE(t),mf(t)?(t.Ra.ha(e),pf(t)):t.Ra.set("Unknown")}async function Ck(t,e,n){if(t.Ra.set("Online"),e instanceof kE&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.Ia.delete(c),s.Va.removeTarget(c))})(t,e)}catch(r){ee(ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dc(t,r)}else if(e instanceof Va?t.Va.Ze(e):e instanceof DE?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const r=await jE(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const c=i.Va.Tt(o);return c.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(l.resumeToken,o))}})),c.targetMismatches.forEach(((l,u)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(pt.EMPTY_BYTE_STRING,h.snapshotVersion)),GE(i,l);const d=new Tr(h.target,l,u,h.sequenceNumber);df(i,d)})),i.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ee(ys,"Failed to raise snapshot:",r),await dc(t,r)}}async function dc(t,e,n){if(!li(e))throw e;t.Ea.add(1),await Ho(t),t.Ra.set("Offline"),n||(n=()=>jE(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ee(ys,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await tl(t)}))}function KE(t,e){return e().catch((n=>dc(t,n,e)))}async function nl(t){const e=fe(t),n=xr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yh;for(;Pk(e);)try{const s=await uk(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Dk(e,s)}catch(s){await dc(e,s)}QE(e)&&YE(e)}function Pk(t){return Is(t)&&t.Ta.length<10}function Dk(t,e){t.Ta.push(e);const n=xr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function QE(t){return Is(t)&&!xr(t).x_()&&t.Ta.length>0}function YE(t){xr(t).start()}async function kk(t){xr(t).ra()}async function Nk(t){const e=xr(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ok(t,e,n){const r=t.Ta.shift(),s=sf.from(r,e,n);await KE(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await nl(t)}async function Vk(t,e){e&&xr(t).X_&&await(async function(r,s){if((function(o){return mD(o)&&o!==U.ABORTED})(s.code)){const i=r.Ta.shift();xr(r).B_(),await KE(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await nl(r)}})(t,e),QE(t)&&YE(t)}async function fg(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),ee(ys,"RemoteStore received new credentials");const r=Is(n);n.Ea.add(3),await Ho(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await tl(n)}async function xk(t,e){const n=fe(t);e?(n.Ea.delete(2),await tl(n)):e||(n.Ea.add(2),await Ho(n),n.Ra.set("Unknown"))}function ui(t){return t.ma||(t.ma=(function(n,r,s){const i=fe(n);return i.sa(),new vk(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:bk.bind(null,t),t_:Rk.bind(null,t),r_:Sk.bind(null,t),H_:Ck.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),mf(t)?pf(t):t.Ra.set("Unknown")):(await t.ma.stop(),zE(t))}))),t.ma}function xr(t){return t.fa||(t.fa=(function(n,r,s){const i=fe(n);return i.sa(),new Ek(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:kk.bind(null,t),r_:Vk.bind(null,t),ta:Nk.bind(null,t),na:Ok.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await nl(t)):(await t.fa.stop(),t.Ta.length>0&&(ee(ys,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class gf{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new gf(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _f(t,e){if(Yn("AsyncQueue",`${e}: ${t}`),li(t))return new Z(U.UNAVAILABLE,`${e}: ${t}`);throw t}class Gs{static emptySet(e){return new Gs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Fi(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class dg{constructor(){this.ga=new je(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class si{constructor(e,n,r,s,i,o,c,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new si(e,n,Gs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class Mk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Lk{constructor(){this.queries=pg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=fe(n),i=s.queries;s.queries=pg(),i.forEach(((o,c)=>{for(const l of c.Sa)l.onError(r)}))})(this,new Z(U.ABORTED,"Firestore shutting down"))}}function pg(){return new ws((t=>mE(t)),Qc)}async function XE(t,e){const n=fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Mk,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=_f(o,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&yf(n)}async function JE(t,e){const n=fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fk(t,e){const n=fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.Sa)c.Fa(s)&&(r=!0);o.wa=s}}r&&yf(n)}function Uk(t,e,n){const r=fe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function yf(t){t.Ca.forEach((e=>{e.next()}))}var Ju,mg;(mg=Ju||(Ju={})).Ma="default",mg.Cache="cache";class ZE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new si(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=si.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ju.Cache}}class eT{constructor(e){this.key=e}}class tT{constructor(e){this.key=e}}class Bk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=gE(e),this.tu=new Gs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new dg,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((h,d)=>{const m=s.get(h),g=Yc(this.query,d)?d:null,S=!!m&&this.mutatedKeys.has(m.key),P=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let k=!1;m&&g?m.data.isEqual(g.data)?S!==P&&(r.track({type:3,doc:g}),k=!0):this.su(m,g)||(r.track({type:2,doc:g}),k=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(c=!0)):!m&&g?(r.track({type:0,doc:g}),k=!0):m&&!g&&(r.track({type:1,doc:m}),k=!0,(l||u)&&(c=!0)),k&&(g?(o=o.add(g),i=P?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,d)=>(function(g,S){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:k})}};return P(g)-P(S)})(h.type,d.type)||this.eu(h.doc,d.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new si(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new tT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new eT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return si.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vf="SyncEngine";class $k{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jk{constructor(e){this.key=e,this.hu=!1}}class Hk{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ws((c=>mE(c)),Qc),this.Iu=new Map,this.Eu=new Set,this.du=new je(ne.comparator),this.Au=new Map,this.Ru=new cf,this.Vu={},this.mu=new Map,this.fu=ri.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qk(t,e,n=!0){const r=aT(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await nT(r,e,n,!0),s}async function Wk(t,e){const n=aT(t);await nT(n,e,!0,!1)}async function nT(t,e,n,r){const s=await hk(t.localStore,Rn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await Gk(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&WE(t.remoteStore,s),c}async function Gk(t,e,n,r,s){t.pu=(d,m,g)=>(async function(P,k,C,O){let V=k.view.ru(C);V.Cs&&(V=await ag(P.localStore,k.query,!1).then((({documents:T})=>k.view.ru(T,V))));const F=O&&O.targetChanges.get(k.targetId),G=O&&O.targetMismatches.get(k.targetId)!=null,z=k.view.applyChanges(V,P.isPrimaryClient,F,G);return _g(P,k.targetId,z.au),z.snapshot})(t,d,m,g);const i=await ag(t.localStore,e,!0),o=new Bk(e,i.Qs),c=o.ru(i.documents),l=jo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(c,t.isPrimaryClient,l);_g(t,n,u.au);const h=new $k(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function zk(t,e,n){const r=fe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!Qc(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yu(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ff(r.remoteStore,s.targetId),Zu(r,s.targetId)})).catch(ci)):(Zu(r,s.targetId),await Yu(r.localStore,s.targetId,!0))}async function Kk(t,e){const n=fe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ff(n.remoteStore,r.targetId))}async function Qk(t,e,n){const r=nN(t);try{const s=await(function(o,c){const l=fe(o),u=Le.now(),h=c.reduce(((g,S)=>g.add(S.key)),Ee());let d,m;return l.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let S=Xn(),P=Ee();return l.Ns.getEntries(g,h).next((k=>{S=k,S.forEach(((C,O)=>{O.isValidDocument()||(P=P.add(C))}))})).next((()=>l.localDocuments.getOverlayedDocuments(g,S))).next((k=>{d=k;const C=[];for(const O of c){const V=uD(O,d.get(O.key).overlayedDocument);V!=null&&C.push(new Hr(O.key,V,aE(V.value.mapValue),nn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,C,c)})).next((k=>{m=k;const C=k.applyToLocalDocumentSet(d,P);return l.documentOverlayCache.saveOverlays(g,k.batchId,C)}))})).then((()=>({batchId:m.batchId,changes:yE(d)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,c,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new je(ve)),u=u.insert(c,l),o.Vu[o.currentUser.toKey()]=u})(r,s.batchId,n),await qo(r,s.changes),await nl(r.remoteStore)}catch(s){const i=_f(s,"Failed to persist write");n.reject(i)}}async function rT(t,e){const n=fe(t);try{const r=await ck(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ce(o.hu,14607):s.removedDocuments.size>0&&(Ce(o.hu,42227),o.hu=!1))})),await qo(n,r,e)}catch(r){await ci(r)}}function gg(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const c=o.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(o,c){const l=fe(o);l.onlineState=c;let u=!1;l.queries.forEach(((h,d)=>{for(const m of d.Sa)m.va(c)&&(u=!0)})),u&&yf(l)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Yk(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new je(ne.comparator);o=o.insert(i,Tt.newNoDocument(i,he.min()));const c=Ee().add(i),l=new Zc(he.min(),new Map,new je(ve),o,c);await rT(r,l),r.du=r.du.remove(i),r.Au.delete(e),Ef(r)}else await Yu(r.localStore,e,!1).then((()=>Zu(r,e,n))).catch(ci)}async function Xk(t,e){const n=fe(t),r=e.batch.batchId;try{const s=await ak(n.localStore,e);iT(n,r,null),sT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qo(n,s)}catch(s){await ci(s)}}async function Jk(t,e,n){const r=fe(t);try{const s=await(function(o,c){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let h;return l.mutationQueue.lookupMutationBatch(u,c).next((d=>(Ce(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,c))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h))).next((()=>l.localDocuments.getDocuments(u,h)))}))})(r.localStore,e);iT(r,e,n),sT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qo(r,s)}catch(s){await ci(s)}}function sT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function iT(t,e,n){const r=fe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Zu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||oT(t,r)}))}function oT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ff(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ef(t))}function _g(t,e,n){for(const r of n)r instanceof eT?(t.Ru.addReference(r.key,e),Zk(t,r)):r instanceof tT?(ee(vf,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||oT(t,r.key)):ae(19791,{wu:r})}function Zk(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ee(vf,"New document in limbo: "+n),t.Eu.add(r),Ef(t))}function Ef(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(Ve.fromString(e)),r=t.fu.next();t.Au.set(r,new jk(n)),t.du=t.du.insert(n,r),WE(t.remoteStore,new Tr(Rn(tf(n.path)),r,"TargetPurposeLimboResolution",Gc.ce))}}async function qo(t,e,n){const r=fe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,l)=>{o.push(r.pu(l,e,n).then((u=>{if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=uf.As(l.targetId,u);i.push(h)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,u){const h=fe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>$.forEach(u,(m=>$.forEach(m.Es,(g=>h.persistence.referenceDelegate.addReference(d,m.targetId,g))).next((()=>$.forEach(m.ds,(g=>h.persistence.referenceDelegate.removeReference(d,m.targetId,g)))))))))}catch(d){if(!li(d))throw d;ee(hf,"Failed to update sequence numbers: "+d)}for(const d of u){const m=d.targetId;if(!d.fromCache){const g=h.Ms.get(m),S=g.snapshotVersion,P=g.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(m,P)}}})(r.localStore,i))}async function eN(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){ee(vf,"User change. New user:",e.toKey());const r=await $E(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((c=>{c.forEach((l=>{l.reject(new Z(U.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qo(n,r.Ls)}}function tN(t,e){const n=fe(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let s=Ee();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const c=n.Tu.get(o);s=s.unionWith(c.view.nu)}return s}}function aT(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yk.bind(null,e),e.Pu.H_=Fk.bind(null,e.eventManager),e.Pu.yu=Uk.bind(null,e.eventManager),e}function nN(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jk.bind(null,e),e}class pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=el(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ok(this.persistence,new rk,e.initialUser,this.serializer)}Cu(e){return new BE(lf.mi,this.serializer)}Du(e){return new dk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pc.provider={build:()=>new pc};class rN extends pc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ce(this.persistence.referenceDelegate instanceof fc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xt.withCacheSize(this.cacheSizeBytes):xt.DEFAULT;return new BE((r=>fc.mi(r,n)),this.serializer)}}class eh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eN.bind(null,this.syncEngine),await xk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Lk})()}createDatastore(e){const n=el(e.databaseInfo.databaseId),r=(function(i){return new yk(i)})(e.databaseInfo);return(function(i,o,c,l){return new wk(i,o,c,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,c){return new Ak(r,s,i,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>gg(this.syncEngine,n,0)),(function(){return ug.v()?new ug:new pk})())}createSyncEngine(e,n){return(function(s,i,o,c,l,u,h){const d=new Hk(s,i,o,c,l,u);return h&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=fe(n);ee(ys,"RemoteStore shutting down."),r.Ea.add(5),await Ho(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}eh.provider={build:()=>new eh};class cT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Mr="FirestoreClient";class sN{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=vt.UNAUTHENTICATED,this.clientId=Qh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{ee(Mr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(ee(Mr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_f(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function su(t,e){t.asyncQueue.verifyOperationInProgress(),ee(Mr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await $E(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function yg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iN(t);ee(Mr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>fg(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>fg(e.remoteStore,s))),t._onlineComponents=e}async function iN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(Mr,"Using user provided OfflineComponentProvider");try{await su(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Zs("Error using user provided cache. Falling back to memory cache: "+n),await su(t,new pc)}}else ee(Mr,"Using default OfflineComponentProvider"),await su(t,new rN(void 0));return t._offlineComponents}async function lT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(Mr,"Using user provided OnlineComponentProvider"),await yg(t,t._uninitializedComponentsProvider._online)):(ee(Mr,"Using default OnlineComponentProvider"),await yg(t,new eh))),t._onlineComponents}function oN(t){return lT(t).then((e=>e.syncEngine))}async function uT(t){const e=await lT(t),n=e.eventManager;return n.onListen=qk.bind(null,e.syncEngine),n.onUnlisten=zk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Wk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Kk.bind(null,e.syncEngine),n}function aN(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,l,u){const h=new cT({next:m=>{h.Nu(),o.enqueueAndForget((()=>JE(i,d)));const g=m.docs.has(c);!g&&m.fromCache?u.reject(new Z(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?u.reject(new Z(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new ZE(tf(c.path),h,{includeMetadataChanges:!0,qa:!0});return XE(i,d)})(await uT(t),t.asyncQueue,e,n,r))),r.promise}function cN(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,l,u){const h=new cT({next:m=>{h.Nu(),o.enqueueAndForget((()=>JE(i,d))),m.fromCache&&l.source==="server"?u.reject(new Z(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new ZE(c,h,{includeMetadataChanges:!0,qa:!0});return XE(i,d)})(await uT(t),t.asyncQueue,e,n,r))),r.promise}function hT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const vg=new Map;const fT="firestore.googleapis.com",Eg=!0;class Tg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fT,this.ssl=Eg}else this.host=e.host,this.ssl=e.ssl??Eg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BD)throw new Z(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rl{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new m1;switch(r.type){case"firstParty":return new v1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=vg.get(n);r&&(ee("ComponentProvider","Removing Datastore"),vg.delete(n),r.terminate())})(this),Promise.resolve()}}function lN(t,e,n,r={}){t=dn(t,rl);const s=Ur(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(Oh(`https://${c}`),Vh("Firestore",!0)),i.host!==fT&&i.host!==c&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:c,ssl:s,emulatorOptions:r};if(!ds(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=vt.MOCK_USER;else{u=rv(r.mockUserToken,t._app?.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Z(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new vt(d)}t._authCredentials=new g1(new Qv(u,h))}}class hi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hi(this.firestore,e,this._query)}}class Ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Uo(n,Ye._jsonSchema))return new Ye(e,r||null,new ne(Ve.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:Ze("string",Ye._jsonSchemaVersion),referencePath:Ze("string")};class Sr extends hi{constructor(e,n,r){super(e,n,tf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new ne(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function Cx(t,e,...n){if(t=Fe(t),Yv("collection","path",e),t instanceof rl){const r=Ve.fromString(e,...n);return Vm(r),new Sr(t,null,r)}{if(!(t instanceof Ye||t instanceof Sr))throw new Z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Vm(r),new Sr(t.firestore,null,r)}}function Bi(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=Qh.newId()),Yv("doc","path",e),t instanceof rl){const r=Ve.fromString(e,...n);return Om(r),new Ye(t,null,new ne(r))}{if(!(t instanceof Ye||t instanceof Sr))throw new Z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Om(r),new Ye(t.firestore,t instanceof Sr?t.converter:null,new ne(r))}}const wg="AsyncQueue";class Ig{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HE(this,"async_queue_retry"),this._c=()=>{const r=ru();r&&ee(wg,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ru();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ru();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Wn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!li(e))throw e;ee(wg,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Yn("INTERNAL UNHANDLED ERROR: ",Ag(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=gf.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&ae(47125,{Pc:Ag(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ag(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class As extends rl{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Ig,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ig(e),this._firestoreClient=void 0,await e}}}function uN(t,e){const n=typeof t=="object"?t:Lh(),r=typeof t=="string"?t:ac,s=$c(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=ev("firestore");i&&lN(s,...i)}return s}function Tf(t){if(t._terminated)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hN(t),t._firestoreClient}function hN(t){const e=t._freezeSettings(),n=(function(s,i,o,c){return new M1(s,i,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,hT(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new sN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}class Xt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xt(pt.fromBase64String(e))}catch(n){throw new Z(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xt(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uo(e,Xt._jsonSchema))return Xt.fromBase64String(e.bytes)}}Xt._jsonSchemaVersion="firestore/bytes/1.0",Xt._jsonSchema={type:Ze("string",Xt._jsonSchemaVersion),bytes:Ze("string")};class sl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wo{constructor(e){this._methodName=e}}class Cn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cn._jsonSchemaVersion}}static fromJSON(e){if(Uo(e,Cn._jsonSchema))return new Cn(e.latitude,e.longitude)}}Cn._jsonSchemaVersion="firestore/geoPoint/1.0",Cn._jsonSchema={type:Ze("string",Cn._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};class Pn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uo(e,Pn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pn(e.vectorValues);throw new Z(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pn._jsonSchemaVersion="firestore/vectorValue/1.0",Pn._jsonSchema={type:Ze("string",Pn._jsonSchemaVersion),vectorValues:Ze("object")};const fN=/^__.*__$/;class dN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new $o(e,this.data,n,this.fieldTransforms)}}class dT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:t})}}class wf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pT(this.Ac)&&fN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||el(e)}Cc(e,n,r,s=!1){return new wf({Ac:e,methodName:n,Dc:r,path:dt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function il(t){const e=t._freezeSettings(),n=el(t._databaseId);return new pN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mT(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);bf("Data must be an object, but it was:",o,r);const c=gT(r,o);let l,u;if(i.merge)l=new Gt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const m=th(e,d,n);if(!o.contains(m))throw new Z(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);yT(h,m)||h.push(m)}l=new Gt(h),u=o.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,u=o.fieldTransforms;return new dN(new Ft(c),l,u)}class ol extends Wo{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ol}}class If extends Wo{_toFieldTransform(e){return new RE(e.path,new wo)}isEqual(e){return e instanceof If}}class Af extends Wo{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new bo(e.serializer,TE(e.serializer,this.Fc));return new RE(e.path,n)}isEqual(e){return e instanceof Af&&this.Fc===e.Fc}}function mN(t,e,n,r){const s=t.Cc(1,e,n);bf("Data must be an object, but it was:",s,r);const i=[],o=Ft.empty();jr(r,((l,u)=>{const h=Rf(e,l,n);u=Fe(u);const d=s.yc(h);if(u instanceof ol)i.push(h);else{const m=Go(u,d);m!=null&&(i.push(h),o.set(h,m))}}));const c=new Gt(i);return new dT(o,c,s.fieldTransforms)}function gN(t,e,n,r,s,i){const o=t.Cc(1,e,n),c=[th(e,r,n)],l=[s];if(i.length%2!=0)throw new Z(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)c.push(th(e,i[m])),l.push(i[m+1]);const u=[],h=Ft.empty();for(let m=c.length-1;m>=0;--m)if(!yT(u,c[m])){const g=c[m];let S=l[m];S=Fe(S);const P=o.yc(g);if(S instanceof ol)u.push(g);else{const k=Go(S,P);k!=null&&(u.push(g),h.set(g,k))}}const d=new Gt(u);return new dT(h,d,o.fieldTransforms)}function _N(t,e,n,r=!1){return Go(n,t.Cc(r?4:3,e))}function Go(t,e){if(_T(t=Fe(t)))return bf("Unsupported field value:",e,t),gT(t,e);if(t instanceof Wo)return(function(r,s){if(!pT(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const c of r){let l=Go(c,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TE(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Le.fromDate(r);return{timestampValue:hc(s.serializer,i)}}if(r instanceof Le){const i=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hc(s.serializer,i)}}if(r instanceof Cn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xt)return{bytesValue:NE(s.serializer,r._byteString)};if(r instanceof Ye){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:af(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Pn)return(function(o,c){return{mapValue:{fields:{[iE]:{stringValue:oE},[cc]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw c.Sc("VectorValues must only contain numeric values.");return nf(c.serializer,u)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Wc(r)}`)})(t,e)}function gT(t,e){const n={};return Zv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jr(t,((r,s)=>{const i=Go(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function _T(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof Cn||t instanceof Xt||t instanceof Ye||t instanceof Wo||t instanceof Pn)}function bf(t,e,n){if(!_T(n)||!Xv(n)){const r=Wc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function th(t,e,n){if((e=Fe(e))instanceof sl)return e._internalPath;if(typeof e=="string")return Rf(t,e);throw mc("Field path arguments must be of type string or ",t,!1,void 0,n)}const yN=new RegExp("[~\\*/\\[\\]]");function Rf(t,e,n){if(e.search(yN)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sl(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Z(U.INVALID_ARGUMENT,c+t+l)}function yT(t,e){return t.some((n=>n.isEqual(e)))}class vT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vN extends vT{data(){return super.data()}}function Sf(t,e){return typeof e=="string"?Rf(t,e):e instanceof sl?e._internalPath:e._delegate._internalPath}function EN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cf{}class TN extends Cf{}function Px(t,e,...n){let r=[];e instanceof Cf&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((l=>l instanceof Pf)).length,c=i.filter((l=>l instanceof al)).length;if(o>1||o>0&&c>0)throw new Z(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class al extends TN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new al(e,n,r)}_apply(e){const n=this._parse(e);return ET(e._query,n),new hi(e.firestore,e.converter,qu(e._query,n))}_parse(e){const n=il(e.firestore);return(function(i,o,c,l,u,h,d){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Z(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Rg(d,h);const S=[];for(const P of d)S.push(bg(l,i,P));m={arrayValue:{values:S}}}else m=bg(l,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Rg(d,h),m=_N(c,o,d,h==="in"||h==="not-in");return Je.create(u,h,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dx(t,e,n){const r=e,s=Sf("where",t);return al._create(s,r,n)}class Pf extends Cf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pf(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:pn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const c=i.getFlattenedFilters();for(const l of c)ET(o,l),o=qu(o,l)})(e._query,n),new hi(e.firestore,e.converter,qu(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bg(t,e,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new Z(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pE(e)&&n.indexOf("/")!==-1)throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!ne.isDocumentKey(r))throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jm(t,new ne(r))}if(n instanceof Ye)return jm(t,n._key);throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wc(n)}.`)}function Rg(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ET(t,e){const n=(function(s,i){for(const o of s)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Z(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wN{convertValue(e,n="none"){switch(Vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jr(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[cc].arrayValue?.values?.map((r=>Ke(r.doubleValue)));return new Pn(n)}convertGeoPoint(e){return new Cn(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vo(e));default:return null}}convertTimestamp(e){const n=Nr(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Ce(FE(r),9688,{name:e});const s=new Eo(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||Yn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function TT(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class $i{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ls extends vT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ls._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",ls._jsonSchema={type:Ze("string",ls._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class xa extends ls{data(e={}){return super.data(e)}}class zs{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new $i(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new xa(this._firestore,this._userDataWriter,r.key,r,new $i(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((c=>{const l=new xa(s._firestore,s._userDataWriter,c.doc.key,c.doc,new $i(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const l=new xa(s._firestore,s._userDataWriter,c.doc.key,c.doc,new $i(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:IN(c.type),doc:l,oldIndex:u,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function IN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}function Sg(t){t=dn(t,Ye);const e=dn(t.firestore,As);return aN(Tf(e),t._key).then((n=>bN(e,t,n)))}zs._jsonSchemaVersion="firestore/querySnapshot/1.0",zs._jsonSchema={type:Ze("string",zs._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class wT extends wN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function kx(t){t=dn(t,hi);const e=dn(t.firestore,As),n=Tf(e),r=new wT(e);return EN(t._query),cN(n,t._query).then((s=>new zs(e,r,t,s)))}function Cg(t,e,n){t=dn(t,Ye);const r=dn(t.firestore,As),s=TT(t.converter,e);return cl(r,[mT(il(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,nn.none())])}function AN(t,e,n,...r){t=dn(t,Ye);const s=dn(t.firestore,As),i=il(s);let o;return o=typeof(e=Fe(e))=="string"||e instanceof sl?gN(i,"updateDoc",t._key,e,n,r):mN(i,"updateDoc",t._key,e),cl(s,[o.toMutation(t._key,nn.exists(!0))])}function Nx(t){return cl(dn(t.firestore,As),[new rf(t._key,nn.none())])}function Ox(t,e){const n=dn(t.firestore,As),r=Bi(t),s=TT(t.converter,e);return cl(n,[mT(il(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,nn.exists(!1))]).then((()=>r))}function cl(t,e){return(function(r,s){const i=new Wn;return r.asyncQueue.enqueueAndForget((async()=>Qk(await oN(r),s,i))),i.promise})(Tf(t),e)}function bN(t,e,n){const r=n.docs.get(e._key),s=new wT(t);return new ls(t,s,e._key,r,new $i(n.hasPendingWrites,n.fromCache),e.converter)}function Pg(){return new If("serverTimestamp")}function Vx(t){return new Af("increment",t)}(function(e,n=!0){(function(s){ai=s})(Ts),ps(new Dr("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new As(new _1(r.getProvider("auth-internal")),new E1(o,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eo(u.options.projectId,h)})(o,s),o);return i={useFetchStreams:n,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),An(Pm,Dm,e),An(Pm,Dm,"esm2020")})();var RN="firebase",SN="12.6.0";An(RN,SN,"app");const IT="firebasestorage.googleapis.com",AT="storageBucket",CN=120*1e3,PN=600*1e3;class ze extends kn{constructor(e,n,r=0){super(iu(e),`Firebase Storage: ${n} (${iu(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return iu(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ge;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ge||(Ge={}));function iu(t){return"storage/"+t}function Df(){const t="An unknown error occurred, please check the error payload for server response.";return new ze(Ge.UNKNOWN,t)}function DN(t){return new ze(Ge.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function kN(t){return new ze(Ge.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function NN(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ze(Ge.UNAUTHENTICATED,t)}function ON(){return new ze(Ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function VN(t){return new ze(Ge.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function xN(){return new ze(Ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MN(){return new ze(Ge.CANCELED,"User canceled the upload/download.")}function LN(t){return new ze(Ge.INVALID_URL,"Invalid URL '"+t+"'.")}function FN(t){return new ze(Ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function UN(){return new ze(Ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AT+"' property when initializing the app?")}function BN(){return new ze(Ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $N(){return new ze(Ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jN(t){return new ze(Ge.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function nh(t){return new ze(Ge.INVALID_ARGUMENT,t)}function bT(){return new ze(Ge.APP_DELETED,"The Firebase app was deleted.")}function HN(t){return new ze(Ge.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function so(t,e){return new ze(Ge.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ki(t){throw new ze(Ge.INTERNAL_ERROR,"Internal error: "+t)}class zt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=zt.makeFromUrl(e,n)}catch{return new zt(e,"")}if(r.path==="")return r;throw FN(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(F){F.path_=decodeURIComponent(F.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${s}/o${m}`,"i"),S={bucket:1,path:3},P=n===IT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",C=new RegExp(`^https?://${P}/${s}/${k}`,"i"),V=[{regex:c,indices:l,postModify:i},{regex:g,indices:S,postModify:u},{regex:C,indices:{bucket:1,path:2},postModify:u}];for(let F=0;F<V.length;F++){const G=V[F],z=G.regex.exec(e);if(z){const T=z[G.indices.bucket];let v=z[G.indices.path];v||(v=""),r=new zt(T,v),G.postModify(r);break}}if(r==null)throw LN(e);return r}}class qN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function WN(t,e,n){let r=1,s=null,i=null,o=!1,c=0;function l(){return c===2}let u=!1;function h(...k){u||(u=!0,e.apply(null,k))}function d(k){s=setTimeout(()=>{s=null,t(g,l())},k)}function m(){i&&clearTimeout(i)}function g(k,...C){if(u){m();return}if(k){m(),h.call(null,k,...C);return}if(l()||o){m(),h.call(null,k,...C);return}r<64&&(r*=2);let V;c===1?(c=2,V=0):V=(r+Math.random())*1e3,d(V)}let S=!1;function P(k){S||(S=!0,m(),!u&&(s!==null?(k||(c=2),clearTimeout(s),d(0)):k||(c=1)))}return d(0),i=setTimeout(()=>{o=!0,P(!0)},n),P}function GN(t){t(!1)}function zN(t){return t!==void 0}function KN(t){return typeof t=="object"&&!Array.isArray(t)}function kf(t){return typeof t=="string"||t instanceof String}function Dg(t){return Nf()&&t instanceof Blob}function Nf(){return typeof Blob<"u"}function kg(t,e,n,r){if(r<e)throw nh(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw nh(`Invalid value for '${t}'. Expected ${n} or less.`)}function ll(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function RT(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var us;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(us||(us={}));function QN(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}class YN{constructor(e,n,r,s,i,o,c,l,u,h,d,m=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=d,this.retry=m,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,P)=>{this.resolve_=S,this.reject_=P,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new va(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=c=>{const l=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const c=i.getErrorCode()===us.NO_ERROR,l=i.getStatus();if(!c||QN(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===us.ABORT;r(!1,new va(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new va(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(c,c.getResponse());zN(l)?i(l):i()}catch(l){o(l)}else if(c!==null){const l=Df();l.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,l)):o(l)}else if(s.canceled){const l=this.appDelete_?bT():MN();o(l)}else{const l=xN();o(l)}};this.canceled_?n(!1,new va(!1,null,!0)):this.backoffId_=WN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class va{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function XN(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function JN(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZN(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tO(t,e,n,r,s,i,o=!0,c=!1){const l=RT(t.urlParams),u=t.url+l,h=Object.assign({},t.headers);return ZN(h,e),XN(h,n),JN(h,i),eO(h,r),new YN(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,c)}function nO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rO(...t){const e=nO();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Nf())return new Blob(t);throw new ze(Ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sO(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function iO(t){if(typeof atob>"u")throw jN("base-64");return atob(t)}const wn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ou{constructor(e,n){this.data=e,this.contentType=n||null}}function oO(t,e){switch(t){case wn.RAW:return new ou(ST(e));case wn.BASE64:case wn.BASE64URL:return new ou(CT(t,e));case wn.DATA_URL:return new ou(cO(e),lO(e))}throw Df()}function ST(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function aO(t){let e;try{e=decodeURIComponent(t)}catch{throw so(wn.DATA_URL,"Malformed data URL.")}return ST(e)}function CT(t,e){switch(t){case wn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw so(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case wn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw so(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=iO(e)}catch(s){throw s.message.includes("polyfill")?s:so(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class PT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw so(wn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=uO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function cO(t){const e=new PT(t);return e.base64?CT(wn.BASE64,e.rest):aO(e.rest)}function lO(t){return new PT(t).contentType}function uO(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class vr{constructor(e,n){let r=0,s="";Dg(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Dg(this.data_)){const r=this.data_,s=sO(r,e,n);return s===null?null:new vr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new vr(r,!0)}}static getBlob(...e){if(Nf()){const n=e.map(r=>r instanceof vr?r.data_:r);return new vr(rO.apply(null,n))}else{const n=e.map(o=>kf(o)?oO(wn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)s[i++]=o[c]}),new vr(s,!0)}}uploadData(){return this.data_}}function DT(t){let e;try{e=JSON.parse(t)}catch{return null}return KN(e)?e:null}function hO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function fO(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function kT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function dO(t,e){return e}class Ct{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||dO}}let Ea=null;function pO(t){return!kf(t)||t.length<2?t:kT(t)}function NT(){if(Ea)return Ea;const t=[];t.push(new Ct("bucket")),t.push(new Ct("generation")),t.push(new Ct("metageneration")),t.push(new Ct("name","fullPath",!0));function e(i,o){return pO(o)}const n=new Ct("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Ct("size");return s.xform=r,t.push(s),t.push(new Ct("timeCreated")),t.push(new Ct("updated")),t.push(new Ct("md5Hash",null,!0)),t.push(new Ct("cacheControl",null,!0)),t.push(new Ct("contentDisposition",null,!0)),t.push(new Ct("contentEncoding",null,!0)),t.push(new Ct("contentLanguage",null,!0)),t.push(new Ct("contentType",null,!0)),t.push(new Ct("metadata","customMetadata",!0)),Ea=t,Ea}function mO(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new zt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function gO(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return mO(r,t),r}function OT(t,e,n){const r=DT(e);return r===null?null:gO(t,r,n)}function _O(t,e,n,r){const s=DT(e);if(s===null||!kf(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=t.bucket,d=t.fullPath,m="/b/"+o(h)+"/o/"+o(d),g=ll(m,n,r),S=RT({alt:"media",token:u});return g+S})[0]}function yO(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Of{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function VT(t){if(!t)throw Df()}function vO(t,e){function n(r,s){const i=OT(t,s,e);return VT(i!==null),i}return n}function EO(t,e){function n(r,s){const i=OT(t,s,e);return VT(i!==null),_O(i,s,t.host,t._protocol)}return n}function xT(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=ON():s=NN():n.getStatus()===402?s=kN(t.bucket):n.getStatus()===403?s=VN(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function MT(t){const e=xT(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=DN(t.path)),i.serverResponse=s.serverResponse,i}return n}function TO(t,e,n){const r=e.fullServerUrl(),s=ll(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,c=new Of(s,i,EO(t,n),o);return c.errorHandler=MT(e),c}function wO(t,e){const n=e.fullServerUrl(),r=ll(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,u){}const c=new Of(r,s,o,i);return c.successCodes=[200,204],c.errorHandler=MT(e),c}function IO(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function AO(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=IO(null,e)),r}function bO(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let V="";for(let F=0;F<2;F++)V=V+Math.random().toString().slice(2);return V}const l=c();o["Content-Type"]="multipart/related; boundary="+l;const u=AO(e,r,s),h=yO(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",g=vr.getBlob(d,r,m);if(g===null)throw BN();const S={name:u.fullPath},P=ll(i,t.host,t._protocol),k="POST",C=t.maxUploadRetryTime,O=new Of(P,k,vO(t,n),C);return O.urlParams=S,O.headers=o,O.body=g.uploadData(),O.errorHandler=xT(e),O}class RO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw ki("cannot .send() more than once");if(Ur(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ki("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ki("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ki("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ki("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class SO extends RO{initXhr(){this.xhr_.responseType="text"}}function Vf(){return new SO}class vs{constructor(e,n){this._service=e,n instanceof zt?this._location=n:this._location=zt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new vs(e,n)}get root(){const e=new zt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kT(this._location.path)}get storage(){return this._service}get parent(){const e=hO(this._location.path);if(e===null)return null;const n=new zt(this._location.bucket,e);return new vs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HN(e)}}function CO(t,e,n){t._throwIfRoot("uploadBytes");const r=bO(t.storage,t._location,NT(),new vr(e,!0),n);return t.storage.makeRequestWithTokens(r,Vf).then(s=>({metadata:s,ref:t}))}function PO(t){t._throwIfRoot("getDownloadURL");const e=TO(t.storage,t._location,NT());return t.storage.makeRequestWithTokens(e,Vf).then(n=>{if(n===null)throw $N();return n})}function DO(t){t._throwIfRoot("deleteObject");const e=wO(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Vf)}function kO(t,e){const n=fO(t._location.path,e),r=new zt(t._location.bucket,n);return new vs(t.storage,r)}function NO(t){return/^[A-Za-z]+:\/\//.test(t)}function OO(t,e){return new vs(t,e)}function LT(t,e){if(t instanceof xf){const n=t;if(n._bucket==null)throw UN();const r=new vs(n,n._bucket);return e!=null?LT(r,e):r}else return e!==void 0?kO(t,e):t}function VO(t,e){if(e&&NO(e)){if(t instanceof xf)return OO(t,e);throw nh("To use ref(service, url), the first argument must be a Storage instance.")}else return LT(t,e)}function Ng(t,e){const n=e?.[AT];return n==null?null:zt.makeFromBucketSpec(n,t)}function xO(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ur(e);s&&(Oh(`https://${t.host}/b`),Vh("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:rv(i,t.app.options.projectId))}class xf{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=IT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CN,this._maxUploadRetryTime=PN,this._requests=new Set,s!=null?this._bucket=zt.makeFromBucketSpec(s,this._host):this._bucket=Ng(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zt.makeFromBucketSpec(this._url,e):this._bucket=Ng(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Lt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vs(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new qN(bT());{const o=tO(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Og="@firebase/storage",Vg="0.14.0";const FT="storage";function xx(t,e,n){return t=Fe(t),CO(t,e,n)}function Mx(t){return t=Fe(t),PO(t)}function Lx(t){return t=Fe(t),DO(t)}function Fx(t,e){return t=Fe(t),VO(t,e)}function MO(t=Lh(),e){t=Fe(t);const r=$c(t,FT).getImmediate({identifier:e}),s=ev("storage");return s&&LO(r,...s),r}function LO(t,e,n,r={}){xO(t,e,n,r)}function FO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new xf(n,r,s,e,Ts)}function UO(){ps(new Dr(FT,FO,"PUBLIC").setMultipleInstances(!0)),An(Og,Vg,""),An(Og,Vg,"esm2020")}UO();const BO={apiKey:"AIzaSyB8_zykPtKvJUOhiLywRDQcNU3s3yRhGv4",authDomain:"skewplay-nu.firebaseapp.com",projectId:"skewplay-nu",storageBucket:"skewplay-nu.firebasestorage.app",messagingSenderId:"365795393004",appId:"1:365795393004:web:62d013fb0ac7e0c52a54c9"},Mf=ov(BO),Ni=d1(Mf),Ta=uN(Mf),Ux=MO(Mf),$O=1800*1e3;function au(t){switch(t){case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-disabled":return"This account has been disabled.";case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password.";case"auth/email-already-in-use":return"Email is already registered.";case"auth/popup-closed-by-user":return"Sign-in popup was closed.";default:return"An unexpected error occurred."}}const Lf=YA("auth",{state:()=>({user:null,profile:null,isReady:!1,isLoading:!1,error:null}),actions:{init(){tP(Ni,async t=>{if(t){const e=localStorage.getItem("lastActiveTime"),n=Date.now();if(e&&n-parseInt(e)>$O){console.log("Session expired while away."),await this.logout(),this.isReady=!0;return}}this.user=t,t?(await this.fetchProfile(t.uid),localStorage.setItem("lastActiveTime",Date.now().toString())):(this.profile=null,localStorage.removeItem("lastActiveTime")),this.isReady=!0})},async waitForAuth(){return this.isReady?Promise.resolve():new Promise(t=>{const e=this.$subscribe((n,r)=>{r.isReady&&(e(),t())})})},async loginWithGoogle(){this.isLoading=!0,this.error=null;try{const t=new Un,n=(await wP(Ni,t)).user,r=Bi(Ta,"users",n.uid);if(!(await Sg(r)).exists()){const i={uid:n.uid,email:n.email||"",displayName:n.displayName||"New User",photoURL:n.photoURL||null,tier:"Basic",createdAt:Pg(),usageStats:{experimentsRun:0,storageUsed:0},billingHistory:[]};await Cg(r,i)}}catch(t){throw this.error=au(t.code),t}finally{this.isLoading=!1}},async register(t,e,n){this.isLoading=!0,this.error=null;try{const r=await YC(Ni,t,e);await ym(r.user,{displayName:n});const s={uid:r.user.uid,email:t,displayName:n,tier:"Basic",createdAt:Pg(),usageStats:{experimentsRun:0,storageUsed:0},billingHistory:[]};await Cg(Bi(Ta,"users",r.user.uid),s)}catch(r){throw this.error=au(r.code),r}finally{this.isLoading=!1}},async login(t,e){this.isLoading=!0,this.error=null;try{await XC(Ni,t,e)}catch(n){throw this.error=au(n.code),n}finally{this.isLoading=!1}},async logout(){await nP(Ni),this.user=null,this.profile=null,localStorage.removeItem("lastActiveTime"),localStorage.removeItem("lastVisitedRoute"),localStorage.removeItem("lastRouteTime")},getLastValidRoute(){const t=localStorage.getItem("lastVisitedRoute"),e=localStorage.getItem("lastRouteTime"),n=1800*1e3;return!t||!e?null:Date.now()-parseInt(e)<n?t:(localStorage.removeItem("lastVisitedRoute"),localStorage.removeItem("lastRouteTime"),null)},async fetchProfile(t){try{const e=await Sg(Bi(Ta,"users",t));e.exists()&&(this.profile=e.data())}catch(e){console.error("Error fetching profile:",e)}},async updateProfileDetails(t){if(this.user){this.isLoading=!0;try{const e={};t.displayName&&t.displayName!==this.user.displayName&&(await ym(this.user,{displayName:t.displayName}),e.displayName=t.displayName),t.displayName&&(e.displayName=t.displayName),t.tier&&(e.tier=t.tier),Object.keys(e).length>0&&await AN(Bi(Ta,"users",this.user.uid),e),this.profile&&(this.profile={...this.profile,...e})}catch(e){throw console.error(e),this.error="Failed to update profile.",e}finally{this.isLoading=!1}}}}}),ul=t0({history:Vb("/"),scrollBehavior(t,e,n){return n||{top:0}},routes:[{path:"/",name:"landing",component:()=>lr(()=>import("./LandingView-BfXrJBG5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))},{path:"/login",name:"login",component:()=>lr(()=>import("./LoginView-BXlTAH7v.js"),__vite__mapDeps([8,2,3,9,10,11,12,13,14,15,16,17,18])),meta:{guestOnly:!0}},{path:"/register",name:"register",component:()=>lr(()=>import("./RegisterView-DTjIz3hr.js"),__vite__mapDeps([19,2,3,9,10,11,12,13,20,21,14,15,16,17,22])),meta:{guestOnly:!0}},{path:"/app",component:()=>lr(()=>import("./AppShell-Be_fS2mJ.js"),__vite__mapDeps([23,24,2,3,14,15,25,26,27,10,11,28,12,13,29,5,6,30,31,1,32])),meta:{requiresAuth:!0},children:[{path:"dashboard",name:"dashboard",alias:"",component:()=>lr(()=>import("./DashboardView-HgaQT-zu.js"),__vite__mapDeps([33,24,2,3,14,15,25,26,4,5,6,16,17,1,34]))},{path:"datasets",name:"datasets",component:()=>lr(()=>import("./DatasetsView--mVOfOgL.js"),__vite__mapDeps([35,24,2,3,14,15,25,4,5,6,10,11,16,17,36,27,28,37,30,31,1,38]))},{path:"workflows",name:"workflows",component:()=>lr(()=>import("./WorkflowsView-XZLgZ_LU.js"),__vite__mapDeps([39,26,2,3,4,12,10,11,13,29,40,27,28,41,5,6,14,15]))},{path:"profile",name:"profile",component:()=>lr(()=>import("./ProfileView-OfDeoLEu.js"),__vite__mapDeps([42,2,3,4,14,15,9,10,11,12,13,16,17,20,21,40,27,28,41,36,37,1,43]))}]},{path:"/:pathMatch(.*)*",redirect:"/"}]}),rh="allowNavigation";ul.beforeResolve(()=>{sessionStorage.setItem(rh,"true")});ul.beforeEach(async(t,e,n)=>{const r=Lf();if(!r.isReady)try{await r.waitForAuth()}catch(l){console.error("Auth initialization failed:",l)}const s=!!r.user,i=sessionStorage.getItem(rh)==="true";sessionStorage.removeItem(rh);const o=["/","/login","/register"].includes(t.path)||t.name==="landing"||t.name==="login"||t.name==="register",c=e.name!==null;if(t.path.startsWith("/app/")&&!i&&!c&&!o){console.log("Blocked direct URL access to:",t.path),n({name:"dashboard"});return}if(t.meta.requiresAuth&&!s){n({name:"login",query:{redirect:t.fullPath}});return}if(t.meta.guestOnly&&s){const l=r.getLastValidRoute();if(l&&l!==t.fullPath){n(l);return}n({name:"dashboard"});return}n()});ul.afterEach(t=>{Lf().user&&t.path.startsWith("/app/")&&(localStorage.setItem("lastVisitedRoute",t.fullPath),localStorage.setItem("lastRouteTime",Date.now().toString()))});function zo(t){const e=t.slice(-2).toUpperCase();switch(!0){case t==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case t==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(e):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(e):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(e):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(e):return{firstDay:6,firstWeekSize:1};case e==="MV":return{firstDay:5,firstWeekSize:1};case e==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function jO(t,e,n){const r=[];let s=[];const i=UT(t),o=BT(t),c=n??zo(e)?.firstDay??0,l=(i.getDay()-c+7)%7,u=(o.getDay()-c+7)%7;for(let h=0;h<l;h++){const d=new Date(i);d.setDate(d.getDate()-(l-h)),s.push(d)}for(let h=1;h<=o.getDate();h++){const d=new Date(t.getFullYear(),t.getMonth(),h);s.push(d),s.length===7&&(r.push(s),s=[])}for(let h=1;h<7-u;h++){const d=new Date(o);d.setDate(d.getDate()+h),s.push(d)}return s.length>0&&r.push(s),r}function gc(t,e,n){let r=(n??zo(e)?.firstDay??0)%7;[0,1,2,3,4,5,6].includes(r)||(r=0);const s=new Date(t);for(;s.getDay()!==r;)s.setDate(s.getDate()-1);return s}function HO(t,e){const n=new Date(t),r=((zo(e)?.firstDay??0)+6)%7;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function UT(t){return new Date(t.getFullYear(),t.getMonth(),1)}function BT(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function qO(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const WO=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function $T(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(WO.test(t))return qO(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const xg=new Date(2e3,0,2);function GO(t,e,n){const r=e??zo(t)?.firstDay??0;return My(7).map(s=>{const i=new Date(xg);return i.setDate(xg.getDate()+r+s),new Intl.DateTimeFormat(t,{weekday:n??"narrow"}).format(i)})}function zO(t,e,n,r){const s=$T(t)??new Date,i=r?.[e];if(typeof i=="function")return i(s,e,n);let o={};switch(e){case"fullDate":o={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const c=s.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${c} ${l}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric"};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(n,o).format(s).replace(/, /g," ");case"keyboardDateTime12h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(n,o).format(s).replace(/, /g," ");case"keyboardDateTime24h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(n,o).format(s).replace(/, /g," ");default:o=i??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(s)}function KO(t,e){const n=t.toJsDate(e),r=n.getFullYear(),s=Vp(String(n.getMonth()+1),2,"0"),i=Vp(String(n.getDate()),2,"0");return`${r}-${s}-${i}`}function QO(t){const[e,n,r]=t.split("-").map(Number);return new Date(e,n-1,r)}function YO(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function XO(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function hs(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function JO(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function ZO(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function Ro(t){return t.getFullYear()}function eV(t){return t.getMonth()}function tV(t,e,n,r){const s=zo(e),i=n??s?.firstDay??0,o=s?.firstWeekSize??1;return r!==void 0?nV(t,e,i,r):rV(t,e,i,o)}function nV(t,e,n,r){const s=(7+r-n)%7,i=gc(t,e,n),o=hs(i,6);function c(m){return(7+new Date(m,0,1).getDay()-n)%7}let l=Ro(t);l<Ro(o)&&c(l+1)<=s&&l++;const u=new Date(l,0,1),h=c(l),d=h<=s?hs(u,-h):hs(u,7-h);return 1+yc(Ff(t),So(d),"weeks")}function rV(t,e,n,r){const s=hs(gc(t,e,n),6);function i(h){const d=new Date(h,0,1);return 7-yc(d,gc(d,e,n),"days")}let o=Ro(t);o<Ro(s)&&i(o+1)>=r&&o++;const c=new Date(o,0,1),l=i(o),u=l>=r?hs(c,l-7):hs(c,l);return 1+yc(Ff(t),So(u),"weeks")}function sV(t){return t.getDate()}function iV(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function oV(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function aV(t){return t.getHours()}function cV(t){return t.getMinutes()}function lV(t){return new Date(t.getFullYear(),0,1)}function uV(t){return new Date(t.getFullYear(),11,31)}function hV(t,e){return _c(t,e[0])&&pV(t,e[1])}function fV(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function _c(t,e){return t.getTime()>e.getTime()}function dV(t,e){return _c(So(t),So(e))}function pV(t,e){return t.getTime()<e.getTime()}function Mg(t,e){return t.getTime()===e.getTime()}function mV(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function gV(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function _V(t,e){return t.getFullYear()===e.getFullYear()}function yc(t,e,n){const r=new Date(t),s=new Date(e);switch(n){case"years":return r.getFullYear()-s.getFullYear();case"quarters":return Math.floor((r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12)/4);case"months":return r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-s.getTime())/1e3);default:return r.getTime()-s.getTime()}}function yV(t,e){const n=new Date(t);return n.setHours(e),n}function vV(t,e){const n=new Date(t);return n.setMinutes(e),n}function EV(t,e){const n=new Date(t);return n.setMonth(e),n}function TV(t,e){const n=new Date(t);return n.setDate(e),n}function wV(t,e){const n=new Date(t);return n.setFullYear(e),n}function So(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function Ff(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class IV{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return $T(e)}toJsDate(e){return e}toISO(e){return KO(this,e)}parseISO(e){return QO(e)}addMinutes(e,n){return YO(e,n)}addHours(e,n){return XO(e,n)}addDays(e,n){return hs(e,n)}addWeeks(e,n){return JO(e,n)}addMonths(e,n){return ZO(e,n)}getWeekArray(e,n){const r=n!==void 0?Number(n):void 0;return jO(e,this.locale,r)}startOfWeek(e,n){const r=n!==void 0?Number(n):void 0;return gc(e,this.locale,r)}endOfWeek(e){return HO(e,this.locale)}startOfMonth(e){return UT(e)}endOfMonth(e){return BT(e)}format(e,n){return zO(e,n,this.locale,this.formats)}isEqual(e,n){return Mg(e,n)}isValid(e){return fV(e)}isWithinRange(e,n){return hV(e,n)}isAfter(e,n){return _c(e,n)}isAfterDay(e,n){return dV(e,n)}isBefore(e,n){return!_c(e,n)&&!Mg(e,n)}isSameDay(e,n){return mV(e,n)}isSameMonth(e,n){return gV(e,n)}isSameYear(e,n){return _V(e,n)}setMinutes(e,n){return vV(e,n)}setHours(e,n){return yV(e,n)}setMonth(e,n){return EV(e,n)}setDate(e,n){return TV(e,n)}setYear(e,n){return wV(e,n)}getDiff(e,n,r){return yc(e,n,r)}getWeekdays(e,n){const r=e!==void 0?Number(e):void 0;return GO(this.locale,r,n)}getYear(e){return Ro(e)}getMonth(e){return eV(e)}getWeek(e,n,r){const s=n!==void 0?Number(n):void 0,i=r!==void 0?Number(r):void 0;return tV(e,this.locale,s,i)}getDate(e){return sV(e)}getNextMonth(e){return iV(e)}getPreviousMonth(e){return oV(e)}getHours(e){return aV(e)}getMinutes(e){return cV(e)}startOfDay(e){return So(e)}endOfDay(e){return Ff(e)}startOfYear(e){return lV(e)}endOfYear(e){return uV(e)}}const AV=Symbol.for("vuetify:date-options"),Lg=Symbol.for("vuetify:date-adapter");function bV(t,e){const n=It({adapter:IV,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:RV(n,e)}}function RV(t,e){const n=Mt(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return tn(e.current,r=>{n.locale=t.locale[r]??r??n.locale}),n}const Bx=["sm","md","lg","xl","xxl"],sh=Symbol.for("vuetify:display"),Fg={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},SV=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fg;return It(Fg,t)};function Ug(t){return Vt&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function Bg(t){return Vt&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function $g(t){const e=Vt&&!t?window.navigator.userAgent:"ssr";function n(S){return!!e.match(S)}const r=n(/android/i),s=n(/iphone|ipad|ipod/i),i=n(/cordova/i),o=n(/electron/i),c=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),h=n(/opera/i),d=n(/win/i),m=n(/mac/i),g=n(/linux/i);return{android:r,ios:s,cordova:i,electron:o,chrome:c,edge:l,firefox:u,opera:h,win:d,mac:m,linux:g,touch:s0,ssr:e==="ssr"}}function CV(t,e){const{thresholds:n,mobileBreakpoint:r}=SV(t),s=en(Bg(e)),i=en($g(e)),o=Mt({}),c=en(Ug(e));function l(){s.value=Bg(),c.value=Ug()}function u(){l(),i.value=$g()}return Nc(()=>{const h=c.value<n.sm,d=c.value<n.md&&!h,m=c.value<n.lg&&!(d||h),g=c.value<n.xl&&!(m||d||h),S=c.value<n.xxl&&!(g||m||d||h),P=c.value>=n.xxl,k=h?"xs":d?"sm":m?"md":g?"lg":S?"xl":"xxl",C=typeof r=="number"?r:n[r],O=c.value<C;o.xs=h,o.sm=d,o.md=m,o.lg=g,o.xl=S,o.xxl=P,o.smAndUp=!h,o.mdAndUp=!(h||d),o.lgAndUp=!(h||d||m),o.xlAndUp=!(h||d||m||g),o.smAndDown=!(m||g||S||P),o.mdAndDown=!(g||S||P),o.lgAndDown=!(S||P),o.xlAndDown=!P,o.name=k,o.height=s.value,o.width=c.value,o.mobile=O,o.mobileBreakpoint=r,o.platform=i.value,o.thresholds=n}),Vt&&(window.addEventListener("resize",l,{passive:!0}),Ac(()=>{window.removeEventListener("resize",l)},!0)),{...__(o),update:u,ssr:!!e}}const $x=Fr({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function jx(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L0();const n=Be(sh);if(!n)throw new Error("Could not find Vuetify display injection");const r=we(()=>t.mobile?!0:typeof t.mobileBreakpoint=="number"?n.width.value<t.mobileBreakpoint:t.mobileBreakpoint?n.width.value<n.thresholds.value[t.mobileBreakpoint]:t.mobile===null?n.mobile.value:!1),s=ft(()=>e?{[`${e}--mobile`]:r.value}:{});return{...n,displayClasses:s,mobile:r}}const jT=Symbol.for("vuetify:goto");function HT(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:j0}}function PV(t){return Uf(t)??(document.scrollingElement||document.body)}function Uf(t){return typeof t=="string"?document.querySelector(t):Ly(t)}function cu(t,e,n){if(typeof t=="number")return e&&n?-t:t;let r=Uf(t),s=0;for(;r;)s+=e?r.offsetLeft:r.offsetTop,r=r.offsetParent;return s}function DV(t,e){return{rtl:e.isRtl,options:It(HT(),t)}}async function jg(t,e,n,r){const s=n?"scrollLeft":"scrollTop",i=It(r?.options??HT(),e),o=r?.rtl.value,c=(typeof t=="number"?t:Uf(t))??0,l=i.container==="parent"&&c instanceof HTMLElement?c.parentElement:PV(i.container),u=i0()?i.patterns.instant:typeof i.easing=="function"?i.easing:i.patterns[i.easing];if(!u)throw new TypeError(`Easing function "${i.easing}" not found.`);let h;if(typeof c=="number")h=cu(c,n,o);else if(h=cu(c,n,o)-cu(l,n,o),i.layout){const S=window.getComputedStyle(c).getPropertyValue("--v-layout-top");S&&(h-=parseInt(S,10))}h+=i.offset,h=kV(l,h,!!o,!!n);const d=l[s]??0;if(h===d)return Promise.resolve(h);const m=performance.now();return new Promise(g=>requestAnimationFrame(function S(P){const C=(P-m)/i.duration,O=Math.floor(d+(h-d)*u(Ph(C,0,1)));if(l[s]=O,C>=1&&Math.abs(O-l[s])<10)return g(h);if(C>2)return g(l[s]);requestAnimationFrame(S)}))}function Hx(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=Be(jT),{isRtl:n}=Qy();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const r={...e,rtl:ft(()=>e.rtl.value||n.value)};async function s(i,o){return jg(i,It(t,o),!1,r)}return s.horizontal=async(i,o)=>jg(i,It(t,o),!0,r),s}function kV(t,e,n,r){const{scrollWidth:s,scrollHeight:i}=t,[o,c]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let l,u;return r?n?(l=-(s-o),u=0):(l=0,u=s-o):(l=0,u=i+-c),Ph(e,l,u)}const qT={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",tableGroupCollapse:"mdi-chevron-down",tableGroupExpand:"mdi-chevron-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette",command:"mdi-apple-keyboard-command",ctrl:"mdi-apple-keyboard-control",space:"mdi-keyboard-space",shift:"mdi-apple-keyboard-shift",alt:"mdi-apple-keyboard-option",enter:"mdi-keyboard-return",arrowup:"mdi-arrow-up",arrowdown:"mdi-arrow-down",arrowleft:"mdi-arrow-left",arrowright:"mdi-arrow-right",backspace:"mdi-backspace",play:"mdi-play",pause:"mdi-pause",fullscreen:"mdi-fullscreen",fullscreenExit:"mdi-fullscreen-exit",volumeHigh:"mdi-volume-high",volumeMedium:"mdi-volume-medium",volumeLow:"mdi-volume-low",volumeOff:"mdi-volume-variant-off"},WT={component:t=>Mc(zT,{...t,class:"mdi"})},NV=[String,Function,Object,Array],ih=Symbol.for("vuetify:icons"),hl=Fr({icon:{type:NV},tag:{type:[String,Object,Function],required:!0}},"icon"),Hg=qy()({name:"VComponentIcon",props:hl(),setup(t,e){let{slots:n}=e;return()=>{const r=t.icon;return Qe(t.tag,null,{default:()=>[t.icon?Qe(r,null,null):n.default?.()]})}}}),GT=No({name:"VSvgIcon",inheritAttrs:!1,props:hl(),setup(t,e){let{attrs:n}=e;return()=>Qe(t.tag,iy(n,{style:null}),{default:()=>[Er("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(r=>Array.isArray(r)?Er("path",{d:r[0],"fill-opacity":r[1]},null):Er("path",{d:r},null)):Er("path",{d:t.icon},null)])]})}});No({name:"VLigatureIcon",props:hl(),setup(t){return()=>Qe(t.tag,null,{default:()=>[t.icon]})}});const zT=No({name:"VClassIcon",props:hl(),setup(t){return()=>Qe(t.tag,{class:Po(t.icon)},null)}});function OV(){return{svg:{component:GT},class:{component:zT}}}function VV(t){const e=OV(),n=t?.defaultSet??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=WT),It({defaultSet:n,sets:e,aliases:{...qT,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const qx=t=>{const e=Be(ih);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:we(()=>{const r=Yw(t);if(!r)return{component:Hg};let s=r;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=e.aliases?.[s.slice(1)])),Array.isArray(s))return{component:GT,icon:s};if(typeof s!="string")return{component:Hg,icon:s};const i=Object.keys(e.sets).find(l=>typeof s=="string"&&s.startsWith(`${l}:`)),o=i?s.slice(i.length+1):s;return{component:e.sets[i??e.defaultSet].component,icon:o}})}};function KT(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,r=It(e,n),{aliases:s={},components:i={},directives:o={}}=r,c=io();return c.run(()=>{const l=U0(r.defaults),u=CV(r.display,r.ssr),h=uR(r.theme),d=VV(r.icons),m=Z0(r.locale),g=bV(r.date,m),S=DV(r.goTo,m);function P(C){for(const V in o)C.directive(V,o[V]);for(const V in i)C.component(V,i[V]);for(const V in s)C.component(V,No({...s[V],name:V,aliasName:s[V].name}));const O=io();if(O.run(()=>{h.install(C)}),C.onUnmount(()=>O.stop()),C.provide(Xs,l),C.provide(sh,u),C.provide(mo,h),C.provide(ih,d),C.provide(Xa,m),C.provide(AV,g.options),C.provide(Lg,g.instance),C.provide(jT,S),Vt&&r.ssr)if(C.$nuxt)C.$nuxt.hook("app:suspense:resolve",()=>{u.update()});else{const{mount:V}=C;C.mount=function(){const F=V(...arguments);return Sc(()=>u.update()),C.mount=V,F}}C.mixin({computed:{$vuetify(){return Mt({defaults:Os.call(this,Xs),display:Os.call(this,sh),theme:Os.call(this,mo),icons:Os.call(this,ih),locale:Os.call(this,Xa),date:Os.call(this,Lg)})}}})}function k(){c.stop()}return{install:P,unmount:k,defaults:l,display:u,theme:h,icons:d,locale:m,date:g,goTo:S}})}const xV="3.10.11";KT.version=xV;function Os(t){const e=this.$,n=e.parent?.provides??e.vnode.appContext?.provides;if(n&&t in n)return n[t]}const MV={dark:!1,colors:{background:"#F8FAFC",surface:"#FFFFFF",primary:"#5E35B1","primary-darken-1":"#3700B3",secondary:"#00BFA5",accent:"#7C4DFF",error:"#DC2626",info:"#0288D1",success:"#10B981",warning:"#F59E0B"},variables:{"border-color":"#E2E8F0","hover-opacity":.04}},LV={dark:!0,colors:{background:"#0F172A",surface:"#1E293B",primary:"#5E35B1",secondary:"#22D3EE",accent:"#A78BFA",error:"#EF4444",info:"#3B82F6",success:"#34D399",warning:"#FBBF24"},variables:{"border-color":"#334155","hover-opacity":.08}},FV=KT({theme:{defaultTheme:"skewPlayDarkTheme",themes:{skewPlayTheme:MV,skewPlayDarkTheme:LV}},icons:{defaultSet:"mdi",aliases:qT,sets:{mdi:WT}},defaults:{VCard:{elevation:0,rounded:"lg",border:!0},VBtn:{elevation:0,rounded:"pill",fontWeight:"600",letterSpacing:"0.5px"},VTextField:{variant:"outlined",color:"primary",density:"comfortable",rounded:"lg"},VChip:{rounded:"lg",fontWeight:"500"},VNavigationDrawer:{elevation:0,border:"e"}}}),fl=$A(pR),UV=qA();fl.use(UV);fl.use(FV);const BV=Lf();BV.init();fl.use(ul);fl.mount("#app");export{La as $,nx as A,Ic as B,Po as C,n0 as D,hR as E,Yt as F,Qy as G,en as H,NV as I,we as J,yx as K,nR as L,la as M,Ph as N,tn as O,kc as P,K0 as Q,Ax as R,wx as S,Nc as T,q0 as U,z0 as V,W0 as W,Ix as X,ix as Y,Ac as Z,jx as _,Qe as a,jV as a$,dA as a0,$x as a1,Sc as a2,Rx as a3,F_ as a4,qV as a5,yI as a6,bx as a7,rx as a8,sx as a9,Te as aA,Zn as aB,Yw as aC,fI as aD,No as aE,$V as aF,zV as aG,r0 as aH,lx as aI,mx as aJ,ZV as aK,Hx as aL,fx as aM,Ly as aN,Ya as aO,Pr as aP,tx as aQ,cx as aR,i0 as aS,Tx as aT,vx as aU,Ex as aV,ox as aW,io as aX,dx as aY,p0 as aZ,Mt as a_,hx as aa,Be as ab,x_ as ac,h0 as ad,d0 as ae,f0 as af,Vt as ag,Hn as ah,px as ai,YA as aj,Nx as ak,Bi as al,Ta as am,Fx as an,Ux as ao,Lx as ap,xx as aq,Mx as ar,Pg as as,Ox as at,Cx as au,AN as av,Vx as aw,Px as ax,Dx as ay,kx as az,Er as b,yh as b0,L0 as b1,a0 as b2,Mc as b3,Bx as b4,Co as b5,ax as b6,rn as b7,__ as b8,C0 as b9,_x as ba,Bn as bb,M0 as bc,qx as bd,u0 as be,Vc as bf,We as bg,ex as bh,KV as bi,gx as bj,JV as bk,L_ as bl,Vi as bm,ux as bn,WV as c,JI as d,Cc as e,Th as f,XV as g,YV as h,HV as i,QV as j,Jt as k,yu as l,GV as m,qy as n,_u as o,Fr as p,Q0 as q,on as r,ft as s,Pw as t,Lf as u,H0 as v,wa as w,Fy as x,iy as y,uI as z};

import{n as q,p as W,v as H,a as t,y as N,z as J,J as p,q as K,r as f,A as Q,I as D,x as X,b as a,F as Y,e as Z,u as ee,O as te,l as L,w as l,c as ae,k as U,t as w,j as le,d as h,C as T,o as I}from"./index-Bps02qoV.js";import{V as oe,b as v,c as $,l as se,a as R,v as F,d as A}from"./VContainer-BFyo_J92.js";import{a as g,V as G}from"./VRow-BSFoVxp1.js";import{V as j}from"./VDivider-DZMD_9Sa.js";import{V as ie}from"./VForm-CYIHAUiC.js";import{V as M}from"./VTextField-BQZE1m41.js";import{V as re}from"./VAlert-DMcIGoa6.js";import{V as O,f as ne,m as de,d as ue}from"./VInput-DEdA5THU.js";import{V as z,m as me,a as ce,b as pe}from"./VSelectionControl-cGSE6Bb6.js";import{V as fe}from"./VDialog-FoXdqNIS.js";import{V as ve}from"./VSnackbar-CTR3B9fN.js";import{_ as ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VOverlay-B6cJXDRd.js";const be=W({...me({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),E=q()({name:"VRadio",props:be(),setup(o,i){let{slots:m}=i;return H(()=>{const d=z.filterProps(o);return t(z,N(d,{class:["v-radio",o.class],style:o.style,type:"radio"}),m)}),{}}}),Ve=W({height:{type:[Number,String],default:"auto"},...de(),...X(ce(),["multiple"]),trueIcon:{type:D,default:"$radioOn"},falseIcon:{type:D,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),ye=q()({name:"VRadioGroup",inheritAttrs:!1,props:Ve(),emits:{"update:modelValue":o=>!0},setup(o,i){let{attrs:m,slots:d}=i;const b=J(),c=p(()=>o.id||`radio-group-${b}`),n=K(o,"modelValue"),s=f();return H(()=>{const[S,k]=Q(m),P=O.filterProps(o),C=z.filterProps(o),V=d.label?d.label({label:o.label,props:{for:c.value}}):o.label;return t(O,N({ref:s,class:["v-radio-group",o.class],style:o.style},S,P,{modelValue:n.value,"onUpdate:modelValue":y=>n.value=y,id:c.value}),{...d,default:y=>{let{id:x,messagesId:_,isDisabled:B,isReadonly:u}=y;return a(Y,null,[V&&t(ue,{id:x.value},{default:()=>[V]}),t(pe,N(C,{id:x.value,"aria-describedby":_.value,defaultsTarget:"VRadio",trueIcon:o.trueIcon,falseIcon:o.falseIcon,type:o.type,disabled:B.value,readonly:u.value,"aria-labelledby":V?x.value:void 0,multiple:!1},k,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e}),d)])}})}),ne({},s)}}),xe={class:"d-flex align-center mb-6"},we={key:1,class:"text-h5 font-weight-bold text-white"},he={class:"d-flex align-center"},ke={class:"d-flex align-center"},Pe={class:"d-flex justify-end"},Se={class:"mb-6"},Ce={class:"d-flex justify-space-between text-caption font-weight-bold mb-2"},_e={class:"text-caption text-medium-emphasis mt-1 text-right"},Be={class:"mb-6"},Ue={class:"d-flex justify-space-between text-caption font-weight-bold mb-2"},Ie={class:"text-caption text-medium-emphasis mt-1 text-right"},Re={class:"d-flex"},Ae={class:"d-flex justify-center mb-4"},Ge={class:"d-flex align-center"},Ne=Z({__name:"ProfileView",setup(o){const i=ee(),m=f(!1),d=f(!1),b=f(!1),c=f(!1),n=f(i.profile?.displayName??""),s=f(i.profile?.tier??"Basic"),S=p(()=>(n.value||i.profile?.email||"U").substring(0,2).toUpperCase()),k=p(()=>(i.profile?.usageStats?.storageUsed??0).toFixed(2)),P=p(()=>i.profile?.usageStats?.experimentsRun??0),C=p(()=>s.value==="Basic"?1:10),V=p(()=>s.value==="Basic"?5:100),y=p(()=>Math.min(100,Number(k.value)/C.value*100)),x=p(()=>Math.min(100,P.value/V.value*100));te(()=>i.profile,u=>{u&&(n.value||(n.value=u.displayName??""),s.value===u.tier&&(s.value=u.tier))},{immediate:!0});const _=()=>{m.value&&(c.value=!0)},B=async()=>{d.value=!0;try{await i.updateProfileDetails({displayName:n.value,tier:s.value}),c.value=!1,b.value=!0}catch(u){console.error(u)}finally{d.value=!1}};return(u,e)=>(I(),L(oe,{"max-width":"900"},{default:l(()=>[t(G,null,{default:l(()=>[t(g,{cols:"12",md:"8"},{default:l(()=>[t(v,{class:"glass-card pa-6",elevation:"0"},{default:l(()=>[a("div",xe,[t($,{color:"primary",size:"72",class:"elevation-4 me-4"},{default:l(()=>[U(i).profile?.photoURL?(I(),L(se,{key:0,src:U(i).profile.photoURL,alt:"Avatar",cover:""},null,8,["src"])):(I(),ae("span",we,w(S.value),1))]),_:1}),e[8]||(e[8]=a("div",null,[a("h2",{class:"text-h5 font-weight-bold"},"Profile Settings"),a("div",{class:"text-caption text-medium-emphasis"}," Manage your account details and subscription tier. ")],-1))]),t(j,{class:"mb-6"}),t(ie,{onSubmit:le(_,["prevent"]),modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=r=>m.value=r)},{default:l(()=>[t(M,{"model-value":U(i).profile?.email,label:"Email Address",variant:"outlined","prepend-inner-icon":"mdi-email-lock",readonly:"",hint:"Email cannot be changed via this portal.","persistent-hint":"",class:"mb-4","bg-color":"rgba(0,0,0,0.02)"},null,8,["model-value"]),t(M,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=r=>n.value=r),label:"Display Name",placeholder:"How should we call you?",variant:"outlined","prepend-inner-icon":"mdi-badge-account-horizontal",rules:[r=>!!r||"Name is required"],class:"mb-6"},null,8,["modelValue","rules"]),e[13]||(e[13]=a("div",{class:"text-subtitle-2 font-weight-bold mb-2 text-primary"},"Subscription Tier",-1)),t(re,{type:"info",variant:"tonal",density:"compact",class:"mb-4 text-caption",border:"start"},{default:l(()=>[...e[9]||(e[9]=[a("strong",null,"Dev Note:",-1),h(' Toggle this to preview "Advanced" features in the Dashboard. (Stripe integration coming in next milestone). ',-1)])]),_:1}),t(ye,{modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=r=>s.value=r),color:"primary",class:"mb-6"},{default:l(()=>[t(G,null,{default:l(()=>[t(g,{cols:"12",sm:"6"},{default:l(()=>[t(v,{variant:"outlined",class:T(["pa-4 cursor-pointer",{"border-primary bg-primary-opacity":s.value==="Basic"}]),onClick:e[1]||(e[1]=r=>s.value="Basic")},{default:l(()=>[a("div",he,[t(E,{value:"Basic","hide-details":"",density:"compact",class:"me-2"}),e[10]||(e[10]=a("div",null,[a("div",{class:"font-weight-bold"},"Basic Tier"),a("div",{class:"text-caption"},"Free • 1GB Storage • 5 Workflows")],-1))])]),_:1},8,["class"])]),_:1}),t(g,{cols:"12",sm:"6"},{default:l(()=>[t(v,{variant:"outlined",class:T(["pa-4 cursor-pointer",{"border-primary bg-primary-opacity":s.value==="Advanced"}]),onClick:e[2]||(e[2]=r=>s.value="Advanced")},{default:l(()=>[a("div",ke,[t(E,{value:"Advanced","hide-details":"",density:"compact",class:"me-2"}),e[11]||(e[11]=a("div",null,[a("div",{class:"font-weight-bold"},"Advanced Tier"),a("div",{class:"text-caption"},"Pro • 10GB Storage • Unlimited")],-1))])]),_:1},8,["class"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(j,{class:"mb-6"}),a("div",Pe,[t(R,{type:"submit",color:"primary",size:"large",disabled:!m.value,"prepend-icon":"mdi-content-save",elevation:"2"},{default:l(()=>[...e[12]||(e[12]=[h(" Save Changes ",-1)])]),_:1},8,["disabled"])])]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(g,{cols:"12",md:"4"},{default:l(()=>[t(v,{class:"glass-card pa-6 h-100",elevation:"0"},{default:l(()=>[e[17]||(e[17]=a("h3",{class:"text-h6 font-weight-bold mb-4"},"Current Usage",-1)),a("div",Se,[a("div",Ce,[e[14]||(e[14]=a("span",null,"Storage",-1)),a("span",null,w(k.value)+" GB used",1)]),t(F,{"model-value":y.value,color:"secondary",height:"8",rounded:"",striped:""},null,8,["model-value"]),a("div",_e," Limit: "+w(s.value==="Basic"?"1 GB":"10 GB"),1)]),a("div",Be,[a("div",Ue,[e[15]||(e[15]=a("span",null,"Workflows",-1)),a("span",null,w(P.value)+" created",1)]),t(F,{"model-value":x.value,color:"primary",height:"8",rounded:""},null,8,["model-value"]),a("div",Ie," Limit: "+w(s.value==="Basic"?"5":"Unlimited"),1)]),t(v,{color:"warning",variant:"tonal",class:"pa-4 rounded-lg mt-auto"},{default:l(()=>[a("div",Re,[t(A,{icon:"mdi-star-circle",class:"me-3"}),e[16]||(e[16]=a("div",{class:"text-caption"},[a("strong",null,"Upgrade to Advanced"),h(" to unlock unlimited workflows and priority GPU access. ")],-1))])]),_:1})]),_:1})]),_:1})]),_:1}),t(fe,{modelValue:c.value,"onUpdate:modelValue":e[6]||(e[6]=r=>c.value=r),"max-width":"400",persistent:""},{default:l(()=>[t(v,{class:"rounded-lg pa-6 glass-card",elevation:"10",style:{border:"1px solid rgba(255,255,255,0.1)"}},{default:l(()=>[a("div",Ae,[t($,{color:"warning",variant:"tonal",size:"64",class:"mb-2"},{default:l(()=>[t(A,{icon:"mdi-alert-circle-outline",size:"32"})]),_:1})]),e[20]||(e[20]=a("div",{class:"text-h6 font-weight-bold text-center mb-2 text-white"},"Update Profile?",-1)),e[21]||(e[21]=a("div",{class:"text-body-2 text-grey-lighten-1 text-center mb-6"}," Are you sure you want to save these changes? This will affect your dashboard limits immediately. ",-1)),t(G,{dense:""},{default:l(()=>[t(g,{cols:"6"},{default:l(()=>[t(R,{block:"",variant:"outlined",color:"grey-lighten-1",onClick:e[5]||(e[5]=r=>c.value=!1),class:"text-capitalize"},{default:l(()=>[...e[18]||(e[18]=[h(" Cancel ",-1)])]),_:1})]),_:1}),t(g,{cols:"6"},{default:l(()=>[t(R,{block:"",color:"primary",onClick:B,loading:d.value,class:"text-capitalize font-weight-bold"},{default:l(()=>[...e[19]||(e[19]=[h(" Confirm ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ve,{modelValue:b.value,"onUpdate:modelValue":e[7]||(e[7]=r=>b.value=r),color:"success",location:"bottom end",timeout:"3000"},{default:l(()=>[a("div",Ge,[t(A,{start:"",icon:"mdi-check-circle",class:"me-2"}),e[22]||(e[22]=a("span",{class:"font-weight-bold"},"Profile updated successfully!",-1))])]),_:1},8,["modelValue"])]),_:1}))}}),Je=ge(Ne,[["__scopeId","data-v-edbf2d79"]]);export{Je as default};

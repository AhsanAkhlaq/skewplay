import{a4 as c,a5 as n,a6 as d,a7 as t,a8 as h,u as r,a9 as b,ab as i,ac as l,ad as f,ae as D,af as p,aa as w}from"./index-BQ-yD8y5.js";const m=c("datasets",{state:()=>({datasets:[],isLoaded:!1,unsubscribe:null}),actions:{async init(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null);const a=r();if(!a.user){this.datasets=[],this.isLoaded=!0;return}const s=l(i(t,"datasets"),D("ownerId","==",a.user.uid),f("createdAt","desc"));this.unsubscribe=p(s,u=>{this.datasets=u.docs.map(e=>{const o=e.data();return{id:e.id,...o}}),this.isLoaded=!0})},async createDataset(a){const s=r();s.user&&await b(i(t,"datasets"),{...a,ownerId:s.user.uid,createdAt:w()})},async updateDataset(a,s){await h(d(t,"datasets",a),s)},async deleteDataset(a){await n(d(t,"datasets",a))}}});export{m as u};

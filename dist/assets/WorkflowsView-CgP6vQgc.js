import{u as W}from"./workflows-BSnkk9qc.js";import{V as y,a as d,b as V,F as w,G as c,H as k,I as D}from"./VContainer-ZakoJpiD.js";import{a as m,V as v}from"./VRow-CE43HKyc.js";import{V as N}from"./VTextField-CMDRMWKR.js";import{V as C}from"./VSpacer-DSuWpRsu.js";import{V as S}from"./VDialog-DSVxTLcX.js";import{V as B}from"./VChip-BT6JpRVv.js";import{V as F}from"./VDivider-YL--oiKl.js";import{e as T,r as x,f as $,l as g,w as t,a as e,b as i,d as o,c as z,a5 as A,k as L,F as M,o as p,t as f}from"./index-B1dst585.js";import"./VInput-DG5Lkxtm.js";import"./VOverlay-TunCepn6.js";const U={class:"d-flex justify-space-between align-center"},j={class:"text-caption text-grey"},Z=T({__name:"WorkflowsView",setup(E){const n=W(),r=x(!1),s=x(""),_=async()=>{if(s.value)try{await n.createWorkflow(s.value),r.value=!1,s.value=""}catch{}},b=async u=>{u&&confirm("Delete this workflow?")&&await n.deleteWorkflow(u)};return $(()=>{n.fetchWorkflows()}),(u,a)=>(p(),g(y,{fluid:"",class:"pa-0"},{default:t(()=>[e(v,{class:"align-center mb-6"},{default:t(()=>[e(m,null,{default:t(()=>[...a[4]||(a[4]=[i("h1",{class:"text-h4 font-weight-bold text-white"},"Workflows",-1),i("p",{class:"text-subtitle-1 text-medium-emphasis"},"Manage your experiments and pipelines.",-1)])]),_:1}),e(m,{class:"text-right"},{default:t(()=>[e(d,{color:"primary","prepend-icon":"mdi-plus",onClick:a[0]||(a[0]=l=>r.value=!0)},{default:t(()=>[...a[5]||(a[5]=[o(" New Workflow ",-1)])]),_:1})]),_:1})]),_:1}),e(v,null,{default:t(()=>[(p(!0),z(M,null,A(L(n).workflows,l=>(p(),g(m,{key:l.id,cols:"12",md:"4"},{default:t(()=>[e(V,{class:"glass-card",hover:""},{default:t(()=>[e(w,{class:"text-h6 font-weight-bold"},{default:t(()=>[o(f(l.name),1)]),_:2},1024),e(D,{class:"mb-2"},{default:t(()=>[o(" Status: "+f(l.status),1)]),_:2},1024),e(c,null,{default:t(()=>[i("div",U,[i("span",j,"Created: "+f(new Date(l.createdAt?.seconds*1e3).toLocaleDateString()),1),e(B,{size:"small",color:l.status==="Completed"?"success":"warning"},{default:t(()=>[o(f(l.status),1)]),_:2},1032,["color"])])]),_:2},1024),e(F),e(k,null,{default:t(()=>[e(C),e(d,{color:"error",variant:"text",size:"small",onClick:G=>b(l.id)},{default:t(()=>[...a[6]||(a[6]=[o(" Delete ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(S,{modelValue:r.value,"onUpdate:modelValue":a[3]||(a[3]=l=>r.value=l),"max-width":"500"},{default:t(()=>[e(V,{class:"pa-4 rounded-lg"},{default:t(()=>[e(w,null,{default:t(()=>[...a[7]||(a[7]=[o("Create New Workflow",-1)])]),_:1}),e(c,null,{default:t(()=>[e(N,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=l=>s.value=l),label:"Workflow Name",variant:"outlined",autofocus:""},null,8,["modelValue"])]),_:1}),e(k,null,{default:t(()=>[e(C),e(d,{variant:"text",onClick:a[2]||(a[2]=l=>r.value=!1)},{default:t(()=>[...a[8]||(a[8]=[o("Cancel",-1)])]),_:1}),e(d,{color:"primary",onClick:_,disabled:!s.value},{default:t(()=>[...a[9]||(a[9]=[o("Create",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{Z as default};

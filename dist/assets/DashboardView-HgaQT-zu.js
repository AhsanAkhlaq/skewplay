import{e as R,u as j,f as G,J as l,l as g,w as t,a as e,b as a,d as i,t as o,c as y,k as O,a5 as Y,F as J,m as Q,C as L,o as u}from"./index-Bps02qoV.js";import{a as $,V as q,b as N,c as B,d as z}from"./VList-C4QbBZvp.js";import{u as H}from"./workflows-B9bf95TU.js";import{V as K,b,d as h,a as w,s as X,v as D,c as Z}from"./VContainer-BFyo_J92.js";import{a as f,V as _}from"./VRow-BSFoVxp1.js";import{V as T}from"./VChip-COUeoVHk.js";import{V as ee}from"./VDivider-DZMD_9Sa.js";import{V as te}from"./VAlert-DMcIGoa6.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"position-absolute",style:{right:"-40px",top:"-40px",opacity:"0.15",transform:"rotate(-15deg)"}},oe={class:"d-flex align-center mb-2"},le={class:"text-h4 text-md-h3 font-weight-bold text-white mb-3"},ie={class:"text-subtitle-1 text-white opacity-90 mb-6",style:{"max-width":"600px"}},re={class:"d-flex flex-wrap ga-4"},ne={class:"text-h4 font-weight-bold text-white mb-1"},de={class:"d-flex align-center text-caption text-secondary font-weight-bold"},ue={class:"d-flex align-center justify-space-between mb-4"},ce={key:0,class:"pa-8 text-center"},me={class:"mx-auto mb-2"},pe={class:"mb-5"},fe={class:"d-flex justify-space-between text-caption mb-2 font-weight-bold"},ve={key:0,class:"text-caption text-grey mt-1"},ge={class:"mb-4"},be={class:"d-flex justify-space-between text-caption mb-2 font-weight-bold"},he={class:"text-caption text-grey mt-1"},we=R({__name:"DashboardView",setup(xe){const v=j(),U=$(),c=H(),E=C=>C==="Completed"?"success":"grey";G(async()=>{v.user&&await Promise.all([U.fetchDatasets(),c.fetchWorkflows()])});const I=l(()=>v.profile?.displayName?.split(" ")[0]??"Explorer"),k=l(()=>v.profile?.tier||"Basic"),r=l(()=>k.value==="Basic"),V=l(()=>c.workflows.slice(0,5)),n=l(()=>c.workflows.length),M=l(()=>r.value?5:100),S=l(()=>r.value?"5":"Unlimited"),W=l(()=>Math.min(100,n.value/M.value*100)),m=l(()=>v.profile?.usageStats?.storageUsed??0),A=l(()=>m.value.toFixed(2)),p=l(()=>r.value?1:10),F=l(()=>Math.min(100,m.value/p.value*100)),x=l(()=>c.workflows[0]),P=l(()=>x.value?x.value.status==="Draft"?"In Progress":"Finished":"Idle");return(C,s)=>(u(),g(K,{fluid:"",class:"pa-0"},{default:t(()=>[e(_,{class:"mb-6"},{default:t(()=>[e(f,{cols:"12"},{default:t(()=>[e(b,{elevation:"0",class:"pa-8 rounded-xl position-relative overflow-hidden bg-primary",style:{"z-index":"1"}},{default:t(()=>[a("div",ae,[e(h,{icon:"mdi-scale-balance",size:"300",color:"white"})]),e(_,{align:"center"},{default:t(()=>[e(f,{cols:"12",md:"8"},{default:t(()=>[a("div",oe,[e(T,{size:"small",color:"white",variant:"outlined",class:"me-2 font-weight-bold"},{default:t(()=>[i(o(k.value)+" Tier ",1)]),_:1}),s[0]||(s[0]=a("span",{class:"text-caption text-white opacity-80 text-uppercase font-weight-bold"},"Your Mission",-1))]),a("h1",le," Welcome back, "+o(I.value)+"! ",1),a("p",ie,[s[1]||(s[1]=i(" You have used ",-1)),a("strong",null,o(n.value)+" of "+o(S.value)+" workflows",1),s[2]||(s[2]=i(". Ready to tackle some new imbalance challenges today? ",-1))]),a("div",re,[e(w,{size:"large",color:"white",class:"text-primary font-weight-bold","prepend-icon":"mdi-plus",to:"/app/datasets",elevation:"2",disabled:r.value&&n.value>=5},{default:t(()=>[...s[3]||(s[3]=[i(" New Experiment ",-1)])]),_:1},8,["disabled"]),e(w,{size:"large",variant:"outlined",color:"white","prepend-icon":"mdi-school-outline",to:"/app/profile"},{default:t(()=>[...s[4]||(s[4]=[i(" View Tutorials ",-1)])]),_:1})])]),_:1}),e(f,{cols:"12",md:"4",class:"d-none d-md-block text-right"},{default:t(()=>[e(b,{class:"d-inline-block text-start pa-4 rounded-lg glass-card",style:{"min-width":"240px",background:"rgba(255,255,255,0.1)"}},{default:t(()=>[s[5]||(s[5]=a("div",{class:"text-caption text-white opacity-70 mb-1"},"Last Active Stage",-1)),a("div",ne,o(P.value),1),a("div",de,[e(h,{icon:"mdi-clock-outline",size:"small",class:"me-1"}),i(" "+o(x.value?.name??"Ready to start"),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(_,null,{default:t(()=>[e(f,{cols:"12",md:"8"},{default:t(()=>[a("div",ue,[s[7]||(s[7]=a("h3",{class:"text-h6 font-weight-bold text-high-emphasis"},"Recent Workflows",-1)),e(w,{variant:"text",size:"small",color:"primary",to:"/app/workflows","append-icon":"mdi-arrow-right"},{default:t(()=>[...s[6]||(s[6]=[i(" View All ",-1)])]),_:1})]),e(b,{elevation:"0",class:"rounded-lg border",style:{background:"transparent"}},{default:t(()=>[O(c).isLoading?(u(),y("div",ce,[e(X,{indeterminate:"",color:"primary"})])):(u(),g(q,{key:1,"bg-color":"transparent",lines:"two",class:"pa-2"},{default:t(()=>[V.value.length===0?(u(),g(N,{key:0,class:"pa-6 text-center"},{prepend:t(()=>[a("div",me,[e(h,{icon:"mdi-flask-empty-outline",size:"40",color:"grey"})])]),default:t(()=>[e(B,{class:"text-body-1 font-weight-bold text-medium-emphasis"},{default:t(()=>[...s[8]||(s[8]=[i("No workflows found",-1)])]),_:1}),e(z,{class:"text-disabled"},{default:t(()=>[...s[9]||(s[9]=[i("Upload a dataset to get started.",-1)])]),_:1})]),_:1})):(u(!0),y(J,{key:1},Y(V.value,d=>(u(),g(N,{key:d.id,to:`/app/workflows/${d.id}`,rounded:"lg",class:"mb-1 hover-item",link:""},{prepend:t(()=>[e(Z,{color:"primary",variant:"tonal",rounded:"",class:"me-3"},{default:t(()=>[e(h,{icon:"mdi-file-tree"})]),_:1})]),append:t(()=>[e(T,{size:"small",color:E(d.status),label:"",class:"font-weight-bold"},{default:t(()=>[i(o(d.status),1)]),_:2},1032,["color"])]),default:t(()=>[e(B,{class:"font-weight-bold text-high-emphasis"},{default:t(()=>[i(o(d.name),1)]),_:2},1024),e(z,{class:"text-caption text-medium-emphasis"},{default:t(()=>[i(o(d.status)+" â€¢ Created "+o(new Date(d.createdAt?.seconds*1e3).toLocaleDateString()),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1}))]),_:1})]),_:1}),e(f,{cols:"12",md:"4"},{default:t(()=>[s[12]||(s[12]=a("h3",{class:"text-h6 font-weight-bold mb-4 text-high-emphasis"},"Tier Usage",-1)),e(b,{class:"pa-5 mb-6 rounded-lg border bg-surface",elevation:"0"},{default:t(()=>[a("div",pe,[a("div",fe,[s[10]||(s[10]=a("span",{class:"text-medium-emphasis"},"Workflows Created",-1)),a("span",{class:L(r.value&&n.value>=5?"text-error":"text-primary")},o(n.value)+" / "+o(S.value),3)]),e(D,{"model-value":W.value,color:r.value&&n.value>=5?"error":"primary",height:"8",rounded:"",striped:""},null,8,["model-value","color"]),r.value&&n.value>=5?(u(),y("div",ve," Limit reached. Upgrade to create more. ")):Q("",!0)]),a("div",ge,[a("div",be,[s[11]||(s[11]=a("span",{class:"text-medium-emphasis"},"Storage Used",-1)),a("span",{class:L(m.value>=p.value?"text-error":"text-secondary")},o(A.value)+" GB / "+o(p.value)+" GB ",3)]),e(D,{"model-value":F.value,color:m.value>=p.value?"error":"secondary",height:"8",rounded:""},null,8,["model-value","color"]),a("div",he,o((p.value-Number(m.value)).toFixed(2))+" GB remaining ",1)]),e(ee,{class:"my-4"}),e(w,{block:"",variant:r.value?"flat":"outlined",color:r.value?"primary":"grey",class:"mb-3",to:"/app/profile"},{default:t(()=>[i(o(r.value?"Upgrade Tier":"Manage Subscription"),1)]),_:1},8,["variant","color"])]),_:1}),s[13]||(s[13]=a("h3",{class:"text-h6 font-weight-bold mb-4 text-high-emphasis"},"Quick Tips",-1)),e(te,{icon:"mdi-lightbulb-on-outline",title:"Did you know?",text:"Using SMOTE combined with ENN (Edited Nearest Neighbors) often yields better results than SMOTE alone.",color:"info",variant:"tonal",class:"rounded-lg",border:"start"})]),_:1})]),_:1})]),_:1}))}}),ze=se(we,[["__scopeId","data-v-1b25e200"]]);export{ze as default};

import{e as D,a3 as N,g as u,w as a,a as t,d as r,h as U,t as i,i as B,j as f,c as E,a0 as F,Y as j,o as n,b as p}from"./index-BQ-yD8y5.js";import{u as h}from"./datasets-DP0R_19e.js";import{V as C,a as V}from"./VRow-bIxuAT9F.js";import{V as g,a as x,b,c as A,d as q,e as z}from"./VCard-B5u0R0Bn.js";import{V as m,p as y}from"./VGrid-WlsQCIUj.js";import{d as v,e as I}from"./VList-DkhENPD5.js";import{V as $}from"./VForm-gjJOfFIx.js";import{V as _}from"./VTextField-C93ZrlTJ.js";import{V as L,a as M}from"./VTextarea-BBlVzAK5.js";import{V as O}from"./VSelect-BPwPp236.js";import"./index-Dy_5GxG7.js";import"./VMenu-CgAHk5IX.js";const R={class:"d-flex justify-space-between align-start"},Y={class:"text-body-2 font-weight-medium"},le=D({__name:"DatasetsView",setup(G){const d=h(),e=N({id:"",name:"",description:"",targetColumn:"",sourceType:"upload"}),T=[{title:"Upload",value:"upload"},{title:"Sample",value:"sample"}],c=()=>{e.id="",e.name="",e.description="",e.targetColumn="",e.sourceType="upload"},k=async()=>{const s={name:e.name,description:e.description,targetColumn:e.targetColumn,sourceType:e.sourceType};e.id?await d.updateDataset(e.id,s):await d.createDataset(s),c()},S=s=>{e.id=s.id,e.name=s.name,e.description=s.description,e.targetColumn=s.targetColumn,e.sourceType=s.sourceType};return(s,o)=>(n(),u(C,{class:"ga-6",align:"stretch"},{default:a(()=>[t(V,{cols:"12",md:"4"},{default:a(()=>[t(g,{elevation:"3"},{default:a(()=>[t(x,{class:"d-flex justify-space-between align-center"},{default:a(()=>[r(i(e.id?"Edit dataset":"Create dataset")+" ",1),e.id?(n(),u(m,{key:0,icon:"mdi-close",variant:"text",onClick:c})):U("",!0)]),_:1}),t(v),t(b,null,{default:a(()=>[t($,{onSubmit:B(k,["prevent"]),class:"d-flex flex-column ga-4"},{default:a(()=>[t(_,{modelValue:e.name,"onUpdate:modelValue":o[0]||(o[0]=l=>e.name=l),label:"Name",placeholder:"Fraud detection dataset",required:""},null,8,["modelValue"]),t(L,{modelValue:e.description,"onUpdate:modelValue":o[1]||(o[1]=l=>e.description=l),label:"Description",placeholder:"Short summary of the dataset",rows:"3"},null,8,["modelValue"]),t(_,{modelValue:e.targetColumn,"onUpdate:modelValue":o[2]||(o[2]=l=>e.targetColumn=l),label:"Target column",placeholder:"class"},null,8,["modelValue"]),t(O,{modelValue:e.sourceType,"onUpdate:modelValue":o[3]||(o[3]=l=>e.sourceType=l),label:"Source type",items:T},null,8,["modelValue"]),t(m,{type:"submit",color:"primary",size:"large"},{default:a(()=>[t(y,{start:"",icon:"mdi-content-save"}),r(" "+i(e.id?"Update dataset":"Save dataset"),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(V,{cols:"12",md:"8"},{default:a(()=>[f(d).datasets.length?(n(),u(C,{key:0,class:"ga-4"},{default:a(()=>[(n(!0),E(j,null,F(f(d).datasets,l=>(n(),u(V,{key:l.id,cols:"12",sm:"6"},{default:a(()=>[t(g,{rounded:"xl",elevation:"2"},{default:a(()=>[t(A,null,{default:a(()=>[p("div",R,[p("div",null,[t(x,{class:"text-h6"},{default:a(()=>[r(i(l.name),1)]),_:2},1024),t(q,null,{default:a(()=>[r(i(l.description||"No description yet"),1)]),_:2},1024)]),t(I,{size:"small",color:"secondary",variant:"tonal"},{default:a(()=>[r(i(l.sourceType),1)]),_:2},1024)])]),_:2},1024),t(v),t(b,null,{default:a(()=>[o[4]||(o[4]=p("p",{class:"text-caption text-medium-emphasis mb-1"},"Target column",-1)),p("p",Y,i(l.targetColumn||"N/A"),1)]),_:2},1024),t(z,{class:"justify-end ga-2"},{default:a(()=>[t(m,{variant:"text",color:"primary",onClick:w=>S(l)},{default:a(()=>[t(y,{start:"",icon:"mdi-pencil"}),o[5]||(o[5]=r(" Edit ",-1))]),_:1},8,["onClick"]),t(m,{variant:"text",color:"error",onClick:w=>f(d).deleteDataset(l.id)},{default:a(()=>[t(y,{start:"",icon:"mdi-delete-outline"}),o[6]||(o[6]=r(" Delete ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(n(),u(M,{key:1,icon:"mdi-database-outline",title:"No datasets yet",text:"Add your first CSV metadata to begin exploring imbalance techniques."},{actions:a(()=>[t(m,{color:"primary",onClick:c},{default:a(()=>[...o[7]||(o[7]=[r("Create dataset",-1)])]),_:1})]),_:1}))]),_:1})]),_:1}))}});export{le as default};

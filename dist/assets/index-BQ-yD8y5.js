const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LandingView-D3fzaBIL.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/VContainer-Bl5JNupB.js","assets/VGrid-WlsQCIUj.js","assets/VGrid-Bv7G4XLc.css","assets/VCard-B5u0R0Bn.js","assets/VCard-BMRAsqkx.css","assets/VRow-bIxuAT9F.js","assets/VSheet-ndsYAS7_.js","assets/VSheet-B07QgQE8.css","assets/LoginView-CeA9fK0e.js","assets/VForm-gjJOfFIx.js","assets/VTextField-C93ZrlTJ.js","assets/index-Dy_5GxG7.js","assets/VTextField-B47GKS45.css","assets/VAlert-vv4yb37M.js","assets/VAlert-Qkf0eDNA.css","assets/RegisterView-CLEzLsDC.js","assets/AppShell-BZ1qCm7n.js","assets/datasets-DP0R_19e.js","assets/workflows-DxC7j1rP.js","assets/VList-DkhENPD5.js","assets/VList-C05DS0z-.css","assets/VMenu-CgAHk5IX.js","assets/VMenu-Co15VvJg.css","assets/AppShell-xgL0Utfp.css","assets/DashboardView-Wgj8uV_Y.js","assets/DashboardView-CewaD--Y.css","assets/DatasetsView-CmJM2NX9.js","assets/VTextarea-BBlVzAK5.js","assets/VTextarea-Bu5-1UX2.css","assets/VSelect-BPwPp236.js","assets/VSelect-DDTKYJ3h.css","assets/WorkflowsView-CdHAigO6.js","assets/WorkflowsView-BDj9APn_.css","assets/ProfileView-CSfNgC4D.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Yu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ke={},Ls=[],yn=()=>{},Sg=()=>!1,dc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Xu=t=>t.startsWith("onUpdate:"),tt=Object.assign,Ju=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},GT=Object.prototype.hasOwnProperty,Se=(t,e)=>GT.call(t,e),ce=Array.isArray,Fs=t=>pc(t)==="[object Map]",Cg=t=>pc(t)==="[object Set]",ue=t=>typeof t=="function",Ue=t=>typeof t=="string",xr=t=>typeof t=="symbol",Ne=t=>t!==null&&typeof t=="object",Pg=t=>(Ne(t)||ue(t))&&ue(t.then)&&ue(t.catch),Dg=Object.prototype.toString,pc=t=>Dg.call(t),zT=t=>pc(t).slice(8,-1),kg=t=>pc(t)==="[object Object]",Zu=t=>Ue(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Fi=Yu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mc=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},KT=/-\w/g,Gt=mc(t=>t.replace(KT,e=>e.slice(1).toUpperCase())),QT=/\B([A-Z])/g,ds=mc(t=>t.replace(QT,"-$1").toLowerCase()),Ao=mc(t=>t.charAt(0).toUpperCase()+t.slice(1)),wl=mc(t=>t?`on${Ao(t)}`:""),yr=(t,e)=>!Object.is(t,e),ma=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Ng=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},eh=t=>{const e=parseFloat(t);return isNaN(e)?t:e},YT=t=>{const e=Ue(t)?Number(t):NaN;return isNaN(e)?t:e};let ad;const gc=()=>ad||(ad=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _c(t){if(ce(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Ue(r)?ew(r):_c(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Ue(t)||Ne(t))return t}const XT=/;(?![^(]*\))/g,JT=/:([^]+)/,ZT=/\/\*[^]*?\*\//g;function ew(t){const e={};return t.replace(ZT,"").split(XT).forEach(n=>{if(n){const r=n.split(JT);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function bo(t){let e="";if(Ue(t))e=t;else if(ce(t))for(let n=0;n<t.length;n++){const r=bo(t[n]);r&&(e+=r+" ")}else if(Ne(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const tw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nw=Yu(tw);function Og(t){return!!t||t===""}const Vg=t=>!!(t&&t.__v_isRef===!0),rw=t=>Ue(t)?t:t==null?"":ce(t)||Ne(t)&&(t.toString===Dg||!ue(t.toString))?Vg(t)?rw(t.value):JSON.stringify(t,xg,2):String(t),xg=(t,e)=>Vg(e)?xg(t,e.value):Fs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Il(r,i)+" =>"]=s,n),{})}:Cg(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Il(n))}:xr(e)?Il(e):Ne(e)&&!ce(e)&&!kg(e)?String(e):e,Il=(t,e="")=>{var n;return xr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let gt;class Mg{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=gt,!e&&gt&&(this.index=(gt.scopes||(gt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=gt;try{return gt=this,e()}finally{gt=n}}}on(){++this._on===1&&(this.prevScope=gt,gt=this)}off(){this._on>0&&--this._on===0&&(gt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function eo(t){return new Mg(t)}function th(){return gt}function yc(t,e=!1){gt&&gt.cleanups.push(t)}let Oe;const Al=new WeakSet;class Lg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,gt&&gt.active&&gt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Al.has(this)&&(Al.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ug(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cd(this),Bg(this);const e=Oe,n=on;Oe=this,on=!0;try{return this.fn()}finally{$g(this),Oe=e,on=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)sh(e);this.deps=this.depsTail=void 0,cd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Al.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){nu(this)&&this.run()}get dirty(){return nu(this)}}let Fg=0,Ui,Bi;function Ug(t,e=!1){if(t.flags|=8,e){t.next=Bi,Bi=t;return}t.next=Ui,Ui=t}function nh(){Fg++}function rh(){if(--Fg>0)return;if(Bi){let e=Bi;for(Bi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ui;){let e=Ui;for(Ui=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Bg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function $g(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),sh(r),sw(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function nu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(jg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function jg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===to)||(t.globalVersion=to,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!nu(t))))return;t.flags|=2;const e=t.dep,n=Oe,r=on;Oe=t,on=!0;try{Bg(t);const s=t.fn(t._value);(e.version===0||yr(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Oe=n,on=r,$g(t),t.flags&=-3}}function sh(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)sh(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function sw(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let on=!0;const Hg=[];function jn(){Hg.push(on),on=!1}function Hn(){const t=Hg.pop();on=t===void 0?!0:t}function cd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Oe;Oe=void 0;try{e()}finally{Oe=n}}}let to=0;class iw{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ih{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Oe||!on||Oe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Oe)n=this.activeLink=new iw(Oe,this),Oe.deps?(n.prevDep=Oe.depsTail,Oe.depsTail.nextDep=n,Oe.depsTail=n):Oe.deps=Oe.depsTail=n,qg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Oe.depsTail,n.nextDep=void 0,Oe.depsTail.nextDep=n,Oe.depsTail=n,Oe.deps===n&&(Oe.deps=r)}return n}trigger(e){this.version++,to++,this.notify(e)}notify(e){nh();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{rh()}}}function qg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)qg(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Pa=new WeakMap,ts=Symbol(""),ru=Symbol(""),no=Symbol("");function yt(t,e,n){if(on&&Oe){let r=Pa.get(t);r||Pa.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new ih),s.map=r,s.key=n),s.track()}}function xn(t,e,n,r,s,i){const o=Pa.get(t);if(!o){to++;return}const c=l=>{l&&l.trigger()};if(nh(),e==="clear")o.forEach(c);else{const l=ce(t),u=l&&Zu(n);if(l&&n==="length"){const h=Number(r);o.forEach((d,m)=>{(m==="length"||m===no||!xr(m)&&m>=h)&&c(d)})}else switch((n!==void 0||o.has(void 0))&&c(o.get(n)),u&&c(o.get(no)),e){case"add":l?u&&c(o.get("length")):(c(o.get(ts)),Fs(t)&&c(o.get(ru)));break;case"delete":l||(c(o.get(ts)),Fs(t)&&c(o.get(ru)));break;case"set":Fs(t)&&c(o.get(ts));break}}rh()}function ow(t,e){const n=Pa.get(t);return n&&n.get(e)}function As(t){const e=Te(t);return e===t?e:(yt(e,"iterate",no),Yt(t)?e:e.map(lt))}function vc(t){return yt(t=Te(t),"iterate",no),t}const aw={__proto__:null,[Symbol.iterator](){return bl(this,Symbol.iterator,lt)},concat(...t){return As(this).concat(...t.map(e=>ce(e)?As(e):e))},entries(){return bl(this,"entries",t=>(t[1]=lt(t[1]),t))},every(t,e){return Dn(this,"every",t,e,void 0,arguments)},filter(t,e){return Dn(this,"filter",t,e,n=>n.map(lt),arguments)},find(t,e){return Dn(this,"find",t,e,lt,arguments)},findIndex(t,e){return Dn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Dn(this,"findLast",t,e,lt,arguments)},findLastIndex(t,e){return Dn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Dn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Rl(this,"includes",t)},indexOf(...t){return Rl(this,"indexOf",t)},join(t){return As(this).join(t)},lastIndexOf(...t){return Rl(this,"lastIndexOf",t)},map(t,e){return Dn(this,"map",t,e,void 0,arguments)},pop(){return Ai(this,"pop")},push(...t){return Ai(this,"push",t)},reduce(t,...e){return ld(this,"reduce",t,e)},reduceRight(t,...e){return ld(this,"reduceRight",t,e)},shift(){return Ai(this,"shift")},some(t,e){return Dn(this,"some",t,e,void 0,arguments)},splice(...t){return Ai(this,"splice",t)},toReversed(){return As(this).toReversed()},toSorted(t){return As(this).toSorted(t)},toSpliced(...t){return As(this).toSpliced(...t)},unshift(...t){return Ai(this,"unshift",t)},values(){return bl(this,"values",lt)}};function bl(t,e,n){const r=vc(t),s=r[e]();return r!==t&&!Yt(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const cw=Array.prototype;function Dn(t,e,n,r,s,i){const o=vc(t),c=o!==t&&!Yt(t),l=o[e];if(l!==cw[e]){const d=l.apply(t,i);return c?lt(d):d}let u=n;o!==t&&(c?u=function(d,m){return n.call(this,lt(d),m,t)}:n.length>2&&(u=function(d,m){return n.call(this,d,m,t)}));const h=l.call(o,u,r);return c&&s?s(h):h}function ld(t,e,n,r){const s=vc(t);let i=n;return s!==t&&(Yt(t)?n.length>3&&(i=function(o,c,l){return n.call(this,o,c,l,t)}):i=function(o,c,l){return n.call(this,o,lt(c),l,t)}),s[e](i,...r)}function Rl(t,e,n){const r=Te(t);yt(r,"iterate",no);const s=r[e](...n);return(s===-1||s===!1)&&ch(n[0])?(n[0]=Te(n[0]),r[e](...n)):s}function Ai(t,e,n=[]){jn(),nh();const r=Te(t)[e].apply(t,n);return rh(),Hn(),r}const lw=Yu("__proto__,__v_isRef,__isVue"),Wg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(xr));function uw(t){xr(t)||(t=String(t));const e=Te(this);return yt(e,"has",t),e.hasOwnProperty(t)}class Gg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Ew:Yg:i?Qg:Kg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ce(e);if(!s){let l;if(o&&(l=aw[n]))return l;if(n==="hasOwnProperty")return uw}const c=Reflect.get(e,n,qe(e)?e:r);if((xr(n)?Wg.has(n):lw(n))||(s||yt(e,"get",n),i))return c;if(qe(c)){const l=o&&Zu(n)?c:c.value;return s&&Ne(l)?Da(l):l}return Ne(c)?s?Da(c):Ot(c):c}}class zg extends Gg{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=br(i);if(!Yt(r)&&!br(r)&&(i=Te(i),r=Te(r)),!ce(e)&&qe(i)&&!qe(r))return l||(i.value=r),!0}const o=ce(e)&&Zu(n)?Number(n)<e.length:Se(e,n),c=Reflect.set(e,n,r,qe(e)?e:s);return e===Te(s)&&(o?yr(r,i)&&xn(e,"set",n,r):xn(e,"add",n,r)),c}deleteProperty(e,n){const r=Se(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&xn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!xr(n)||!Wg.has(n))&&yt(e,"has",n),r}ownKeys(e){return yt(e,"iterate",ce(e)?"length":ts),Reflect.ownKeys(e)}}class hw extends Gg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const fw=new zg,dw=new hw,pw=new zg(!0);const su=t=>t,Jo=t=>Reflect.getPrototypeOf(t);function mw(t,e,n){return function(...r){const s=this.__v_raw,i=Te(s),o=Fs(i),c=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),h=n?su:e?ka:lt;return!e&&yt(i,"iterate",l?ru:ts),{next(){const{value:d,done:m}=u.next();return m?{value:d,done:m}:{value:c?[h(d[0]),h(d[1])]:h(d),done:m}},[Symbol.iterator](){return this}}}}function Zo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function gw(t,e){const n={get(s){const i=this.__v_raw,o=Te(i),c=Te(s);t||(yr(s,c)&&yt(o,"get",s),yt(o,"get",c));const{has:l}=Jo(o),u=e?su:t?ka:lt;if(l.call(o,s))return u(i.get(s));if(l.call(o,c))return u(i.get(c));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&yt(Te(s),"iterate",ts),s.size},has(s){const i=this.__v_raw,o=Te(i),c=Te(s);return t||(yr(s,c)&&yt(o,"has",s),yt(o,"has",c)),s===c?i.has(s):i.has(s)||i.has(c)},forEach(s,i){const o=this,c=o.__v_raw,l=Te(c),u=e?su:t?ka:lt;return!t&&yt(l,"iterate",ts),c.forEach((h,d)=>s.call(i,u(h),u(d),o))}};return tt(n,t?{add:Zo("add"),set:Zo("set"),delete:Zo("delete"),clear:Zo("clear")}:{add(s){!e&&!Yt(s)&&!br(s)&&(s=Te(s));const i=Te(this);return Jo(i).has.call(i,s)||(i.add(s),xn(i,"add",s,s)),this},set(s,i){!e&&!Yt(i)&&!br(i)&&(i=Te(i));const o=Te(this),{has:c,get:l}=Jo(o);let u=c.call(o,s);u||(s=Te(s),u=c.call(o,s));const h=l.call(o,s);return o.set(s,i),u?yr(i,h)&&xn(o,"set",s,i):xn(o,"add",s,i),this},delete(s){const i=Te(this),{has:o,get:c}=Jo(i);let l=o.call(i,s);l||(s=Te(s),l=o.call(i,s)),c&&c.call(i,s);const u=i.delete(s);return l&&xn(i,"delete",s,void 0),u},clear(){const s=Te(this),i=s.size!==0,o=s.clear();return i&&xn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=mw(s,t,e)}),n}function oh(t,e){const n=gw(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Se(n,s)&&s in r?n:r,s,i)}const _w={get:oh(!1,!1)},yw={get:oh(!1,!0)},vw={get:oh(!0,!1)};const Kg=new WeakMap,Qg=new WeakMap,Yg=new WeakMap,Ew=new WeakMap;function Tw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ww(t){return t.__v_skip||!Object.isExtensible(t)?0:Tw(zT(t))}function Ot(t){return br(t)?t:ah(t,!1,fw,_w,Kg)}function Xg(t){return ah(t,!1,pw,yw,Qg)}function Da(t){return ah(t,!0,dw,vw,Yg)}function ah(t,e,n,r,s){if(!Ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=ww(t);if(i===0)return t;const o=s.get(t);if(o)return o;const c=new Proxy(t,i===2?r:n);return s.set(t,c),c}function vr(t){return br(t)?vr(t.__v_raw):!!(t&&t.__v_isReactive)}function br(t){return!!(t&&t.__v_isReadonly)}function Yt(t){return!!(t&&t.__v_isShallow)}function ch(t){return t?!!t.__v_raw:!1}function Te(t){const e=t&&t.__v_raw;return e?Te(e):t}function lh(t){return!Se(t,"__v_skip")&&Object.isExtensible(t)&&Ng(t,"__v_skip",!0),t}const lt=t=>Ne(t)?Ot(t):t,ka=t=>Ne(t)?Da(t):t;function qe(t){return t?t.__v_isRef===!0:!1}function tn(t){return Jg(t,!1)}function Xt(t){return Jg(t,!0)}function Jg(t,e){return qe(t)?t:new Iw(t,e)}class Iw{constructor(e,n){this.dep=new ih,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Te(e),this._value=n?e:lt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Yt(e)||br(e);e=r?e:Te(e),yr(e,n)&&(this._rawValue=e,this._value=r?e:lt(e),this.dep.trigger())}}function jt(t){return qe(t)?t.value:t}function Aw(t){return ue(t)?t():jt(t)}const bw={get:(t,e,n)=>e==="__v_raw"?t:jt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return qe(s)&&!qe(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Zg(t){return vr(t)?t:new Proxy(t,bw)}function e_(t){const e=ce(t)?new Array(t.length):{};for(const n in t)e[n]=t_(t,n);return e}class Rw{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ow(Te(this._object),this._key)}}class Sw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ut(t,e,n){return qe(t)?t:ue(t)?new Sw(t):Ne(t)&&arguments.length>1?t_(t,e,n):tn(t)}function t_(t,e,n){const r=t[e];return qe(r)?r:new Rw(t,e,n)}class Cw{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ih(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=to-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Oe!==this)return Ug(this,!0),!0}get value(){const e=this.dep.track();return jg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Pw(t,e,n=!1){let r,s;return ue(t)?r=t:(r=t.get,s=t.set),new Cw(r,s,n)}const ea={},Na=new WeakMap;let Yr;function Dw(t,e=!1,n=Yr){if(n){let r=Na.get(n);r||Na.set(n,r=[]),r.push(t)}}function kw(t,e,n=ke){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:c,call:l}=n,u=B=>s?B:Yt(B)||s===!1||s===0?Mn(B,1):Mn(B);let h,d,m,g,S=!1,P=!1;if(qe(t)?(d=()=>t.value,S=Yt(t)):vr(t)?(d=()=>u(t),S=!0):ce(t)?(P=!0,S=t.some(B=>vr(B)||Yt(B)),d=()=>t.map(B=>{if(qe(B))return B.value;if(vr(B))return u(B);if(ue(B))return l?l(B,2):B()})):ue(t)?e?d=l?()=>l(t,2):t:d=()=>{if(m){jn();try{m()}finally{Hn()}}const B=Yr;Yr=h;try{return l?l(t,3,[g]):t(g)}finally{Yr=B}}:d=yn,e&&s){const B=d,G=s===!0?1/0:s;d=()=>Mn(B(),G)}const k=th(),C=()=>{h.stop(),k&&k.active&&Ju(k.effects,h)};if(i&&e){const B=e;e=(...G)=>{B(...G),C()}}let O=P?new Array(t.length).fill(ea):ea;const x=B=>{if(!(!(h.flags&1)||!h.dirty&&!B))if(e){const G=h.run();if(s||S||(P?G.some((z,T)=>yr(z,O[T])):yr(G,O))){m&&m();const z=Yr;Yr=h;try{const T=[G,O===ea?void 0:P&&O[0]===ea?[]:O,g];O=G,l?l(e,3,T):e(...T)}finally{Yr=z}}}else h.run()};return c&&c(x),h=new Lg(d),h.scheduler=o?()=>o(x,!1):x,g=B=>Dw(B,!1,h),m=h.onStop=()=>{const B=Na.get(h);if(B){if(l)l(B,4);else for(const G of B)G();Na.delete(h)}},e?r?x(!0):O=h.run():o?o(x.bind(null,!0),!0):h.run(),C.pause=h.pause.bind(h),C.resume=h.resume.bind(h),C.stop=C,C}function Mn(t,e=1/0,n){if(e<=0||!Ne(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,qe(t))Mn(t.value,e,n);else if(ce(t))for(let r=0;r<t.length;r++)Mn(t[r],e,n);else if(Cg(t)||Fs(t))t.forEach(r=>{Mn(r,e,n)});else if(kg(t)){for(const r in t)Mn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Mn(t[r],e,n)}return t}function Ro(t,e,n,r){try{return r?t(...r):t()}catch(s){Ec(s,e,n)}}function an(t,e,n,r){if(ue(t)){const s=Ro(t,e,n,r);return s&&Pg(s)&&s.catch(i=>{Ec(i,e,n)}),s}if(ce(t)){const s=[];for(let i=0;i<t.length;i++)s.push(an(t[i],e,n,r));return s}}function Ec(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ke;if(e){let c=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const h=c.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,l,u)===!1)return}c=c.parent}if(i){jn(),Ro(i,null,10,[t,l,u]),Hn();return}}Nw(t,n,s,r,o)}function Nw(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Dt=[];let mn=-1;const Us=[];let lr=null,Ps=0;const n_=Promise.resolve();let Oa=null;function Tc(t){const e=Oa||n_;return t?e.then(this?t.bind(this):t):e}function Ow(t){let e=mn+1,n=Dt.length;for(;e<n;){const r=e+n>>>1,s=Dt[r],i=ro(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function uh(t){if(!(t.flags&1)){const e=ro(t),n=Dt[Dt.length-1];!n||!(t.flags&2)&&e>=ro(n)?Dt.push(t):Dt.splice(Ow(e),0,t),t.flags|=1,r_()}}function r_(){Oa||(Oa=n_.then(i_))}function Vw(t){ce(t)?Us.push(...t):lr&&t.id===-1?lr.splice(Ps+1,0,t):t.flags&1||(Us.push(t),t.flags|=1),r_()}function ud(t,e,n=mn+1){for(;n<Dt.length;n++){const r=Dt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Dt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function s_(t){if(Us.length){const e=[...new Set(Us)].sort((n,r)=>ro(n)-ro(r));if(Us.length=0,lr){lr.push(...e);return}for(lr=e,Ps=0;Ps<lr.length;Ps++){const n=lr[Ps];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}lr=null,Ps=0}}const ro=t=>t.id==null?t.flags&2?-1:1/0:t.id;function i_(t){try{for(mn=0;mn<Dt.length;mn++){const e=Dt[mn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ro(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;mn<Dt.length;mn++){const e=Dt[mn];e&&(e.flags&=-2)}mn=-1,Dt.length=0,s_(),Oa=null,(Dt.length||Us.length)&&i_()}}let Ht=null,o_=null;function Va(t){const e=Ht;return Ht=t,o_=t&&t.type.__scopeId||null,e}function a_(t,e=Ht,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&La(-1);const i=Va(e);let o;try{o=t(...s)}finally{Va(i),r._d&&La(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function PO(t,e){if(Ht===null)return t;const n=Pc(Ht),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,c,l=ke]=e[s];i&&(ue(i)&&(i={mounted:i,updated:i}),i.deep&&Mn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:c,modifiers:l}))}return t}function Wr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const c=s[o];i&&(c.oldValue=i[o].value);let l=c.dir[r];l&&(jn(),an(l,n,8,[t.el,c,t,e]),Hn())}}const c_=Symbol("_vte"),l_=t=>t.__isTeleport,$i=t=>t&&(t.disabled||t.disabled===""),hd=t=>t&&(t.defer||t.defer===""),fd=t=>typeof SVGElement<"u"&&t instanceof SVGElement,dd=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,iu=(t,e)=>{const n=t&&t.to;return Ue(n)?e?e(n):null:n},u_={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,c,l,u){const{mc:h,pc:d,pbc:m,o:{insert:g,querySelector:S,createText:P,createComment:k}}=u,C=$i(e.props);let{shapeFlag:O,children:x,dynamicChildren:B}=e;if(t==null){const G=e.el=P(""),z=e.anchor=P("");g(G,n,r),g(z,n,r);const T=(_,I)=>{O&16&&h(x,_,I,s,i,o,c,l)},v=()=>{const _=e.target=iu(e.props,S),I=h_(_,e,P,g);_&&(o!=="svg"&&fd(_)?o="svg":o!=="mathml"&&dd(_)&&(o="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(_),C||(T(_,I),ga(e,!1)))};C&&(T(n,z),ga(e,!0)),hd(e.props)?(e.el.__isMounted=!1,Ct(()=>{v(),delete e.el.__isMounted},i)):v()}else{if(hd(e.props)&&t.el.__isMounted===!1){Ct(()=>{u_.process(t,e,n,r,s,i,o,c,l,u)},i);return}e.el=t.el,e.targetStart=t.targetStart;const G=e.anchor=t.anchor,z=e.target=t.target,T=e.targetAnchor=t.targetAnchor,v=$i(t.props),_=v?n:z,I=v?G:T;if(o==="svg"||fd(z)?o="svg":(o==="mathml"||dd(z))&&(o="mathml"),B?(m(t.dynamicChildren,B,_,s,i,o,c),mh(t,e,!0)):l||d(t,e,_,I,s,i,o,c,!1),C)v?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ta(e,n,G,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const b=e.target=iu(e.props,S);b&&ta(e,b,null,u,0)}else v&&ta(e,z,T,u,1);ga(e,C)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:c,anchor:l,targetStart:u,targetAnchor:h,target:d,props:m}=t;if(d&&(s(u),s(h)),i&&s(l),o&16){const g=i||!$i(m);for(let S=0;S<c.length;S++){const P=c[S];r(P,e,n,g,!!P.dynamicChildren)}}},move:ta,hydrate:xw};function ta(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:c,shapeFlag:l,children:u,props:h}=t,d=i===2;if(d&&r(o,e,n),(!d||$i(h))&&l&16)for(let m=0;m<u.length;m++)s(u[m],e,n,2);d&&r(c,e,n)}function xw(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:c,querySelector:l,insert:u,createText:h}},d){function m(P,k,C,O){k.anchor=d(o(P),k,c(P),n,r,s,i),k.targetStart=C,k.targetAnchor=O}const g=e.target=iu(e.props,l),S=$i(e.props);if(g){const P=g._lpa||g.firstChild;if(e.shapeFlag&16)if(S)m(t,e,P,P&&o(P));else{e.anchor=o(t);let k=P;for(;k;){if(k&&k.nodeType===8){if(k.data==="teleport start anchor")e.targetStart=k;else if(k.data==="teleport anchor"){e.targetAnchor=k,g._lpa=e.targetAnchor&&o(e.targetAnchor);break}}k=o(k)}e.targetAnchor||h_(g,e,h,u),d(P&&o(P),e,g,n,r,s,i)}ga(e,S)}else S&&e.shapeFlag&16&&m(t,e,t,o(t));return e.anchor&&o(e.anchor)}const DO=u_;function ga(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function h_(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[c_]=i,t&&(r(s,t),r(i,t)),i}const Vn=Symbol("_leaveCb"),na=Symbol("_enterCb");function f_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fh(()=>{t.isMounted=!0}),bc(()=>{t.isUnmounting=!0}),t}const Kt=[Function,Array],d_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Kt,onEnter:Kt,onAfterEnter:Kt,onEnterCancelled:Kt,onBeforeLeave:Kt,onLeave:Kt,onAfterLeave:Kt,onLeaveCancelled:Kt,onBeforeAppear:Kt,onAppear:Kt,onAfterAppear:Kt,onAppearCancelled:Kt},p_=t=>{const e=t.subTree;return e.component?p_(e.component):e},Mw={name:"BaseTransition",props:d_,setup(t,{slots:e}){const n=ni(),r=f_();return()=>{const s=e.default&&hh(e.default(),!0);if(!s||!s.length)return;const i=m_(s),o=Te(t),{mode:c}=o;if(r.isLeaving)return Sl(i);const l=pd(i);if(!l)return Sl(i);let u=so(l,o,r,n,d=>u=d);l.type!==Et&&os(l,u);let h=n.subTree&&pd(n.subTree);if(h&&h.type!==Et&&!Jr(h,l)&&p_(n).type!==Et){let d=so(h,o,r,n);if(os(h,d),c==="out-in"&&l.type!==Et)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,h=void 0},Sl(i);c==="in-out"&&l.type!==Et?d.delayLeave=(m,g,S)=>{const P=g_(r,h);P[String(h.key)]=h,m[Vn]=()=>{g(),m[Vn]=void 0,delete u.delayedLeave,h=void 0},u.delayedLeave=()=>{S(),delete u.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function m_(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Et){e=n;break}}return e}const Lw=Mw;function g_(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function so(t,e,n,r,s){const{appear:i,mode:o,persisted:c=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:m,onLeave:g,onAfterLeave:S,onLeaveCancelled:P,onBeforeAppear:k,onAppear:C,onAfterAppear:O,onAppearCancelled:x}=e,B=String(t.key),G=g_(n,t),z=(_,I)=>{_&&an(_,r,9,I)},T=(_,I)=>{const b=I[1];z(_,I),ce(_)?_.every(A=>A.length<=1)&&b():_.length<=1&&b()},v={mode:o,persisted:c,beforeEnter(_){let I=l;if(!n.isMounted)if(i)I=k||l;else return;_[Vn]&&_[Vn](!0);const b=G[B];b&&Jr(t,b)&&b.el[Vn]&&b.el[Vn](),z(I,[_])},enter(_){let I=u,b=h,A=d;if(!n.isMounted)if(i)I=C||u,b=O||h,A=x||d;else return;let E=!1;const de=_[na]=xe=>{E||(E=!0,xe?z(A,[_]):z(b,[_]),v.delayedLeave&&v.delayedLeave(),_[na]=void 0)};I?T(I,[_,de]):de()},leave(_,I){const b=String(t.key);if(_[na]&&_[na](!0),n.isUnmounting)return I();z(m,[_]);let A=!1;const E=_[Vn]=de=>{A||(A=!0,I(),de?z(P,[_]):z(S,[_]),_[Vn]=void 0,G[b]===t&&delete G[b])};G[b]=t,g?T(g,[_,E]):E()},clone(_){const I=so(_,e,n,r,s);return s&&s(I),I}};return v}function Sl(t){if(Ic(t))return t=Rr(t),t.children=null,t}function pd(t){if(!Ic(t))return l_(t.type)&&t.children?m_(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ue(n.default))return n.default()}}function os(t,e){t.shapeFlag&6&&t.component?(t.transition=e,os(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function hh(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const c=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Bt?(o.patchFlag&128&&s++,r=r.concat(hh(o.children,e,c))):(e||o.type!==Et)&&r.push(c!=null?Rr(o,{key:c}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function wc(t,e){return ue(t)?tt({name:t.name},e,{setup:t}):t}function Fw(){const t=ni();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function __(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const xa=new WeakMap;function ji(t,e,n,r,s=!1){if(ce(t)){t.forEach((S,P)=>ji(S,e&&(ce(e)?e[P]:e),n,r,s));return}if(Hi(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ji(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Pc(r.component):r.el,o=s?null:i,{i:c,r:l}=t,u=e&&e.r,h=c.refs===ke?c.refs={}:c.refs,d=c.setupState,m=Te(d),g=d===ke?Sg:S=>Se(m,S);if(u!=null&&u!==l){if(md(e),Ue(u))h[u]=null,g(u)&&(d[u]=null);else if(qe(u)){u.value=null;const S=e;S.k&&(h[S.k]=null)}}if(ue(l))Ro(l,c,12,[o,h]);else{const S=Ue(l),P=qe(l);if(S||P){const k=()=>{if(t.f){const C=S?g(l)?d[l]:h[l]:l.value;if(s)ce(C)&&Ju(C,i);else if(ce(C))C.includes(i)||C.push(i);else if(S)h[l]=[i],g(l)&&(d[l]=h[l]);else{const O=[i];l.value=O,t.k&&(h[t.k]=O)}}else S?(h[l]=o,g(l)&&(d[l]=o)):P&&(l.value=o,t.k&&(h[t.k]=o))};if(o){const C=()=>{k(),xa.delete(t)};C.id=-1,xa.set(t,C),Ct(C,n)}else md(t),k()}}}function md(t){const e=xa.get(t);e&&(e.flags|=8,xa.delete(t))}gc().requestIdleCallback;gc().cancelIdleCallback;const Hi=t=>!!t.type.__asyncLoader,Ic=t=>t.type.__isKeepAlive;function y_(t,e){E_(t,"a",e)}function v_(t,e){E_(t,"da",e)}function E_(t,e,n=Tt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Ac(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Ic(s.parent.vnode)&&Uw(r,e,n,s),s=s.parent}}function Uw(t,e,n,r){const s=Ac(e,t,r,!0);w_(()=>{Ju(r[e],s)},n)}function Ac(t,e,n=Tt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{jn();const c=So(n),l=an(e,n,t,o);return c(),Hn(),l});return r?s.unshift(i):s.push(i),i}}const Kn=t=>(e,n=Tt)=>{(!ao||t==="sp")&&Ac(t,(...r)=>e(...r),n)},Bw=Kn("bm"),fh=Kn("m"),$w=Kn("bu"),T_=Kn("u"),bc=Kn("bum"),w_=Kn("um"),jw=Kn("sp"),Hw=Kn("rtg"),qw=Kn("rtc");function Ww(t,e=Tt){Ac("ec",t,e)}const I_="components";function kO(t,e){return A_(I_,t,!0,e)||t}const Gw=Symbol.for("v-ndc");function NO(t){return Ue(t)&&A_(I_,t,!1)||t}function A_(t,e,n=!0,r=!1){const s=Ht||Tt;if(s){const i=s.type;{const c=VI(i,!1);if(c&&(c===e||c===Gt(e)||c===Ao(Gt(e))))return i}const o=gd(s[t]||i[t],e)||gd(s.appContext[t],e);return!o&&r?i:o}}function gd(t,e){return t&&(t[e]||t[Gt(e)]||t[Ao(Gt(e))])}function OO(t,e,n,r){let s;const i=n,o=ce(t);if(o||Ue(t)){const c=o&&vr(t);let l=!1,u=!1;c&&(l=!Yt(t),u=br(t),t=vc(t)),s=new Array(t.length);for(let h=0,d=t.length;h<d;h++)s[h]=e(l?u?ka(lt(t[h])):lt(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,i)}else if(Ne(t))if(t[Symbol.iterator])s=Array.from(t,(c,l)=>e(c,l,void 0,i));else{const c=Object.keys(t);s=new Array(c.length);for(let l=0,u=c.length;l<u;l++){const h=c[l];s[l]=e(t[h],h,l,i)}}else s=[];return s}const ou=t=>t?W_(t)?Pc(t):ou(t.parent):null,qi=tt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ou(t.parent),$root:t=>ou(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>R_(t),$forceUpdate:t=>t.f||(t.f=()=>{uh(t.update)}),$nextTick:t=>t.n||(t.n=Tc.bind(t.proxy)),$watch:t=>pI.bind(t)}),Cl=(t,e)=>t!==ke&&!t.__isScriptSetup&&Se(t,e),zw={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:c,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Cl(r,e))return o[e]=1,r[e];if(s!==ke&&Se(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&Se(u,e))return o[e]=3,i[e];if(n!==ke&&Se(n,e))return o[e]=4,n[e];au&&(o[e]=0)}}const h=qi[e];let d,m;if(h)return e==="$attrs"&&yt(t.attrs,"get",""),h(t);if((d=c.__cssModules)&&(d=d[e]))return d;if(n!==ke&&Se(n,e))return o[e]=4,n[e];if(m=l.config.globalProperties,Se(m,e))return m[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Cl(s,e)?(s[e]=n,!0):r!==ke&&Se(r,e)?(r[e]=n,!0):Se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i,type:o}},c){let l,u;return!!(n[c]||t!==ke&&c[0]!=="$"&&Se(t,c)||Cl(e,c)||(l=i[0])&&Se(l,c)||Se(r,c)||Se(qi,c)||Se(s.config.globalProperties,c)||(u=o.__cssModules)&&u[c])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function _d(t){return ce(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let au=!0;function Kw(t){const e=R_(t),n=t.proxy,r=t.ctx;au=!1,e.beforeCreate&&yd(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:c,provide:l,inject:u,created:h,beforeMount:d,mounted:m,beforeUpdate:g,updated:S,activated:P,deactivated:k,beforeDestroy:C,beforeUnmount:O,destroyed:x,unmounted:B,render:G,renderTracked:z,renderTriggered:T,errorCaptured:v,serverPrefetch:_,expose:I,inheritAttrs:b,components:A,directives:E,filters:de}=e;if(u&&Qw(u,r,null),o)for(const le in o){const me=o[le];ue(me)&&(r[le]=me.bind(n))}if(s){const le=s.call(n,n);Ne(le)&&(t.data=Ot(le))}if(au=!0,i)for(const le in i){const me=i[le],nt=ue(me)?me.bind(n,n):ue(me.get)?me.get.bind(n,n):yn,zt=!ue(me)&&ue(me.set)?me.set.bind(n):yn,At=we({get:nt,set:zt});Object.defineProperty(r,le,{enumerable:!0,configurable:!0,get:()=>At.value,set:Fe=>At.value=Fe})}if(c)for(const le in c)b_(c[le],r,n,le);if(l){const le=ue(l)?l.call(n):l;Reflect.ownKeys(le).forEach(me=>{Bn(me,le[me])})}h&&yd(h,t,"c");function be(le,me){ce(me)?me.forEach(nt=>le(nt.bind(n))):me&&le(me.bind(n))}if(be(Bw,d),be(fh,m),be($w,g),be(T_,S),be(y_,P),be(v_,k),be(Ww,v),be(qw,z),be(Hw,T),be(bc,O),be(w_,B),be(jw,_),ce(I))if(I.length){const le=t.exposed||(t.exposed={});I.forEach(me=>{Object.defineProperty(le,me,{get:()=>n[me],set:nt=>n[me]=nt,enumerable:!0})})}else t.exposed||(t.exposed={});G&&t.render===yn&&(t.render=G),b!=null&&(t.inheritAttrs=b),A&&(t.components=A),E&&(t.directives=E),_&&__(t)}function Qw(t,e,n=yn){ce(t)&&(t=cu(t));for(const r in t){const s=t[r];let i;Ne(s)?"default"in s?i=We(s.from||r,s.default,!0):i=We(s.from||r):i=We(s),qe(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function yd(t,e,n){an(ce(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function b_(t,e,n,r){let s=r.includes(".")?L_(n,r):()=>n[r];if(Ue(t)){const i=e[t];ue(i)&&Jt(s,i)}else if(ue(t))Jt(s,t.bind(n));else if(Ne(t))if(ce(t))t.forEach(i=>b_(i,e,n,r));else{const i=ue(t.handler)?t.handler.bind(n):e[t.handler];ue(i)&&Jt(s,i,t)}}function R_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,c=i.get(e);let l;return c?l=c:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>Ma(l,u,o,!0)),Ma(l,e,o)),Ne(e)&&i.set(e,l),l}function Ma(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Ma(t,i,n,!0),s&&s.forEach(o=>Ma(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const c=Yw[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const Yw={data:vd,props:Ed,emits:Ed,methods:Pi,computed:Pi,beforeCreate:St,created:St,beforeMount:St,mounted:St,beforeUpdate:St,updated:St,beforeDestroy:St,beforeUnmount:St,destroyed:St,unmounted:St,activated:St,deactivated:St,errorCaptured:St,serverPrefetch:St,components:Pi,directives:Pi,watch:Jw,provide:vd,inject:Xw};function vd(t,e){return e?t?function(){return tt(ue(t)?t.call(this,this):t,ue(e)?e.call(this,this):e)}:e:t}function Xw(t,e){return Pi(cu(t),cu(e))}function cu(t){if(ce(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function St(t,e){return t?[...new Set([].concat(t,e))]:e}function Pi(t,e){return t?tt(Object.create(null),t,e):e}function Ed(t,e){return t?ce(t)&&ce(e)?[...new Set([...t,...e])]:tt(Object.create(null),_d(t),_d(e??{})):e}function Jw(t,e){if(!t)return e;if(!e)return t;const n=tt(Object.create(null),t);for(const r in e)n[r]=St(t[r],e[r]);return n}function S_(){return{app:null,config:{isNativeTag:Sg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zw=0;function eI(t,e){return function(r,s=null){ue(r)||(r=tt({},r)),s!=null&&!Ne(s)&&(s=null);const i=S_(),o=new WeakSet,c=[];let l=!1;const u=i.app={_uid:Zw++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:MI,get config(){return i.config},set config(h){},use(h,...d){return o.has(h)||(h&&ue(h.install)?(o.add(h),h.install(u,...d)):ue(h)&&(o.add(h),h(u,...d))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,d){return d?(i.components[h]=d,u):i.components[h]},directive(h,d){return d?(i.directives[h]=d,u):i.directives[h]},mount(h,d,m){if(!l){const g=u._ceVNode||Ye(r,s);return g.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),t(g,h,m),l=!0,u._container=h,h.__vue_app__=u,Pc(g.component)}},onUnmount(h){c.push(h)},unmount(){l&&(an(c,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,d){return i.provides[h]=d,u},runWithContext(h){const d=ns;ns=u;try{return h()}finally{ns=d}}};return u}}let ns=null;function Bn(t,e){if(Tt){let n=Tt.provides;const r=Tt.parent&&Tt.parent.provides;r===n&&(n=Tt.provides=Object.create(r)),n[t]=e}}function We(t,e,n=!1){const r=ni();if(r||ns){let s=ns?ns._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ue(e)?e.call(r&&r.proxy):e}}function tI(){return!!(ni()||ns)}const C_={},P_=()=>Object.create(C_),D_=t=>Object.getPrototypeOf(t)===C_;function nI(t,e,n,r=!1){const s={},i=P_();t.propsDefaults=Object.create(null),k_(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Xg(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function rI(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,c=Te(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let d=0;d<h.length;d++){let m=h[d];if(Sc(t.emitsOptions,m))continue;const g=e[m];if(l)if(Se(i,m))g!==i[m]&&(i[m]=g,u=!0);else{const S=Gt(m);s[S]=lu(l,c,S,g,t,!1)}else g!==i[m]&&(i[m]=g,u=!0)}}}else{k_(t,e,s,i)&&(u=!0);let h;for(const d in c)(!e||!Se(e,d)&&((h=ds(d))===d||!Se(e,h)))&&(l?n&&(n[d]!==void 0||n[h]!==void 0)&&(s[d]=lu(l,c,d,void 0,t,!0)):delete s[d]);if(i!==c)for(const d in i)(!e||!Se(e,d))&&(delete i[d],u=!0)}u&&xn(t.attrs,"set","")}function k_(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,c;if(e)for(let l in e){if(Fi(l))continue;const u=e[l];let h;s&&Se(s,h=Gt(l))?!i||!i.includes(h)?n[h]=u:(c||(c={}))[h]=u:Sc(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Te(n),u=c||ke;for(let h=0;h<i.length;h++){const d=i[h];n[d]=lu(s,l,d,u[d],t,!Se(u,d))}}return o}function lu(t,e,n,r,s,i){const o=t[n];if(o!=null){const c=Se(o,"default");if(c&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ue(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const h=So(s);r=u[n]=l.call(null,e),h()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!c?r=!1:o[1]&&(r===""||r===ds(n))&&(r=!0))}return r}const sI=new WeakMap;function N_(t,e,n=!1){const r=n?sI:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},c=[];let l=!1;if(!ue(t)){const h=d=>{l=!0;const[m,g]=N_(d,e,!0);tt(o,m),g&&c.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return Ne(t)&&r.set(t,Ls),Ls;if(ce(i))for(let h=0;h<i.length;h++){const d=Gt(i[h]);Td(d)&&(o[d]=ke)}else if(i)for(const h in i){const d=Gt(h);if(Td(d)){const m=i[h],g=o[d]=ce(m)||ue(m)?{type:m}:tt({},m),S=g.type;let P=!1,k=!0;if(ce(S))for(let C=0;C<S.length;++C){const O=S[C],x=ue(O)&&O.name;if(x==="Boolean"){P=!0;break}else x==="String"&&(k=!1)}else P=ue(S)&&S.name==="Boolean";g[0]=P,g[1]=k,(P||Se(g,"default"))&&c.push(d)}}const u=[o,c];return Ne(t)&&r.set(t,u),u}function Td(t){return t[0]!=="$"&&!Fi(t)}const dh=t=>t==="_"||t==="_ctx"||t==="$stable",ph=t=>ce(t)?t.map(_n):[_n(t)],iI=(t,e,n)=>{if(e._n)return e;const r=a_((...s)=>ph(e(...s)),n);return r._c=!1,r},O_=(t,e,n)=>{const r=t._ctx;for(const s in t){if(dh(s))continue;const i=t[s];if(ue(i))e[s]=iI(s,i,r);else if(i!=null){const o=ph(i);e[s]=()=>o}}},V_=(t,e)=>{const n=ph(e);t.slots.default=()=>n},x_=(t,e,n)=>{for(const r in e)(n||!dh(r))&&(t[r]=e[r])},oI=(t,e,n)=>{const r=t.slots=P_();if(t.vnode.shapeFlag&32){const s=e._;s?(x_(r,e,n),n&&Ng(r,"_",s,!0)):O_(e,r)}else e&&V_(t,e)},aI=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=ke;if(r.shapeFlag&32){const c=e._;c?n&&c===1?i=!1:x_(s,e,n):(i=!e.$stable,O_(e,s)),o=e}else e&&(V_(t,e),o={default:1});if(i)for(const c in s)!dh(c)&&o[c]==null&&delete s[c]},Ct=wI;function cI(t){return lI(t)}function lI(t,e){const n=gc();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:c,createComment:l,setText:u,setElementText:h,parentNode:d,nextSibling:m,setScopeId:g=yn,insertStaticContent:S}=t,P=(w,R,D,U=null,j=null,L=null,X=void 0,W=null,q=!!R.dynamicChildren)=>{if(w===R)return;w&&!Jr(w,R)&&(U=M(w),Fe(w,j,L,!0),w=null),R.patchFlag===-2&&(q=!1,R.dynamicChildren=null);const{type:H,ref:se,shapeFlag:J}=R;switch(H){case Cc:k(w,R,D,U);break;case Et:C(w,R,D,U);break;case Dl:w==null&&O(R,D,U,X);break;case Bt:A(w,R,D,U,j,L,X,W,q);break;default:J&1?G(w,R,D,U,j,L,X,W,q):J&6?E(w,R,D,U,j,L,X,W,q):(J&64||J&128)&&H.process(w,R,D,U,j,L,X,W,q,te)}se!=null&&j?ji(se,w&&w.ref,L,R||w,!R):se==null&&w&&w.ref!=null&&ji(w.ref,null,L,w,!0)},k=(w,R,D,U)=>{if(w==null)r(R.el=c(R.children),D,U);else{const j=R.el=w.el;R.children!==w.children&&u(j,R.children)}},C=(w,R,D,U)=>{w==null?r(R.el=l(R.children||""),D,U):R.el=w.el},O=(w,R,D,U)=>{[w.el,w.anchor]=S(w.children,R,D,U,w.el,w.anchor)},x=({el:w,anchor:R},D,U)=>{let j;for(;w&&w!==R;)j=m(w),r(w,D,U),w=j;r(R,D,U)},B=({el:w,anchor:R})=>{let D;for(;w&&w!==R;)D=m(w),s(w),w=D;s(R)},G=(w,R,D,U,j,L,X,W,q)=>{if(R.type==="svg"?X="svg":R.type==="math"&&(X="mathml"),w==null)z(R,D,U,j,L,X,W,q);else{const H=w.el&&w.el._isVueCE?w.el:null;try{H&&H._beginPatch(),_(w,R,j,L,X,W,q)}finally{H&&H._endPatch()}}},z=(w,R,D,U,j,L,X,W)=>{let q,H;const{props:se,shapeFlag:J,transition:re,dirs:ie}=w;if(q=w.el=o(w.type,L,se&&se.is,se),J&8?h(q,w.children):J&16&&v(w.children,q,null,U,j,Pl(w,L),X,W),ie&&Wr(w,null,U,"created"),T(q,w,w.scopeId,X,U),se){for(const Pe in se)Pe!=="value"&&!Fi(Pe)&&i(q,Pe,null,se[Pe],L,U);"value"in se&&i(q,"value",null,se.value,L),(H=se.onVnodeBeforeMount)&&dn(H,U,w)}ie&&Wr(w,null,U,"beforeMount");const ge=uI(j,re);ge&&re.beforeEnter(q),r(q,R,D),((H=se&&se.onVnodeMounted)||ge||ie)&&Ct(()=>{H&&dn(H,U,w),ge&&re.enter(q),ie&&Wr(w,null,U,"mounted")},j)},T=(w,R,D,U,j)=>{if(D&&g(w,D),U)for(let L=0;L<U.length;L++)g(w,U[L]);if(j){let L=j.subTree;if(R===L||U_(L.type)&&(L.ssContent===R||L.ssFallback===R)){const X=j.vnode;T(w,X,X.scopeId,X.slotScopeIds,j.parent)}}},v=(w,R,D,U,j,L,X,W,q=0)=>{for(let H=q;H<w.length;H++){const se=w[H]=W?ur(w[H]):_n(w[H]);P(null,se,R,D,U,j,L,X,W)}},_=(w,R,D,U,j,L,X)=>{const W=R.el=w.el;let{patchFlag:q,dynamicChildren:H,dirs:se}=R;q|=w.patchFlag&16;const J=w.props||ke,re=R.props||ke;let ie;if(D&&Gr(D,!1),(ie=re.onVnodeBeforeUpdate)&&dn(ie,D,R,w),se&&Wr(R,w,D,"beforeUpdate"),D&&Gr(D,!0),(J.innerHTML&&re.innerHTML==null||J.textContent&&re.textContent==null)&&h(W,""),H?I(w.dynamicChildren,H,W,D,U,Pl(R,j),L):X||me(w,R,W,null,D,U,Pl(R,j),L,!1),q>0){if(q&16)b(W,J,re,D,j);else if(q&2&&J.class!==re.class&&i(W,"class",null,re.class,j),q&4&&i(W,"style",J.style,re.style,j),q&8){const ge=R.dynamicProps;for(let Pe=0;Pe<ge.length;Pe++){const Ae=ge[Pe],dt=J[Ae],pt=re[Ae];(pt!==dt||Ae==="value")&&i(W,Ae,dt,pt,j,D)}}q&1&&w.children!==R.children&&h(W,R.children)}else!X&&H==null&&b(W,J,re,D,j);((ie=re.onVnodeUpdated)||se)&&Ct(()=>{ie&&dn(ie,D,R,w),se&&Wr(R,w,D,"updated")},U)},I=(w,R,D,U,j,L,X)=>{for(let W=0;W<R.length;W++){const q=w[W],H=R[W],se=q.el&&(q.type===Bt||!Jr(q,H)||q.shapeFlag&198)?d(q.el):D;P(q,H,se,null,U,j,L,X,!0)}},b=(w,R,D,U,j)=>{if(R!==D){if(R!==ke)for(const L in R)!Fi(L)&&!(L in D)&&i(w,L,R[L],null,j,U);for(const L in D){if(Fi(L))continue;const X=D[L],W=R[L];X!==W&&L!=="value"&&i(w,L,W,X,j,U)}"value"in D&&i(w,"value",R.value,D.value,j)}},A=(w,R,D,U,j,L,X,W,q)=>{const H=R.el=w?w.el:c(""),se=R.anchor=w?w.anchor:c("");let{patchFlag:J,dynamicChildren:re,slotScopeIds:ie}=R;ie&&(W=W?W.concat(ie):ie),w==null?(r(H,D,U),r(se,D,U),v(R.children||[],D,se,j,L,X,W,q)):J>0&&J&64&&re&&w.dynamicChildren?(I(w.dynamicChildren,re,D,j,L,X,W),(R.key!=null||j&&R===j.subTree)&&mh(w,R,!0)):me(w,R,D,se,j,L,X,W,q)},E=(w,R,D,U,j,L,X,W,q)=>{R.slotScopeIds=W,w==null?R.shapeFlag&512?j.ctx.activate(R,D,U,X,q):de(R,D,U,j,L,X,q):xe(w,R,q)},de=(w,R,D,U,j,L,X)=>{const W=w.component=PI(w,U,j);if(Ic(w)&&(W.ctx.renderer=te),DI(W,!1,X),W.asyncDep){if(j&&j.registerDep(W,be,X),!w.el){const q=W.subTree=Ye(Et);C(null,q,R,D),w.placeholder=q.el}}else be(W,w,R,D,j,L,X)},xe=(w,R,D)=>{const U=R.component=w.component;if(EI(w,R,D))if(U.asyncDep&&!U.asyncResolved){le(U,R,D);return}else U.next=R,U.update();else R.el=w.el,U.vnode=R},be=(w,R,D,U,j,L,X)=>{const W=()=>{if(w.isMounted){let{next:J,bu:re,u:ie,parent:ge,vnode:Pe}=w;{const Ft=M_(w);if(Ft){J&&(J.el=Pe.el,le(w,J,X)),Ft.asyncDep.then(()=>{w.isUnmounted||W()});return}}let Ae=J,dt;Gr(w,!1),J?(J.el=Pe.el,le(w,J,X)):J=Pe,re&&ma(re),(dt=J.props&&J.props.onVnodeBeforeUpdate)&&dn(dt,ge,J,Pe),Gr(w,!0);const pt=Id(w),Lt=w.subTree;w.subTree=pt,P(Lt,pt,d(Lt.el),M(Lt),w,j,L),J.el=pt.el,Ae===null&&TI(w,pt.el),ie&&Ct(ie,j),(dt=J.props&&J.props.onVnodeUpdated)&&Ct(()=>dn(dt,ge,J,Pe),j)}else{let J;const{el:re,props:ie}=R,{bm:ge,m:Pe,parent:Ae,root:dt,type:pt}=w,Lt=Hi(R);Gr(w,!1),ge&&ma(ge),!Lt&&(J=ie&&ie.onVnodeBeforeMount)&&dn(J,Ae,R),Gr(w,!0);{dt.ce&&dt.ce._def.shadowRoot!==!1&&dt.ce._injectChildStyle(pt);const Ft=w.subTree=Id(w);P(null,Ft,D,U,w,j,L),R.el=Ft.el}if(Pe&&Ct(Pe,j),!Lt&&(J=ie&&ie.onVnodeMounted)){const Ft=R;Ct(()=>dn(J,Ae,Ft),j)}(R.shapeFlag&256||Ae&&Hi(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&w.a&&Ct(w.a,j),w.isMounted=!0,R=D=U=null}};w.scope.on();const q=w.effect=new Lg(W);w.scope.off();const H=w.update=q.run.bind(q),se=w.job=q.runIfDirty.bind(q);se.i=w,se.id=w.uid,q.scheduler=()=>uh(se),Gr(w,!0),H()},le=(w,R,D)=>{R.component=w;const U=w.vnode.props;w.vnode=R,w.next=null,rI(w,R.props,U,D),aI(w,R.children,D),jn(),ud(w),Hn()},me=(w,R,D,U,j,L,X,W,q=!1)=>{const H=w&&w.children,se=w?w.shapeFlag:0,J=R.children,{patchFlag:re,shapeFlag:ie}=R;if(re>0){if(re&128){zt(H,J,D,U,j,L,X,W,q);return}else if(re&256){nt(H,J,D,U,j,L,X,W,q);return}}ie&8?(se&16&&rt(H,j,L),J!==H&&h(D,J)):se&16?ie&16?zt(H,J,D,U,j,L,X,W,q):rt(H,j,L,!0):(se&8&&h(D,""),ie&16&&v(J,D,U,j,L,X,W,q))},nt=(w,R,D,U,j,L,X,W,q)=>{w=w||Ls,R=R||Ls;const H=w.length,se=R.length,J=Math.min(H,se);let re;for(re=0;re<J;re++){const ie=R[re]=q?ur(R[re]):_n(R[re]);P(w[re],ie,D,null,j,L,X,W,q)}H>se?rt(w,j,L,!0,!1,J):v(R,D,U,j,L,X,W,q,J)},zt=(w,R,D,U,j,L,X,W,q)=>{let H=0;const se=R.length;let J=w.length-1,re=se-1;for(;H<=J&&H<=re;){const ie=w[H],ge=R[H]=q?ur(R[H]):_n(R[H]);if(Jr(ie,ge))P(ie,ge,D,null,j,L,X,W,q);else break;H++}for(;H<=J&&H<=re;){const ie=w[J],ge=R[re]=q?ur(R[re]):_n(R[re]);if(Jr(ie,ge))P(ie,ge,D,null,j,L,X,W,q);else break;J--,re--}if(H>J){if(H<=re){const ie=re+1,ge=ie<se?R[ie].el:U;for(;H<=re;)P(null,R[H]=q?ur(R[H]):_n(R[H]),D,ge,j,L,X,W,q),H++}}else if(H>re)for(;H<=J;)Fe(w[H],j,L,!0),H++;else{const ie=H,ge=H,Pe=new Map;for(H=ge;H<=re;H++){const at=R[H]=q?ur(R[H]):_n(R[H]);at.key!=null&&Pe.set(at.key,H)}let Ae,dt=0;const pt=re-ge+1;let Lt=!1,Ft=0;const nn=new Array(pt);for(H=0;H<pt;H++)nn[H]=0;for(H=ie;H<=J;H++){const at=w[H];if(dt>=pt){Fe(at,j,L,!0);continue}let st;if(at.key!=null)st=Pe.get(at.key);else for(Ae=ge;Ae<=re;Ae++)if(nn[Ae-ge]===0&&Jr(at,R[Ae])){st=Ae;break}st===void 0?Fe(at,j,L,!0):(nn[st-ge]=H+1,st>=Ft?Ft=st:Lt=!0,P(at,R[st],D,null,j,L,X,W,q),dt++)}const Es=Lt?hI(nn):Ls;for(Ae=Es.length-1,H=pt-1;H>=0;H--){const at=ge+H,st=R[at],li=R[at+1],Br=at+1<se?li.el||li.placeholder:U;nn[H]===0?P(null,st,D,Br,j,L,X,W,q):Lt&&(Ae<0||H!==Es[Ae]?At(st,D,Br,2):Ae--)}}},At=(w,R,D,U,j=null)=>{const{el:L,type:X,transition:W,children:q,shapeFlag:H}=w;if(H&6){At(w.component.subTree,R,D,U);return}if(H&128){w.suspense.move(R,D,U);return}if(H&64){X.move(w,R,D,te);return}if(X===Bt){r(L,R,D);for(let J=0;J<q.length;J++)At(q[J],R,D,U);r(w.anchor,R,D);return}if(X===Dl){x(w,R,D);return}if(U!==2&&H&1&&W)if(U===0)W.beforeEnter(L),r(L,R,D),Ct(()=>W.enter(L),j);else{const{leave:J,delayLeave:re,afterLeave:ie}=W,ge=()=>{w.ctx.isUnmounted?s(L):r(L,R,D)},Pe=()=>{L._isLeaving&&L[Vn](!0),J(L,()=>{ge(),ie&&ie()})};re?re(L,ge,Pe):Pe()}else r(L,R,D)},Fe=(w,R,D,U=!1,j=!1)=>{const{type:L,props:X,ref:W,children:q,dynamicChildren:H,shapeFlag:se,patchFlag:J,dirs:re,cacheIndex:ie}=w;if(J===-2&&(j=!1),W!=null&&(jn(),ji(W,null,D,w,!0),Hn()),ie!=null&&(R.renderCache[ie]=void 0),se&256){R.ctx.deactivate(w);return}const ge=se&1&&re,Pe=!Hi(w);let Ae;if(Pe&&(Ae=X&&X.onVnodeBeforeUnmount)&&dn(Ae,R,w),se&6)bt(w.component,D,U);else{if(se&128){w.suspense.unmount(D,U);return}ge&&Wr(w,null,R,"beforeUnmount"),se&64?w.type.remove(w,R,D,te,U):H&&!H.hasOnce&&(L!==Bt||J>0&&J&64)?rt(H,R,D,!1,!0):(L===Bt&&J&384||!j&&se&16)&&rt(q,R,D),U&&xt(w)}(Pe&&(Ae=X&&X.onVnodeUnmounted)||ge)&&Ct(()=>{Ae&&dn(Ae,R,w),ge&&Wr(w,null,R,"unmounted")},D)},xt=w=>{const{type:R,el:D,anchor:U,transition:j}=w;if(R===Bt){Mt(D,U);return}if(R===Dl){B(w);return}const L=()=>{s(D),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(w.shapeFlag&1&&j&&!j.persisted){const{leave:X,delayLeave:W}=j,q=()=>X(D,L);W?W(w.el,L,q):q()}else L()},Mt=(w,R)=>{let D;for(;w!==R;)D=m(w),s(w),w=D;s(R)},bt=(w,R,D)=>{const{bum:U,scope:j,job:L,subTree:X,um:W,m:q,a:H}=w;wd(q),wd(H),U&&ma(U),j.stop(),L&&(L.flags|=8,Fe(X,w,R,D)),W&&Ct(W,R),Ct(()=>{w.isUnmounted=!0},R)},rt=(w,R,D,U=!1,j=!1,L=0)=>{for(let X=L;X<w.length;X++)Fe(w[X],R,D,U,j)},M=w=>{if(w.shapeFlag&6)return M(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const R=m(w.anchor||w.el),D=R&&R[c_];return D?m(D):R};let Q=!1;const Y=(w,R,D)=>{w==null?R._vnode&&Fe(R._vnode,null,null,!0):P(R._vnode||null,w,R,null,null,null,D),R._vnode=w,Q||(Q=!0,ud(),s_(),Q=!1)},te={p:P,um:Fe,m:At,r:xt,mt:de,mc:v,pc:me,pbc:I,n:M,o:t};return{render:Y,hydrate:void 0,createApp:eI(Y)}}function Pl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Gr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function uI(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function mh(t,e,n=!1){const r=t.children,s=e.children;if(ce(r)&&ce(s))for(let i=0;i<r.length;i++){const o=r[i];let c=s[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[i]=ur(s[i]),c.el=o.el),!n&&c.patchFlag!==-2&&mh(o,c)),c.type===Cc&&c.patchFlag!==-1&&(c.el=o.el),c.type===Et&&!c.el&&(c.el=o.el)}}function hI(t){const e=t.slice(),n=[0];let r,s,i,o,c;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)c=i+o>>1,t[n[c]]<u?i=c+1:o=c;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function M_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:M_(e)}function wd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const fI=Symbol.for("v-scx"),dI=()=>We(fI);function Rc(t,e){return gh(t,null,e)}function Jt(t,e,n){return gh(t,e,n)}function gh(t,e,n=ke){const{immediate:r,deep:s,flush:i,once:o}=n,c=tt({},n),l=e&&r||!e&&i!=="post";let u;if(ao){if(i==="sync"){const g=dI();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=yn,g.resume=yn,g.pause=yn,g}}const h=Tt;c.call=(g,S,P)=>an(g,h,S,P);let d=!1;i==="post"?c.scheduler=g=>{Ct(g,h&&h.suspense)}:i!=="sync"&&(d=!0,c.scheduler=(g,S)=>{S?g():uh(g)}),c.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const m=kw(t,e,c);return ao&&(u?u.push(m):l&&m()),m}function pI(t,e,n){const r=this.proxy,s=Ue(t)?t.includes(".")?L_(r,t):()=>r[t]:t.bind(r,r);let i;ue(e)?i=e:(i=e.handler,n=e);const o=So(this),c=gh(s,i.bind(r),n);return o(),c}function L_(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const mI=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Gt(e)}Modifiers`]||t[`${ds(e)}Modifiers`];function gI(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ke;let s=n;const i=e.startsWith("update:"),o=i&&mI(r,e.slice(7));o&&(o.trim&&(s=n.map(h=>Ue(h)?h.trim():h)),o.number&&(s=n.map(eh)));let c,l=r[c=wl(e)]||r[c=wl(Gt(e))];!l&&i&&(l=r[c=wl(ds(e))]),l&&an(l,t,6,s);const u=r[c+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,an(u,t,6,s)}}const _I=new WeakMap;function F_(t,e,n=!1){const r=n?_I:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},c=!1;if(!ue(t)){const l=u=>{const h=F_(u,e,!0);h&&(c=!0,tt(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!c?(Ne(t)&&r.set(t,null),null):(ce(i)?i.forEach(l=>o[l]=null):tt(o,i),Ne(t)&&r.set(t,o),o)}function Sc(t,e){return!t||!dc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Se(t,e[0].toLowerCase()+e.slice(1))||Se(t,ds(e))||Se(t,e))}function Id(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:c,emit:l,render:u,renderCache:h,props:d,data:m,setupState:g,ctx:S,inheritAttrs:P}=t,k=Va(t);let C,O;try{if(n.shapeFlag&4){const B=s||r,G=B;C=_n(u.call(G,B,h,d,g,m,S)),O=c}else{const B=e;C=_n(B.length>1?B(d,{attrs:c,slots:o,emit:l}):B(d,null)),O=e.props?c:yI(c)}}catch(B){Wi.length=0,Ec(B,t,1),C=Ye(Et)}let x=C;if(O&&P!==!1){const B=Object.keys(O),{shapeFlag:G}=x;B.length&&G&7&&(i&&B.some(Xu)&&(O=vI(O,i)),x=Rr(x,O,!1,!0))}return n.dirs&&(x=Rr(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&os(x,n.transition),C=x,Va(k),C}const yI=t=>{let e;for(const n in t)(n==="class"||n==="style"||dc(n))&&((e||(e={}))[n]=t[n]);return e},vI=(t,e)=>{const n={};for(const r in t)(!Xu(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function EI(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:c,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Ad(r,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let d=0;d<h.length;d++){const m=h[d];if(o[m]!==r[m]&&!Sc(u,m))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?Ad(r,o,u):!0:!!o;return!1}function Ad(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Sc(n,i))return!0}return!1}function TI({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const U_=t=>t.__isSuspense;function wI(t,e){e&&e.pendingBranch?ce(t)?e.effects.push(...t):e.effects.push(t):Vw(t)}const Bt=Symbol.for("v-fgt"),Cc=Symbol.for("v-txt"),Et=Symbol.for("v-cmt"),Dl=Symbol.for("v-stc"),Wi=[];let qt=null;function B_(t=!1){Wi.push(qt=t?null:[])}function II(){Wi.pop(),qt=Wi[Wi.length-1]||null}let io=1;function La(t,e=!1){io+=t,t<0&&qt&&e&&(qt.hasOnce=!0)}function $_(t){return t.dynamicChildren=io>0?qt||Ls:null,II(),io>0&&qt&&qt.push(t),t}function VO(t,e,n,r,s,i){return $_(gr(t,e,n,r,s,i,!0))}function j_(t,e,n,r,s){return $_(Ye(t,e,n,r,s,!0))}function oo(t){return t?t.__v_isVNode===!0:!1}function Jr(t,e){return t.type===e.type&&t.key===e.key}const H_=({key:t})=>t??null,_a=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ue(t)||qe(t)||ue(t)?{i:Ht,r:t,k:e,f:!!n}:t:null);function gr(t,e=null,n=null,r=0,s=null,i=t===Bt?0:1,o=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&H_(e),ref:e&&_a(e),scopeId:o_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ht};return c?(_h(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Ue(n)?8:16),io>0&&!o&&qt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&qt.push(l),l}const Ye=AI;function AI(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Gw)&&(t=Et),oo(t)){const c=Rr(t,e,!0);return n&&_h(c,n),io>0&&!i&&qt&&(c.shapeFlag&6?qt[qt.indexOf(t)]=c:qt.push(c)),c.patchFlag=-2,c}if(xI(t)&&(t=t.__vccOpts),e){e=bI(e);let{class:c,style:l}=e;c&&!Ue(c)&&(e.class=bo(c)),Ne(l)&&(ch(l)&&!ce(l)&&(l=tt({},l)),e.style=_c(l))}const o=Ue(t)?1:U_(t)?128:l_(t)?64:Ne(t)?4:ue(t)?2:0;return gr(t,e,n,r,s,o,i,!0)}function bI(t){return t?ch(t)||D_(t)?tt({},t):t:null}function Rr(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:c,transition:l}=t,u=e?q_(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&H_(u),ref:e&&e.ref?n&&i?ce(i)?i.concat(_a(e)):[i,_a(e)]:_a(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Bt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Rr(t.ssContent),ssFallback:t.ssFallback&&Rr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&os(h,l.clone(h)),h}function RI(t=" ",e=0){return Ye(Cc,null,t,e)}function xO(t="",e=!1){return e?(B_(),j_(Et,null,t)):Ye(Et,null,t)}function _n(t){return t==null||typeof t=="boolean"?Ye(Et):ce(t)?Ye(Bt,null,t.slice()):oo(t)?ur(t):Ye(Cc,null,String(t))}function ur(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Rr(t)}function _h(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ce(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),_h(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!D_(e)?e._ctx=Ht:s===3&&Ht&&(Ht.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ue(e)?(e={default:e,_ctx:Ht},n=32):(e=String(e),r&64?(n=16,e=[RI(e)]):n=8);t.children=e,t.shapeFlag|=n}function q_(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=bo([e.class,r.class]));else if(s==="style")e.style=_c([e.style,r.style]);else if(dc(s)){const i=e[s],o=r[s];o&&i!==o&&!(ce(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function dn(t,e,n,r=null){an(t,e,7,[n,r])}const SI=S_();let CI=0;function PI(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||SI,i={uid:CI++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Mg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:N_(r,s),emitsOptions:F_(r,s),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:r.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=gI.bind(null,i),t.ce&&t.ce(i),i}let Tt=null;const ni=()=>Tt||Ht;let Fa,uu;{const t=gc(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Fa=e("__VUE_INSTANCE_SETTERS__",n=>Tt=n),uu=e("__VUE_SSR_SETTERS__",n=>ao=n)}const So=t=>{const e=Tt;return Fa(t),t.scope.on(),()=>{t.scope.off(),Fa(e)}},bd=()=>{Tt&&Tt.scope.off(),Fa(null)};function W_(t){return t.vnode.shapeFlag&4}let ao=!1;function DI(t,e=!1,n=!1){e&&uu(e);const{props:r,children:s}=t.vnode,i=W_(t);nI(t,r,i,e),oI(t,s,n||e);const o=i?kI(t,e):void 0;return e&&uu(!1),o}function kI(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,zw);const{setup:r}=n;if(r){jn();const s=t.setupContext=r.length>1?OI(t):null,i=So(t),o=Ro(r,t,0,[t.props,s]),c=Pg(o);if(Hn(),i(),(c||t.sp)&&!Hi(t)&&__(t),c){if(o.then(bd,bd),e)return o.then(l=>{Rd(t,l)}).catch(l=>{Ec(l,t,0)});t.asyncDep=o}else Rd(t,o)}else G_(t)}function Rd(t,e,n){ue(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ne(e)&&(t.setupState=Zg(e)),G_(t)}function G_(t,e,n){const r=t.type;t.render||(t.render=r.render||yn);{const s=So(t);jn();try{Kw(t)}finally{Hn(),s()}}}const NI={get(t,e){return yt(t,"get",""),t[e]}};function OI(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,NI),slots:t.slots,emit:t.emit,expose:e}}function Pc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Zg(lh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in qi)return qi[n](t)},has(e,n){return n in e||n in qi}})):t.proxy}function VI(t,e=!0){return ue(t)?t.displayName||t.name:t.name||e&&t.__name}function xI(t){return ue(t)&&"__vccOpts"in t}const we=(t,e)=>Pw(t,e,ao);function Dc(t,e,n){try{La(-1);const r=arguments.length;return r===2?Ne(e)&&!ce(e)?oo(e)?Ye(t,null,[e]):Ye(t,e):Ye(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&oo(n)&&(n=[n]),Ye(t,e,n))}finally{La(1)}}const MI="3.5.24";let hu;const Sd=typeof window<"u"&&window.trustedTypes;if(Sd)try{hu=Sd.createPolicy("vue",{createHTML:t=>t})}catch{}const z_=hu?t=>hu.createHTML(t):t=>t,LI="http://www.w3.org/2000/svg",FI="http://www.w3.org/1998/Math/MathML",On=typeof document<"u"?document:null,Cd=On&&On.createElement("template"),UI={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?On.createElementNS(LI,t):e==="mathml"?On.createElementNS(FI,t):n?On.createElement(t,{is:n}):On.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>On.createTextNode(t),createComment:t=>On.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>On.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Cd.innerHTML=z_(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=Cd.content;if(r==="svg"||r==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},rr="transition",bi="animation",Ws=Symbol("_vtc"),K_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Q_=tt({},d_,K_),BI=t=>(t.displayName="Transition",t.props=Q_,t),MO=BI((t,{slots:e})=>Dc(Lw,Y_(t),e)),zr=(t,e=[])=>{ce(t)?t.forEach(n=>n(...e)):t&&t(...e)},Pd=t=>t?ce(t)?t.some(e=>e.length>1):t.length>1:!1;function Y_(t){const e={};for(const A in t)A in K_||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:h=c,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,S=$I(s),P=S&&S[0],k=S&&S[1],{onBeforeEnter:C,onEnter:O,onEnterCancelled:x,onLeave:B,onLeaveCancelled:G,onBeforeAppear:z=C,onAppear:T=O,onAppearCancelled:v=x}=e,_=(A,E,de,xe)=>{A._enterCancelled=xe,ar(A,E?h:c),ar(A,E?u:o),de&&de()},I=(A,E)=>{A._isLeaving=!1,ar(A,d),ar(A,g),ar(A,m),E&&E()},b=A=>(E,de)=>{const xe=A?T:O,be=()=>_(E,A,de);zr(xe,[E,be]),Dd(()=>{ar(E,A?l:i),pn(E,A?h:c),Pd(xe)||kd(E,r,P,be)})};return tt(e,{onBeforeEnter(A){zr(C,[A]),pn(A,i),pn(A,o)},onBeforeAppear(A){zr(z,[A]),pn(A,l),pn(A,u)},onEnter:b(!1),onAppear:b(!0),onLeave(A,E){A._isLeaving=!0;const de=()=>I(A,E);pn(A,d),A._enterCancelled?(pn(A,m),fu(A)):(fu(A),pn(A,m)),Dd(()=>{A._isLeaving&&(ar(A,d),pn(A,g),Pd(B)||kd(A,r,k,de))}),zr(B,[A,de])},onEnterCancelled(A){_(A,!1,void 0,!0),zr(x,[A])},onAppearCancelled(A){_(A,!0,void 0,!0),zr(v,[A])},onLeaveCancelled(A){I(A),zr(G,[A])}})}function $I(t){if(t==null)return null;if(Ne(t))return[kl(t.enter),kl(t.leave)];{const e=kl(t);return[e,e]}}function kl(t){return YT(t)}function pn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ws]||(t[Ws]=new Set)).add(e)}function ar(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ws];n&&(n.delete(e),n.size||(t[Ws]=void 0))}function Dd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let jI=0;function kd(t,e,n,r){const s=t._endId=++jI,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:c,propCount:l}=X_(t,e);if(!o)return r();const u=o+"end";let h=0;const d=()=>{t.removeEventListener(u,m),i()},m=g=>{g.target===t&&++h>=l&&d()};setTimeout(()=>{h<l&&d()},c+1),t.addEventListener(u,m)}function X_(t,e){const n=window.getComputedStyle(t),r=S=>(n[S]||"").split(", "),s=r(`${rr}Delay`),i=r(`${rr}Duration`),o=Nd(s,i),c=r(`${bi}Delay`),l=r(`${bi}Duration`),u=Nd(c,l);let h=null,d=0,m=0;e===rr?o>0&&(h=rr,d=o,m=i.length):e===bi?u>0&&(h=bi,d=u,m=l.length):(d=Math.max(o,u),h=d>0?o>u?rr:bi:null,m=h?h===rr?i.length:l.length:0);const g=h===rr&&/\b(?:transform|all)(?:,|$)/.test(r(`${rr}Property`).toString());return{type:h,timeout:d,propCount:m,hasTransform:g}}function Nd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Od(n)+Od(t[r])))}function Od(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function fu(t){return(t?t.ownerDocument:document).body.offsetHeight}function HI(t,e,n){const r=t[Ws];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ua=Symbol("_vod"),J_=Symbol("_vsh"),LO={name:"show",beforeMount(t,{value:e},{transition:n}){t[Ua]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ri(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Ri(t,!0),r.enter(t)):r.leave(t,()=>{Ri(t,!1)}):Ri(t,e))},beforeUnmount(t,{value:e}){Ri(t,e)}};function Ri(t,e){t.style.display=e?t[Ua]:"none",t[J_]=!e}const qI=Symbol(""),WI=/(?:^|;)\s*display\s*:/;function GI(t,e,n){const r=t.style,s=Ue(n);let i=!1;if(n&&!s){if(e)if(Ue(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&ya(r,c,"")}else for(const o in e)n[o]==null&&ya(r,o,"");for(const o in n)o==="display"&&(i=!0),ya(r,o,n[o])}else if(s){if(e!==n){const o=r[qI];o&&(n+=";"+o),r.cssText=n,i=WI.test(n)}}else e&&t.removeAttribute("style");Ua in t&&(t[Ua]=i?r.display:"",t[J_]&&(r.display="none"))}const Vd=/\s*!important$/;function ya(t,e,n){if(ce(n))n.forEach(r=>ya(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=zI(t,e);Vd.test(n)?t.setProperty(ds(r),n.replace(Vd,""),"important"):t[r]=n}}const xd=["Webkit","Moz","ms"],Nl={};function zI(t,e){const n=Nl[e];if(n)return n;let r=Gt(e);if(r!=="filter"&&r in t)return Nl[e]=r;r=Ao(r);for(let s=0;s<xd.length;s++){const i=xd[s]+r;if(i in t)return Nl[e]=i}return e}const Md="http://www.w3.org/1999/xlink";function Ld(t,e,n,r,s,i=nw(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Md,e.slice(6,e.length)):t.setAttributeNS(Md,e,n):n==null||i&&!Og(n)?t.removeAttribute(e):t.setAttribute(e,i?"":xr(n)?String(n):n)}function Fd(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?z_(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(c!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Og(n):n==null&&c==="string"?(n="",o=!0):c==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Ds(t,e,n,r){t.addEventListener(e,n,r)}function KI(t,e,n,r){t.removeEventListener(e,n,r)}const Ud=Symbol("_vei");function QI(t,e,n,r,s=null){const i=t[Ud]||(t[Ud]={}),o=i[e];if(r&&o)o.value=r;else{const[c,l]=YI(e);if(r){const u=i[e]=ZI(r,s);Ds(t,c,u,l)}else o&&(KI(t,c,o,l),i[e]=void 0)}}const Bd=/(?:Once|Passive|Capture)$/;function YI(t){let e;if(Bd.test(t)){e={};let r;for(;r=t.match(Bd);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ds(t.slice(2)),e]}let Ol=0;const XI=Promise.resolve(),JI=()=>Ol||(XI.then(()=>Ol=0),Ol=Date.now());function ZI(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;an(eA(r,n.value),e,5,[r])};return n.value=t,n.attached=JI(),n}function eA(t,e){if(ce(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const $d=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,tA=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?HI(t,r,o):e==="style"?GI(t,n,r):dc(e)?Xu(e)||QI(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nA(t,e,r,o))?(Fd(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ld(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ue(r))?Fd(t,Gt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ld(t,e,r,o))};function nA(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&$d(e)&&ue(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return $d(e)&&Ue(n)?!1:e in t}const Z_=new WeakMap,ey=new WeakMap,Ba=Symbol("_moveCb"),jd=Symbol("_enterCb"),rA=t=>(delete t.props.mode,t),sA=rA({name:"TransitionGroup",props:tt({},Q_,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ni(),r=f_();let s,i;return T_(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!cA(s[0].el,n.vnode.el,o)){s=[];return}s.forEach(iA),s.forEach(oA);const c=s.filter(aA);fu(n.vnode.el),c.forEach(l=>{const u=l.el,h=u.style;pn(u,o),h.transform=h.webkitTransform=h.transitionDuration="";const d=u[Ba]=m=>{m&&m.target!==u||(!m||m.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",d),u[Ba]=null,ar(u,o))};u.addEventListener("transitionend",d)}),s=[]}),()=>{const o=Te(t),c=Y_(o);let l=o.tag||Bt;if(s=[],i)for(let u=0;u<i.length;u++){const h=i[u];h.el&&h.el instanceof Element&&(s.push(h),os(h,so(h,c,r,n)),Z_.set(h,{left:h.el.offsetLeft,top:h.el.offsetTop}))}i=e.default?hh(e.default()):[];for(let u=0;u<i.length;u++){const h=i[u];h.key!=null&&os(h,so(h,c,r,n))}return Ye(l,null,i)}}}),FO=sA;function iA(t){const e=t.el;e[Ba]&&e[Ba](),e[jd]&&e[jd]()}function oA(t){ey.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop})}function aA(t){const e=Z_.get(t),n=ey.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function cA(t,e,n){const r=t.cloneNode(),s=t[Ws];s&&s.forEach(c=>{c.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(c=>c&&r.classList.add(c)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=X_(r);return i.removeChild(r),o}const Hd=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ce(e)?n=>ma(e,n):e};function lA(t){t.target.composing=!0}function qd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vl=Symbol("_assign");function Wd(t,e,n){return e&&(t=t.trim()),n&&(t=eh(t)),t}const UO={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Vl]=Hd(s);const i=r||s.props&&s.props.type==="number";Ds(t,e?"change":"input",o=>{o.target.composing||t[Vl](Wd(t.value,n,i))}),(n||i)&&Ds(t,"change",()=>{t.value=Wd(t.value,n,i)}),e||(Ds(t,"compositionstart",lA),Ds(t,"compositionend",qd),Ds(t,"change",qd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[Vl]=Hd(o),t.composing)return;const c=(i||t.type==="number")&&!/^0\d/.test(t.value)?eh(t.value):t.value,l=e??"";c!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},uA=["ctrl","shift","alt","meta"],hA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>uA.some(n=>t[`${n}Key`]&&!e.includes(n))},BO=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const c=hA[e[o]];if(c&&c(s,e))return}return t(s,...i)}))},fA=tt({patchProp:tA},UI);let Gd;function dA(){return Gd||(Gd=cI(fA))}const pA=((...t)=>{const e=dA().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=gA(r);if(!s)return;const i=e._component;!ue(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,mA(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function mA(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function gA(t){return Ue(t)?document.querySelector(t):t}let ty;const kc=t=>ty=t,ny=Symbol();function du(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Gi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Gi||(Gi={}));function _A(){const t=eo(!0),e=t.run(()=>tn({}));let n=[],r=[];const s=lh({install(i){kc(s),s._a=i,i.provide(ny,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const ry=()=>{};function zd(t,e,n,r=ry){t.add(e);const s=()=>{t.delete(e)&&r()};return!n&&th()&&yc(s),s}function bs(t,...e){t.forEach(n=>{n(...e)})}const yA=t=>t(),Kd=Symbol(),xl=Symbol();function pu(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];du(s)&&du(r)&&t.hasOwnProperty(n)&&!qe(r)&&!vr(r)?t[n]=pu(s,r):t[n]=r}return t}const vA=Symbol();function EA(t){return!du(t)||!Object.prototype.hasOwnProperty.call(t,vA)}const{assign:cr}=Object;function TA(t){return!!(qe(t)&&t.effect)}function wA(t,e,n,r){const{state:s,actions:i,getters:o}=e,c=n.state.value[t];let l;function u(){c||(n.state.value[t]=s?s():{});const h=e_(n.state.value[t]);return cr(h,i,Object.keys(o||{}).reduce((d,m)=>(d[m]=lh(we(()=>{kc(n);const g=n._s.get(t);return o[m].call(g,g)})),d),{}))}return l=sy(t,u,e,n,r,!0),l}function sy(t,e,n={},r,s,i){let o;const c=cr({actions:{}},n),l={deep:!0};let u,h,d=new Set,m=new Set,g;const S=r.state.value[t];!i&&!S&&(r.state.value[t]={}),tn({});let P;function k(v){let _;u=h=!1,typeof v=="function"?(v(r.state.value[t]),_={type:Gi.patchFunction,storeId:t,events:g}):(pu(r.state.value[t],v),_={type:Gi.patchObject,payload:v,storeId:t,events:g});const I=P=Symbol();Tc().then(()=>{P===I&&(u=!0)}),h=!0,bs(d,_,r.state.value[t])}const C=i?function(){const{state:_}=n,I=_?_():{};this.$patch(b=>{cr(b,I)})}:ry;function O(){o.stop(),d.clear(),m.clear(),r._s.delete(t)}const x=(v,_="")=>{if(Kd in v)return v[xl]=_,v;const I=function(){kc(r);const b=Array.from(arguments),A=new Set,E=new Set;function de(le){A.add(le)}function xe(le){E.add(le)}bs(m,{args:b,name:I[xl],store:G,after:de,onError:xe});let be;try{be=v.apply(this&&this.$id===t?this:G,b)}catch(le){throw bs(E,le),le}return be instanceof Promise?be.then(le=>(bs(A,le),le)).catch(le=>(bs(E,le),Promise.reject(le))):(bs(A,be),be)};return I[Kd]=!0,I[xl]=_,I},B={_p:r,$id:t,$onAction:zd.bind(null,m),$patch:k,$reset:C,$subscribe(v,_={}){const I=zd(d,v,_.detached,()=>b()),b=o.run(()=>Jt(()=>r.state.value[t],A=>{(_.flush==="sync"?h:u)&&v({storeId:t,type:Gi.direct,events:g},A)},cr({},l,_)));return I},$dispose:O},G=Ot(B);r._s.set(t,G);const T=(r._a&&r._a.runWithContext||yA)(()=>r._e.run(()=>(o=eo()).run(()=>e({action:x}))));for(const v in T){const _=T[v];if(qe(_)&&!TA(_)||vr(_))i||(S&&EA(_)&&(qe(_)?_.value=S[v]:pu(_,S[v])),r.state.value[t][v]=_);else if(typeof _=="function"){const I=x(_,v);T[v]=I,c.actions[v]=_}}return cr(G,T),cr(Te(G),T),Object.defineProperty(G,"$state",{get:()=>r.state.value[t],set:v=>{k(_=>{cr(_,v)})}}),r._p.forEach(v=>{cr(G,o.run(()=>v({store:G,app:r._a,pinia:r,options:c})))}),S&&i&&n.hydrate&&n.hydrate(G.$state,S),u=!0,h=!0,G}function IA(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,c){const l=tI();return o=o||(l?We(ny,null):null),o&&kc(o),o=ty,o._s.has(t)||(s?sy(t,e,r,o):wA(t,r,o)),o._s.get(t)}return i.$id=t,i}const ks=typeof document<"u";function iy(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function AA(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&iy(t.default)}const Re=Object.assign;function Ml(t,e){const n={};for(const r in e){const s=e[r];n[r]=cn(s)?s.map(t):t(s)}return n}const zi=()=>{},cn=Array.isArray;function Qd(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const oy=/#/g,bA=/&/g,RA=/\//g,SA=/=/g,CA=/\?/g,ay=/\+/g,PA=/%5B/g,DA=/%5D/g,cy=/%5E/g,kA=/%60/g,ly=/%7B/g,NA=/%7C/g,uy=/%7D/g,OA=/%20/g;function yh(t){return t==null?"":encodeURI(""+t).replace(NA,"|").replace(PA,"[").replace(DA,"]")}function VA(t){return yh(t).replace(ly,"{").replace(uy,"}").replace(cy,"^")}function mu(t){return yh(t).replace(ay,"%2B").replace(OA,"+").replace(oy,"%23").replace(bA,"%26").replace(kA,"`").replace(ly,"{").replace(uy,"}").replace(cy,"^")}function xA(t){return mu(t).replace(SA,"%3D")}function MA(t){return yh(t).replace(oy,"%23").replace(CA,"%3F")}function LA(t){return MA(t).replace(RA,"%2F")}function co(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const FA=/\/$/,UA=t=>t.replace(FA,"");function Ll(t,e,n="/"){let r,s={},i="",o="";const c=e.indexOf("#");let l=e.indexOf("?");return l=c>=0&&l>c?-1:l,l>=0&&(r=e.slice(0,l),i=e.slice(l,c>0?c:e.length),s=t(i.slice(1))),c>=0&&(r=r||e.slice(0,c),o=e.slice(c,e.length)),r=HA(r??e,n),{fullPath:r+i+o,path:r,query:s,hash:co(o)}}function BA(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Yd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function $A(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Gs(e.matched[r],n.matched[s])&&hy(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Gs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function hy(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!jA(t[n],e[n]))return!1;return!0}function jA(t,e){return cn(t)?Xd(t,e):cn(e)?Xd(e,t):t===e}function Xd(t,e){return cn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function HA(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,c;for(o=0;o<r.length;o++)if(c=r[o],c!==".")if(c==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const sr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let gu=(function(t){return t.pop="pop",t.push="push",t})({}),Fl=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function qA(t){if(!t)if(ks){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),UA(t)}const WA=/^[^#]+#/;function GA(t,e){return t.replace(WA,"#")+e}function zA(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Nc=()=>({left:window.scrollX,top:window.scrollY});function KA(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=zA(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Jd(t,e){return(history.state?history.state.position-e:-1)+t}const _u=new Map;function QA(t,e){_u.set(t,e)}function YA(t){const e=_u.get(t);return _u.delete(t),e}function XA(t){return typeof t=="string"||t&&typeof t=="object"}function fy(t){return typeof t=="string"||typeof t=="symbol"}let je=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const dy=Symbol("");je.MATCHER_NOT_FOUND+"",je.NAVIGATION_GUARD_REDIRECT+"",je.NAVIGATION_ABORTED+"",je.NAVIGATION_CANCELLED+"",je.NAVIGATION_DUPLICATED+"";function zs(t,e){return Re(new Error,{type:t,[dy]:!0},e)}function kn(t,e){return t instanceof Error&&dy in t&&(e==null||!!(t.type&e))}const JA=["params","query","hash"];function ZA(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of JA)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function eb(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(ay," "),i=s.indexOf("="),o=co(i<0?s:s.slice(0,i)),c=i<0?null:co(s.slice(i+1));if(o in e){let l=e[o];cn(l)||(l=e[o]=[l]),l.push(c)}else e[o]=c}return e}function Zd(t){let e="";for(let n in t){const r=t[n];if(n=xA(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(cn(r)?r.map(s=>s&&mu(s)):[r&&mu(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function tb(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=cn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const nb=Symbol(""),ep=Symbol(""),Oc=Symbol(""),py=Symbol(""),yu=Symbol("");function Si(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function hr(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((c,l)=>{const u=m=>{m===!1?l(zs(je.NAVIGATION_ABORTED,{from:n,to:e})):m instanceof Error?l(m):XA(m)?l(zs(je.NAVIGATION_GUARD_REDIRECT,{from:e,to:m})):(o&&r.enterCallbacks[s]===o&&typeof m=="function"&&o.push(m),c())},h=i(()=>t.call(r&&r.instances[s],e,n,u));let d=Promise.resolve(h);t.length<3&&(d=d.then(u)),d.catch(m=>l(m))})}function Ul(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const c in o.components){let l=o.components[c];if(!(e!=="beforeRouteEnter"&&!o.instances[c]))if(iy(l)){const u=(l.__vccOpts||l)[e];u&&i.push(hr(u,n,r,o,c,s))}else{let u=l();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${c}" at "${o.path}"`);const d=AA(h)?h.default:h;o.mods[c]=h,o.components[c]=d;const m=(d.__vccOpts||d)[e];return m&&hr(m,n,r,o,c,s)()}))}}return i}function rb(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const c=e.matched[o];c&&(t.matched.find(u=>Gs(u,c))?r.push(c):n.push(c));const l=t.matched[o];l&&(e.matched.find(u=>Gs(u,l))||s.push(l))}return[n,r,s]}let sb=()=>location.protocol+"//"+location.host;function my(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(o);return c[0]!=="/"&&(c="/"+c),Yd(c,"")}return Yd(n,t)+r+s}function ib(t,e,n,r){let s=[],i=[],o=null;const c=({state:m})=>{const g=my(t,location),S=n.value,P=e.value;let k=0;if(m){if(n.value=g,e.value=m,o&&o===S){o=null;return}k=P?m.position-P.position:0}else r(g);s.forEach(C=>{C(n.value,S,{delta:k,type:gu.pop,direction:k?k>0?Fl.forward:Fl.back:Fl.unknown})})};function l(){o=n.value}function u(m){s.push(m);const g=()=>{const S=s.indexOf(m);S>-1&&s.splice(S,1)};return i.push(g),g}function h(){if(document.visibilityState==="hidden"){const{history:m}=window;if(!m.state)return;m.replaceState(Re({},m.state,{scroll:Nc()}),"")}}function d(){for(const m of i)m();i=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",h),document.removeEventListener("visibilitychange",h)}return window.addEventListener("popstate",c),window.addEventListener("pagehide",h),document.addEventListener("visibilitychange",h),{pauseListeners:l,listen:u,destroy:d}}function tp(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Nc():null}}function ob(t){const{history:e,location:n}=window,r={value:my(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,h){const d=t.indexOf("#"),m=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:sb()+t+l;try{e[h?"replaceState":"pushState"](u,"",m),s.value=u}catch(g){console.error(g),n[h?"replace":"assign"](m)}}function o(l,u){i(l,Re({},e.state,tp(s.value.back,l,s.value.forward,!0),u,{position:s.value.position}),!0),r.value=l}function c(l,u){const h=Re({},s.value,e.state,{forward:l,scroll:Nc()});i(h.current,h,!0),i(l,Re({},tp(r.value,l,null),{position:h.position+1},u),!1),r.value=l}return{location:r,state:s,push:c,replace:o}}function ab(t){t=qA(t);const e=ob(t),n=ib(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Re({location:"",base:t,go:r,createHref:GA.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}let Zr=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Ze=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Ze||{});const cb={type:Zr.Static,value:""},lb=/[a-zA-Z0-9_]/;function ub(t){if(!t)return[[]];if(t==="/")return[[cb]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=Ze.Static,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let c=0,l,u="",h="";function d(){u&&(n===Ze.Static?i.push({type:Zr.Static,value:u}):n===Ze.Param||n===Ze.ParamRegExp||n===Ze.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Zr.Param,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function m(){u+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&n!==Ze.ParamRegExp){r=n,n=Ze.EscapeNext;continue}switch(n){case Ze.Static:l==="/"?(u&&d(),o()):l===":"?(d(),n=Ze.Param):m();break;case Ze.EscapeNext:m(),n=r;break;case Ze.Param:l==="("?n=Ze.ParamRegExp:lb.test(l)?m():(d(),n=Ze.Static,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case Ze.ParamRegExp:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=Ze.ParamRegExpEnd:h+=l;break;case Ze.ParamRegExpEnd:d(),n=Ze.Static,l!=="*"&&l!=="?"&&l!=="+"&&c--,h="";break;default:e("Unknown state");break}}return n===Ze.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),s}const np="[^/]+?",hb={sensitive:!1,strict:!1,start:!0,end:!0};var Pt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Pt||{});const fb=/[.+*?^${}()[\]/\\]/g;function db(t,e){const n=Re({},hb,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[Pt.Root];n.strict&&!u.length&&(s+="/");for(let d=0;d<u.length;d++){const m=u[d];let g=Pt.Segment+(n.sensitive?Pt.BonusCaseSensitive:0);if(m.type===Zr.Static)d||(s+="/"),s+=m.value.replace(fb,"\\$&"),g+=Pt.Static;else if(m.type===Zr.Param){const{value:S,repeatable:P,optional:k,regexp:C}=m;i.push({name:S,repeatable:P,optional:k});const O=C||np;if(O!==np){g+=Pt.BonusCustomRegExp;try{`${O}`}catch(B){throw new Error(`Invalid custom RegExp for param "${S}" (${O}): `+B.message)}}let x=P?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;d||(x=k&&u.length<2?`(?:/${x})`:"/"+x),k&&(x+="?"),s+=x,g+=Pt.Dynamic,k&&(g+=Pt.BonusOptional),P&&(g+=Pt.BonusRepeatable),O===".*"&&(g+=Pt.BonusWildcard)}h.push(g)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=Pt.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function c(u){const h=u.match(o),d={};if(!h)return null;for(let m=1;m<h.length;m++){const g=h[m]||"",S=i[m-1];d[S.name]=g&&S.repeatable?g.split("/"):g}return d}function l(u){let h="",d=!1;for(const m of t){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const g of m)if(g.type===Zr.Static)h+=g.value;else if(g.type===Zr.Param){const{value:S,repeatable:P,optional:k}=g,C=S in u?u[S]:"";if(cn(C)&&!P)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const O=cn(C)?C.join("/"):C;if(!O)if(k)m.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${S}"`);h+=O}}return h||"/"}return{re:o,score:r,keys:i,parse:c,stringify:l}}function pb(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===Pt.Static+Pt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Pt.Static+Pt.Segment?1:-1:0}function gy(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=pb(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(rp(r))return 1;if(rp(s))return-1}return s.length-r.length}function rp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const mb={strict:!1,end:!0,sensitive:!1};function gb(t,e,n){const r=db(ub(t.path),n),s=Re(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function _b(t,e){const n=[],r=new Map;e=Qd(mb,e);function s(d){return r.get(d)}function i(d,m,g){const S=!g,P=ip(d);P.aliasOf=g&&g.record;const k=Qd(e,d),C=[P];if("alias"in d){const B=typeof d.alias=="string"?[d.alias]:d.alias;for(const G of B)C.push(ip(Re({},P,{components:g?g.record.components:P.components,path:G,aliasOf:g?g.record:P})))}let O,x;for(const B of C){const{path:G}=B;if(m&&G[0]!=="/"){const z=m.record.path,T=z[z.length-1]==="/"?"":"/";B.path=m.record.path+(G&&T+G)}if(O=gb(B,m,k),g?g.alias.push(O):(x=x||O,x!==O&&x.alias.push(O),S&&d.name&&!op(O)&&o(d.name)),_y(O)&&l(O),P.children){const z=P.children;for(let T=0;T<z.length;T++)i(z[T],O,g&&g.children[T])}g=g||O}return x?()=>{o(x)}:zi}function o(d){if(fy(d)){const m=r.get(d);m&&(r.delete(d),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(d);m>-1&&(n.splice(m,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function c(){return n}function l(d){const m=Eb(d,n);n.splice(m,0,d),d.record.name&&!op(d)&&r.set(d.record.name,d)}function u(d,m){let g,S={},P,k;if("name"in d&&d.name){if(g=r.get(d.name),!g)throw zs(je.MATCHER_NOT_FOUND,{location:d});k=g.record.name,S=Re(sp(m.params,g.keys.filter(x=>!x.optional).concat(g.parent?g.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),d.params&&sp(d.params,g.keys.map(x=>x.name))),P=g.stringify(S)}else if(d.path!=null)P=d.path,g=n.find(x=>x.re.test(P)),g&&(S=g.parse(P),k=g.record.name);else{if(g=m.name?r.get(m.name):n.find(x=>x.re.test(m.path)),!g)throw zs(je.MATCHER_NOT_FOUND,{location:d,currentLocation:m});k=g.record.name,S=Re({},m.params,d.params),P=g.stringify(S)}const C=[];let O=g;for(;O;)C.unshift(O.record),O=O.parent;return{name:k,path:P,params:S,matched:C,meta:vb(C)}}t.forEach(d=>i(d));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:c,getRecordMatcher:s}}function sp(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function ip(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:yb(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function yb(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function op(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function vb(t){return t.reduce((e,n)=>Re(e,n.meta),{})}function Eb(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;gy(t,e[i])<0?r=i:n=i+1}const s=Tb(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function Tb(t){let e=t;for(;e=e.parent;)if(_y(e)&&gy(t,e)===0)return e}function _y({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function ap(t){const e=We(Oc),n=We(py),r=we(()=>{const l=jt(t.to);return e.resolve(l)}),s=we(()=>{const{matched:l}=r.value,{length:u}=l,h=l[u-1],d=n.matched;if(!h||!d.length)return-1;const m=d.findIndex(Gs.bind(null,h));if(m>-1)return m;const g=cp(l[u-2]);return u>1&&cp(h)===g&&d[d.length-1].path!==g?d.findIndex(Gs.bind(null,l[u-2])):m}),i=we(()=>s.value>-1&&Rb(n.params,r.value.params)),o=we(()=>s.value>-1&&s.value===n.matched.length-1&&hy(n.params,r.value.params));function c(l={}){if(bb(l)){const u=e[jt(t.replace)?"replace":"push"](jt(t.to)).catch(zi);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:we(()=>r.value.href),isActive:i,isExactActive:o,navigate:c}}function wb(t){return t.length===1?t[0]:t}const Ib=wc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ap,setup(t,{slots:e}){const n=Ot(ap(t)),{options:r}=We(Oc),s=we(()=>({[lp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[lp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&wb(e.default(n));return t.custom?i:Dc("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Ab=Ib;function bb(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Rb(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!cn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function cp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const lp=(t,e,n)=>t??e??n,Sb=wc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=We(yu),s=we(()=>t.route||r.value),i=We(ep,0),o=we(()=>{let u=jt(i);const{matched:h}=s.value;let d;for(;(d=h[u])&&!d.components;)u++;return u}),c=we(()=>s.value.matched[o.value]);Bn(ep,we(()=>o.value+1)),Bn(nb,c),Bn(yu,s);const l=tn();return Jt(()=>[l.value,c.value,t.name],([u,h,d],[m,g,S])=>{h&&(h.instances[d]=u,g&&g!==h&&u&&u===m&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),u&&h&&(!g||!Gs(h,g)||!m)&&(h.enterCallbacks[d]||[]).forEach(P=>P(u))},{flush:"post"}),()=>{const u=s.value,h=t.name,d=c.value,m=d&&d.components[h];if(!m)return up(n.default,{Component:m,route:u});const g=d.props[h],S=g?g===!0?u.params:typeof g=="function"?g(u):g:null,k=Dc(m,Re({},S,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(d.instances[h]=null)},ref:l}));return up(n.default,{Component:k,route:u})||k}}});function up(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const yy=Sb;function Cb(t){const e=_b(t.routes,t),n=t.parseQuery||eb,r=t.stringifyQuery||Zd,s=t.history,i=Si(),o=Si(),c=Si(),l=Xt(sr);let u=sr;ks&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Ml.bind(null,M=>""+M),d=Ml.bind(null,LA),m=Ml.bind(null,co);function g(M,Q){let Y,te;return fy(M)?(Y=e.getRecordMatcher(M),te=Q):te=M,e.addRoute(te,Y)}function S(M){const Q=e.getRecordMatcher(M);Q&&e.removeRoute(Q)}function P(){return e.getRoutes().map(M=>M.record)}function k(M){return!!e.getRecordMatcher(M)}function C(M,Q){if(Q=Re({},Q||l.value),typeof M=="string"){const D=Ll(n,M,Q.path),U=e.resolve({path:D.path},Q),j=s.createHref(D.fullPath);return Re(D,U,{params:m(U.params),hash:co(D.hash),redirectedFrom:void 0,href:j})}let Y;if(M.path!=null)Y=Re({},M,{path:Ll(n,M.path,Q.path).path});else{const D=Re({},M.params);for(const U in D)D[U]==null&&delete D[U];Y=Re({},M,{params:d(D)}),Q.params=d(Q.params)}const te=e.resolve(Y,Q),_e=M.hash||"";te.params=h(m(te.params));const w=BA(r,Re({},M,{hash:VA(_e),path:te.path})),R=s.createHref(w);return Re({fullPath:w,hash:_e,query:r===Zd?tb(M.query):M.query||{}},te,{redirectedFrom:void 0,href:R})}function O(M){return typeof M=="string"?Ll(n,M,l.value.path):Re({},M)}function x(M,Q){if(u!==M)return zs(je.NAVIGATION_CANCELLED,{from:Q,to:M})}function B(M){return T(M)}function G(M){return B(Re(O(M),{replace:!0}))}function z(M,Q){const Y=M.matched[M.matched.length-1];if(Y&&Y.redirect){const{redirect:te}=Y;let _e=typeof te=="function"?te(M,Q):te;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=O(_e):{path:_e},_e.params={}),Re({query:M.query,hash:M.hash,params:_e.path!=null?{}:M.params},_e)}}function T(M,Q){const Y=u=C(M),te=l.value,_e=M.state,w=M.force,R=M.replace===!0,D=z(Y,te);if(D)return T(Re(O(D),{state:typeof D=="object"?Re({},_e,D.state):_e,force:w,replace:R}),Q||Y);const U=Y;U.redirectedFrom=Q;let j;return!w&&$A(r,te,Y)&&(j=zs(je.NAVIGATION_DUPLICATED,{to:U,from:te}),At(te,te,!0,!1)),(j?Promise.resolve(j):I(U,te)).catch(L=>kn(L)?kn(L,je.NAVIGATION_GUARD_REDIRECT)?L:zt(L):me(L,U,te)).then(L=>{if(L){if(kn(L,je.NAVIGATION_GUARD_REDIRECT))return T(Re({replace:R},O(L.to),{state:typeof L.to=="object"?Re({},_e,L.to.state):_e,force:w}),Q||U)}else L=A(U,te,!0,R,_e);return b(U,te,L),L})}function v(M,Q){const Y=x(M,Q);return Y?Promise.reject(Y):Promise.resolve()}function _(M){const Q=Mt.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(M):M()}function I(M,Q){let Y;const[te,_e,w]=rb(M,Q);Y=Ul(te.reverse(),"beforeRouteLeave",M,Q);for(const D of te)D.leaveGuards.forEach(U=>{Y.push(hr(U,M,Q))});const R=v.bind(null,M,Q);return Y.push(R),rt(Y).then(()=>{Y=[];for(const D of i.list())Y.push(hr(D,M,Q));return Y.push(R),rt(Y)}).then(()=>{Y=Ul(_e,"beforeRouteUpdate",M,Q);for(const D of _e)D.updateGuards.forEach(U=>{Y.push(hr(U,M,Q))});return Y.push(R),rt(Y)}).then(()=>{Y=[];for(const D of w)if(D.beforeEnter)if(cn(D.beforeEnter))for(const U of D.beforeEnter)Y.push(hr(U,M,Q));else Y.push(hr(D.beforeEnter,M,Q));return Y.push(R),rt(Y)}).then(()=>(M.matched.forEach(D=>D.enterCallbacks={}),Y=Ul(w,"beforeRouteEnter",M,Q,_),Y.push(R),rt(Y))).then(()=>{Y=[];for(const D of o.list())Y.push(hr(D,M,Q));return Y.push(R),rt(Y)}).catch(D=>kn(D,je.NAVIGATION_CANCELLED)?D:Promise.reject(D))}function b(M,Q,Y){c.list().forEach(te=>_(()=>te(M,Q,Y)))}function A(M,Q,Y,te,_e){const w=x(M,Q);if(w)return w;const R=Q===sr,D=ks?history.state:{};Y&&(te||R?s.replace(M.fullPath,Re({scroll:R&&D&&D.scroll},_e)):s.push(M.fullPath,_e)),l.value=M,At(M,Q,Y,R),zt()}let E;function de(){E||(E=s.listen((M,Q,Y)=>{if(!bt.listening)return;const te=C(M),_e=z(te,bt.currentRoute.value);if(_e){T(Re(_e,{replace:!0,force:!0}),te).catch(zi);return}u=te;const w=l.value;ks&&QA(Jd(w.fullPath,Y.delta),Nc()),I(te,w).catch(R=>kn(R,je.NAVIGATION_ABORTED|je.NAVIGATION_CANCELLED)?R:kn(R,je.NAVIGATION_GUARD_REDIRECT)?(T(Re(O(R.to),{force:!0}),te).then(D=>{kn(D,je.NAVIGATION_ABORTED|je.NAVIGATION_DUPLICATED)&&!Y.delta&&Y.type===gu.pop&&s.go(-1,!1)}).catch(zi),Promise.reject()):(Y.delta&&s.go(-Y.delta,!1),me(R,te,w))).then(R=>{R=R||A(te,w,!1),R&&(Y.delta&&!kn(R,je.NAVIGATION_CANCELLED)?s.go(-Y.delta,!1):Y.type===gu.pop&&kn(R,je.NAVIGATION_ABORTED|je.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),b(te,w,R)}).catch(zi)}))}let xe=Si(),be=Si(),le;function me(M,Q,Y){zt(M);const te=be.list();return te.length?te.forEach(_e=>_e(M,Q,Y)):console.error(M),Promise.reject(M)}function nt(){return le&&l.value!==sr?Promise.resolve():new Promise((M,Q)=>{xe.add([M,Q])})}function zt(M){return le||(le=!M,de(),xe.list().forEach(([Q,Y])=>M?Y(M):Q()),xe.reset()),M}function At(M,Q,Y,te){const{scrollBehavior:_e}=t;if(!ks||!_e)return Promise.resolve();const w=!Y&&YA(Jd(M.fullPath,0))||(te||!Y)&&history.state&&history.state.scroll||null;return Tc().then(()=>_e(M,Q,w)).then(R=>R&&KA(R)).catch(R=>me(R,M,Q))}const Fe=M=>s.go(M);let xt;const Mt=new Set,bt={currentRoute:l,listening:!0,addRoute:g,removeRoute:S,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:P,resolve:C,options:t,push:B,replace:G,go:Fe,back:()=>Fe(-1),forward:()=>Fe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:be.add,isReady:nt,install(M){M.component("RouterLink",Ab),M.component("RouterView",yy),M.config.globalProperties.$router=bt,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>jt(l)}),ks&&!xt&&l.value===sr&&(xt=!0,B(s.location).catch(te=>{}));const Q={};for(const te in sr)Object.defineProperty(Q,te,{get:()=>l.value[te],enumerable:!0});M.provide(Oc,bt),M.provide(py,Xg(Q)),M.provide(yu,l);const Y=M.unmount;Mt.add(M),M.unmount=function(){Mt.delete(M),Mt.size<1&&(u=sr,E&&E(),E=null,l.value=sr,xt=!1,le=!1),Y()}}};function rt(M){return M.reduce((Q,Y)=>Q.then(()=>_(Y)),Promise.resolve())}return bt}function $O(){return We(Oc)}function Mr(t,e){return n=>Object.keys(t).reduce((r,s)=>{const o=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?r[s]={...o,default:n[s]}:r[s]=o,e&&!r[s].source&&(r[s].source=e),r},{})}const Pb=Mr({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Db(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const kt=typeof window<"u",jO=kt&&"IntersectionObserver"in window,kb=kt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),vy=kt&&"matchMedia"in window&&typeof window.matchMedia=="function",Nb=()=>vy&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;function hp(t,e,n){Ob(t,e),e.set(t,n)}function Ob(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fp(t,e,n){return t.set(Ey(t,e),n),n}function Nn(t,e){return t.get(Ey(t,e))}function Ey(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Ty(t,e,n){const r=e.length-1;if(r<0)return t===void 0?n:t;for(let s=0;s<r;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[r]]===void 0?n:t[e[r]]}function vu(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),Ty(t,e.split("."),n))}function HO(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return vu(t,e,n);if(Array.isArray(e))return Ty(t,e,n);if(typeof e!="function")return n;const r=e(t,n);return typeof r>"u"?n:r}function wy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,r)=>e+r)}function ra(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(t==null||t==="")return;const n=Number(t);return isNaN(n)?String(t):isFinite(n)?`${n}${e}`:void 0}function qO(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function dp(t){let e;return t!==null&&typeof t=="object"&&((e=Object.getPrototypeOf(t))===Object.prototype||e===null)}function Iy(t){if(t&&"$el"in t){const e=t.$el;return e?.nodeType===Node.TEXT_NODE?e.nextElementSibling:e}return t}function Bl(t,e){return e.every(n=>t.hasOwnProperty(n))}function Vb(t,e){const n={};for(const r of e)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function pp(t,e,n){const r=Object.create(null),s=Object.create(null);for(const i in t)e.some(o=>o instanceof RegExp?o.test(i):o===i)?r[i]=t[i]:s[i]=t[i];return[r,s]}function Ay(t,e){const n={...t};return e.forEach(r=>delete n[r]),n}const by=/^on[^a-z]/,WO=t=>by.test(t),xb=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function GO(t){const[e,n]=pp(t,[by]),r=Ay(e,xb),[s,i]=pp(n,["class","style","id",/^data-/]);return Object.assign(s,e),Object.assign(i,r),[s,i]}function zO(t){return t==null?[]:Array.isArray(t)?t:[t]}function KO(t,e){let n=0;const r=function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];clearTimeout(n),n=setTimeout(()=>t(...i),jt(e))};return r.clear=()=>{clearTimeout(n)},r.immediate=t,r}function vh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function mp(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function gp(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function Mb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<t.length;)n.push(t.substr(r,e)),r+=e;return n}function wt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const s in t)r[s]=t[s];for(const s in e){const i=t[s],o=e[s];if(dp(i)&&dp(o)){r[s]=wt(i,o,n);continue}if(n&&Array.isArray(i)&&Array.isArray(o)){r[s]=n(i,o);continue}r[s]=o}return r}function Lb(t){return t.map(e=>e.type===Bt?Lb(e.children):e).flat()}function rs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(rs.cache.has(t))return rs.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return rs.cache.set(t,e),e}rs.cache=new Map;function Di(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>Di(t,n)).flat(1);if(e.suspense)return Di(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>Di(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return Di(t,e.component.subTree).flat(1)}return[]}var Rs=new WeakMap,Kr=new WeakMap;class QO{constructor(e){hp(this,Rs,[]),hp(this,Kr,0),this.size=e}get isFull(){return Nn(Rs,this).length===this.size}push(e){Nn(Rs,this)[Nn(Kr,this)]=e,fp(Kr,this,(Nn(Kr,this)+1)%this.size)}values(){return Nn(Rs,this).slice(Nn(Kr,this)).concat(Nn(Rs,this).slice(0,Nn(Kr,this)))}clear(){Nn(Rs,this).length=0,fp(Kr,this,0)}}function YO(t){const e=Ot({});Rc(()=>{const r=t();for(const s in r)e[s]=r[s]},{flush:"sync"});const n={};for(const r in e)n[r]=ut(()=>e[r]);return n}function XO(t,e){return t.includes(e)}function JO(t){return t[2].toLowerCase()+t.slice(3)}const ZO=()=>[Function,Array];function eV(t,e){return e="on"+Ao(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function tV(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function Fb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","details:not(:has(> summary))","details > summary","[tabindex]",'[contenteditable]:not([contenteditable="false"])',"audio[controls]","video[controls]"].map(s=>`${s}${e?':not([tabindex="-1"])':""}:not([disabled], [inert])`).join(", ");let r;try{r=[...t.querySelectorAll(n)]}catch{return[]}return r.filter(s=>!s.closest("[inert]")).filter(s=>!!s.offsetParent||s.getClientRects().length>0).filter(s=>!s.parentElement?.closest("details:not([open])")||s.tagName==="SUMMARY"&&s.parentElement?.tagName==="DETAILS")}function Ub(t,e,n){let r,s=t.indexOf(document.activeElement);const i=e==="next"?1:-1;do s+=i,r=t[s];while((!r||r.offsetParent==null||!(n?.(r)??!0))&&s<t.length&&s>=0);return r}function Bb(t,e){const n=Fb(t);if(e==null)(t===document.activeElement||!t.contains(document.activeElement))&&n[0]?.focus();else if(e==="first")n[0]?.focus();else if(e==="last")n.at(-1)?.focus();else if(typeof e=="number")n[e]?.focus();else{const r=Ub(n,e);r?r.focus():Bb(t,e==="next"?"first":"last")}}function nV(t,e){if(!(kt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function $b(t){return t.some(e=>oo(e)?e.type===Et?!1:e.type!==Bt||$b(e.children):!0)?t:null}function rV(t,e){if(!kt||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function sV(t,e){const n=t.clientX,r=t.clientY,s=e.getBoundingClientRect(),i=s.left,o=s.top,c=s.right,l=s.bottom;return n>=i&&n<=c&&r>=o&&r<=l}function jb(){const t=Xt(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>Iy(t.value)}),e}function iV(t){const e=t.key.length===1,n=!t.ctrlKey&&!t.metaKey&&!t.altKey;return e&&n}function oV(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"}function aV(t){const e={};for(const n in t)e[Gt(n)]=t[n];return e}function cV(t){const e=["checked","disabled"];return Object.fromEntries(Object.entries(t).filter(n=>{let[r,s]=n;return e.includes(r)?!!s:s!==void 0}))}const Ss=2.4,_p=.2126729,yp=.7151522,vp=.072175,Hb=.55,qb=.58,Wb=.57,Gb=.62,sa=.03,Ep=1.45,zb=5e-4,Kb=1.25,Qb=1.25,Tp=.078,wp=12.82051282051282,ia=.06,Ip=.001;function Ap(t,e){const n=(t.r/255)**Ss,r=(t.g/255)**Ss,s=(t.b/255)**Ss,i=(e.r/255)**Ss,o=(e.g/255)**Ss,c=(e.b/255)**Ss;let l=n*_p+r*yp+s*vp,u=i*_p+o*yp+c*vp;if(l<=sa&&(l+=(sa-l)**Ep),u<=sa&&(u+=(sa-u)**Ep),Math.abs(u-l)<zb)return 0;let h;if(u>l){const d=(u**Hb-l**qb)*Kb;h=d<Ip?0:d<Tp?d-d*wp*ia:d-ia}else{const d=(u**Gb-l**Wb)*Qb;h=d>-Ip?0:d>-Tp?d-d*wp*ia:d+ia}return h*100}const $a=.20689655172413793,Yb=t=>t>$a**3?Math.cbrt(t):t/(3*$a**2)+4/29,Xb=t=>t>$a?t**3:3*$a**2*(t-4/29);function Ry(t){const e=Yb,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function Sy(t){const e=Xb,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const Jb=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Zb=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,e0=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],t0=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function Cy(t){const e=Array(3),n=Zb,r=Jb;for(let s=0;s<3;++s)e[s]=Math.round(vh(n(r[s][0]*t[0]+r[s][1]*t[1]+r[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function Eh(t){let{r:e,g:n,b:r}=t;const s=[0,0,0],i=t0,o=e0;e=i(e/255),n=i(n/255),r=i(r/255);for(let c=0;c<3;++c)s[c]=o[c][0]*e+o[c][1]*n+o[c][2]*r;return s}function n0(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function lV(t){return n0(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const bp=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,r0={rgb:(t,e,n,r)=>({r:t,g:e,b:n,a:r}),rgba:(t,e,n,r)=>({r:t,g:e,b:n,a:r}),hsl:(t,e,n,r)=>Rp({h:t,s:e,l:n,a:r}),hsla:(t,e,n,r)=>Rp({h:t,s:e,l:n,a:r}),hsv:(t,e,n,r)=>lo({h:t,s:e,v:n,a:r}),hsva:(t,e,n,r)=>lo({h:t,s:e,v:n,a:r})};function Ln(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&bp.test(t)){const{groups:e}=t.match(bp),{fn:n,values:r}=e,s=r.split(/,\s*|\s*\/\s*|\s+/).map((i,o)=>i.endsWith("%")||o>0&&o<3&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(i)/100:parseFloat(i));return r0[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),i0(e)}else if(typeof t=="object"){if(Bl(t,["r","g","b"]))return t;if(Bl(t,["h","s","l"]))return lo(Py(t));if(Bl(t,["h","s","v"]))return lo(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function lo(t){const{h:e,s:n,v:r,a:s}=t,i=c=>{const l=(c+e/60)%6;return r-r*n*Math.max(Math.min(l,4-l,1),0)},o=[i(5),i(3),i(1)].map(c=>Math.round(c*255));return{r:o[0],g:o[1],b:o[2],a:s}}function Rp(t){return lo(Py(t))}function Py(t){const{h:e,s:n,l:r,a:s}=t,i=r+n*Math.min(r,1-r),o=i===0?0:2-2*r/i;return{h:e,s:o,v:i,a:s}}function oa(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function s0(t){let{r:e,g:n,b:r,a:s}=t;return`#${[oa(e),oa(n),oa(r),s!==void 0?oa(Math.round(s*255)):""].join("")}`}function i0(t){t=o0(t);let[e,n,r,s]=Mb(t,2).map(i=>parseInt(i,16));return s=s===void 0?s:s/255,{r:e,g:n,b:r,a:s}}function o0(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=mp(mp(t,6),8,"F")),t}function a0(t,e){const n=Ry(Eh(t));return n[0]=n[0]+e*10,Cy(Sy(n))}function c0(t,e){const n=Ry(Eh(t));return n[0]=n[0]-e*10,Cy(Sy(n))}function l0(t){const e=Ln(t);return Eh(e)[1]}function u0(t){const e=Math.abs(Ap(Ln(0),Ln(t)));return Math.abs(Ap(Ln(16777215),Ln(t)))>Math.min(e,50)?"#fff":"#000"}function Qn(t,e){const n=ni();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function h0(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Qn(t).type;return rs(e?.aliasName||e?.name)}function f0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qn("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const Ks=Symbol.for("vuetify:defaults");function d0(t){return tn(t)}function Th(){const t=We(Ks);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function uV(t,e){const n=Th(),r=tn(t),s=we(()=>{if(jt(e?.disabled))return n.value;const o=jt(e?.scoped),c=jt(e?.reset),l=jt(e?.root);if(r.value==null&&!(o||c||l))return n.value;let u=wt(r.value,{prev:n.value});if(o)return u;if(c||l){const h=Number(c||1/0);for(let d=0;d<=h&&!(!u||!("prev"in u));d++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=wt(wt(u,{prev:u}),u[l])),u}return u.prev?wt(u.prev,u):u});return Bn(Ks,s),s}function p0(t,e){return t.props&&(typeof t.props[e]<"u"||typeof t.props[rs(e)]<"u")}function m0(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Th();const r=Qn("useDefaults");if(e=e??r.type.name??r.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=we(()=>n.value?.[t._as??e]),i=new Proxy(t,{get(l,u){const h=Reflect.get(l,u);if(u==="class"||u==="style")return[s.value?.[u],h].filter(g=>g!=null);if(p0(r.vnode,u))return h;const d=s.value?.[u];if(d!==void 0)return d;const m=n.value?.global?.[u];return m!==void 0?m:h}}),o=Xt();Rc(()=>{if(s.value){const l=Object.entries(s.value).filter(u=>{let[h]=u;return h.startsWith(h[0].toUpperCase())});o.value=l.length?Object.fromEntries(l):void 0}else o.value=void 0});function c(){const l=f0(Ks,r);Bn(Ks,we(()=>o.value?wt(l?.value??{},o.value):l?.value))}return{props:i,provideSubDefaults:c}}function Co(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=Mr(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(r){return Vb(r,e)},t.props._as=String,t.setup=function(r,s){const i=Th();if(!i.value)return t._setup(r,s);const{props:o,provideSubDefaults:c}=m0(r,r._as??t.name,i),l=t._setup(o,s);return c(),l}}return t}function Dy(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?Co:wc)(e)}const hV="cubic-bezier(0.4, 0, 0.2, 1)",fV="cubic-bezier(0.0, 0, 0.2, 1)",dV="cubic-bezier(0.4, 0, 1, 1)",g0={linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5,instant:t=>1};function _0(t){const e=Qn("useRender");e.render=t}function y0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=jb(),r=tn();if(kt){const s=new ResizeObserver(i=>{t?.(i,s),i.length&&(e==="content"?r.value=i[0].contentRect:r.value=i[0].target.getBoundingClientRect())});bc(()=>{s.disconnect()}),Jt(()=>n.el,(i,o)=>{o&&(s.unobserve(o),r.value=void 0),i&&s.observe(i)},{flush:"post"})}return{resizeRef:n,contentRect:Da(r)}}const ja=Symbol.for("vuetify:layout"),ky=Symbol.for("vuetify:layout-item"),Sp=1e3,v0=Mr({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),pV=Mr({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function mV(){const t=We(ja);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function gV(t){const e=We(ja);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${Fw()}`,r=Qn("useLayoutItem");Bn(ky,{id:n});const s=Xt(!1);v_(()=>s.value=!0),y_(()=>s.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:o}=e.register(r,{...t,active:we(()=>s.value?!1:t.active.value),id:n});return bc(()=>e.unregister(n)),{layoutItemStyles:i,layoutRect:e.layoutRect,layoutItemScrimStyles:o}}const E0=(t,e,n,r)=>{let s={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...s}}];for(const o of t){const c=e.get(o),l=n.get(o),u=r.get(o);if(!c||!l||!u)continue;const h={...s,[c.value]:parseInt(s[c.value],10)+(u.value?parseInt(l.value,10):0)};i.push({id:o,layer:h}),s=h}return i};function T0(t){const e=We(ja,null),n=we(()=>e?e.rootZIndex.value-100:Sp),r=tn([]),s=Ot(new Map),i=Ot(new Map),o=Ot(new Map),c=Ot(new Map),l=Ot(new Map),{resizeRef:u,contentRect:h}=y0(),d=we(()=>{const z=new Map,T=t.overlaps??[];for(const v of T.filter(_=>_.includes(":"))){const[_,I]=v.split(":");if(!r.value.includes(_)||!r.value.includes(I))continue;const b=s.get(_),A=s.get(I),E=i.get(_),de=i.get(I);!b||!A||!E||!de||(z.set(I,{position:b.value,amount:parseInt(E.value,10)}),z.set(_,{position:A.value,amount:-parseInt(de.value,10)}))}return z}),m=we(()=>{const z=[...new Set([...o.values()].map(v=>v.value))].sort((v,_)=>v-_),T=[];for(const v of z){const _=r.value.filter(I=>o.get(I)?.value===v);T.push(..._)}return E0(T,s,i,c)}),g=we(()=>!Array.from(l.values()).some(z=>z.value)),S=we(()=>m.value[m.value.length-1].layer),P=ut(()=>({"--v-layout-left":ra(S.value.left),"--v-layout-right":ra(S.value.right),"--v-layout-top":ra(S.value.top),"--v-layout-bottom":ra(S.value.bottom),...g.value?void 0:{transition:"none"}})),k=we(()=>m.value.slice(1).map((z,T)=>{let{id:v}=z;const{layer:_}=m.value[T],I=i.get(v),b=s.get(v);return{id:v,..._,size:Number(I.value),position:b.value}})),C=z=>k.value.find(T=>T.id===z),O=Qn("createLayout"),x=Xt(!1);fh(()=>{x.value=!0}),Bn(ja,{register:(z,T)=>{let{id:v,order:_,position:I,layoutSize:b,elementSize:A,active:E,disableTransitions:de,absolute:xe}=T;o.set(v,_),s.set(v,I),i.set(v,b),c.set(v,E),de&&l.set(v,de);const le=Di(ky,O?.vnode).indexOf(z);le>-1?r.value.splice(le,0,v):r.value.push(v);const me=we(()=>k.value.findIndex(Fe=>Fe.id===v)),nt=we(()=>n.value+m.value.length*2-me.value*2),zt=we(()=>{const Fe=I.value==="left"||I.value==="right",xt=I.value==="right",Mt=I.value==="bottom",bt=A.value??b.value,rt=bt===0?"%":"px",M={[I.value]:0,zIndex:nt.value,transform:`translate${Fe?"X":"Y"}(${(E.value?0:-(bt===0?100:bt))*(xt||Mt?-1:1)}${rt})`,position:xe.value||n.value!==Sp?"absolute":"fixed",...g.value?void 0:{transition:"none"}};if(!x.value)return M;const Q=k.value[me.value],Y=d.value.get(v);return Y&&(Q[Y.position]+=Y.amount),{...M,height:Fe?`calc(100% - ${Q.top}px - ${Q.bottom}px)`:A.value?`${A.value}px`:void 0,left:xt?void 0:`${Q.left}px`,right:xt?`${Q.right}px`:void 0,top:I.value!=="bottom"?`${Q.top}px`:void 0,bottom:I.value!=="top"?`${Q.bottom}px`:void 0,width:Fe?A.value?`${A.value}px`:void 0:`calc(100% - ${Q.left}px - ${Q.right}px)`}}),At=we(()=>({zIndex:nt.value-1}));return{layoutItemStyles:zt,layoutItemScrimStyles:At,zIndex:nt}},unregister:z=>{o.delete(z),s.delete(z),i.delete(z),c.delete(z),l.delete(z),r.value=r.value.filter(T=>T!==z)},mainRect:S,mainStyles:P,getLayoutItem:C,items:k,layoutRect:h,rootZIndex:n});const B=ut(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),G=ut(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:B,layoutStyles:G,getLayoutItem:C,items:k,layoutRect:h,layoutRef:u}}function w0(t,e){let n;function r(){n=eo(),n.run(()=>e.length?e(()=>{n?.stop(),r()}):e())}Jt(t,s=>{s&&!n?r():s||(n?.stop(),n=void 0)},{immediate:!0}),yc(()=>{n?.stop()})}function I0(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const i=Qn("useProxiedModel"),o=tn(t[e]!==void 0?t[e]:n),c=rs(e),u=we(c!==e?()=>(t[e],!!((i.vnode.props?.hasOwnProperty(e)||i.vnode.props?.hasOwnProperty(c))&&(i.vnode.props?.hasOwnProperty(`onUpdate:${e}`)||i.vnode.props?.hasOwnProperty(`onUpdate:${c}`)))):()=>(t[e],!!(i.vnode.props?.hasOwnProperty(e)&&i.vnode.props?.hasOwnProperty(`onUpdate:${e}`))));w0(()=>!u.value,()=>{Jt(()=>t[e],d=>{o.value=d})});const h=we({get(){const d=t[e];return r(u.value?d:o.value)},set(d){const m=s(d),g=Te(u.value?t[e]:o.value);g===m||r(g)===d||(o.value=m,i?.emit(`update:${e}`,m))}});return Object.defineProperty(h,"externalValue",{get:()=>u.value?t[e]:o.value}),h}const A0={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"},ariaLabel:{previousMonth:"Previous month",nextMonth:"Next month",selectYear:"Select year",selectDate:"{0}",currentDate:"Today, {0}"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"},hotkey:{then:"then",ctrl:"Ctrl",command:"Command",space:"Space",shift:"Shift",alt:"Alt",enter:"Enter",escape:"Escape",upArrow:"Up Arrow",downArrow:"Down Arrow",leftArrow:"Left Arrow",rightArrow:"Right Arrow",backspace:"Backspace",option:"Option",plus:"plus",shortcut:"Keyboard shortcut: {0}"},video:{play:"Play",pause:"Pause",seek:"Seek",volume:"Volume",showVolume:"Show volume control",mute:"Mute",unmute:"Unmute",enterFullscreen:"Full screen",exitFullscreen:"Exit full screen"},colorPicker:{ariaLabel:{eyedropper:"Select color with eyedropper",hueSlider:"Hue",alphaSlider:"Alpha",redInput:"Red value",greenInput:"Green value",blueInput:"Blue value",alphaInput:"Alpha value",hueInput:"Hue value",saturationInput:"Saturation value",lightnessInput:"Lightness value",hexInput:"HEX value",hexaInput:"HEX with alpha value",changeFormat:"Change color format"}}},Cp="$vuetify.",Pp=(t,e)=>t.replace(/\{(\d+)\}/g,(n,r)=>String(e[Number(r)])),Ny=(t,e,n)=>function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];if(!r.startsWith(Cp))return Pp(r,i);const c=r.replace(Cp,""),l=t.value&&n.value[t.value],u=e.value&&n.value[e.value];let h=vu(l,c,null);return h||(`${r}${t.value}`,h=vu(u,c,null)),h||(h=r),typeof h!="string"&&(h=r),Pp(h,i)};function wh(t,e){return(n,r)=>new Intl.NumberFormat([t.value,e.value],r).format(n)}function Oy(t,e){return wh(t,e)(.1).includes(",")?",":"."}function $l(t,e,n){const r=I0(t,e,t[e]??n.value);return r.value=t[e]??n.value,Jt(n,s=>{t[e]==null&&(r.value=n.value)}),r}function Vy(t){return e=>{const n=$l(e,"locale",t.current),r=$l(e,"fallback",t.fallback),s=$l(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:r,messages:s,decimalSeparator:ut(()=>Oy(n,r)),t:Ny(n,r,s),n:wh(n,r),provide:Vy({current:n,fallback:r,messages:s})}}}function b0(t){const e=Xt(t?.locale??"en"),n=Xt(t?.fallback??"en"),r=tn({en:A0,...t?.messages});return{name:"vuetify",current:e,fallback:n,messages:r,decimalSeparator:ut(()=>t?.decimalSeparator??Oy(e,n)),t:Ny(e,n,r),n:wh(e,n),provide:Vy({current:e,fallback:n,messages:r})}}const Ha=Symbol.for("vuetify:locale");function R0(t){return t.name!=null}function S0(t){const e=t?.adapter&&R0(t?.adapter)?t?.adapter:b0(t),n=P0(e,t);return{...e,...n}}function _V(){const t=We(Ha);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function C0(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function P0(t,e){const n=tn(e?.rtl??C0()),r=we(()=>n.value[t.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:ut(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function xy(){const t=We(Ha);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const uo=Symbol.for("vuetify:theme"),D0=Mr({theme:String},"theme");function Dp(){return{defaultTheme:"light",prefix:"v-",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#EEEEEE","theme-on-kbd":"#000000","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#424242","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet",scoped:!1,unimportant:!1,utilities:!0}}function k0(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dp();const e=Dp();if(!t)return{...e,isDisabled:!0};const n={};for(const[r,s]of Object.entries(t.themes??{})){const i=s.dark||r==="dark"?e.themes?.dark:e.themes?.light;n[r]=wt(i,s)}return wt(e,{...t,themes:n})}function Qr(t,e,n,r){t.push(`${x0(e,r)} {
`,...n.map(s=>`  ${s};
`),`}
`)}function kp(t,e){const n=t.dark?2:1,r=t.dark?1:2,s=[];for(const[i,o]of Object.entries(t.colors)){const c=Ln(o);s.push(`--${e}theme-${i}: ${c.r},${c.g},${c.b}`),i.startsWith("on-")||s.push(`--${e}theme-${i}-overlay-multiplier: ${l0(o)>.18?n:r}`)}for(const[i,o]of Object.entries(t.variables)){const c=typeof o=="string"&&o.startsWith("#")?Ln(o):void 0,l=c?`${c.r}, ${c.g}, ${c.b}`:void 0;s.push(`--${e}${i}: ${l??o}`)}return s}function N0(t,e,n){const r={};if(n)for(const s of["lighten","darken"]){const i=s==="lighten"?a0:c0;for(const o of wy(n[s],1))r[`${t}-${s}-${o}`]=s0(i(Ln(e),o))}return r}function O0(t,e){if(!e)return{};let n={};for(const r of e.colors){const s=t[r];s&&(n={...n,...N0(r,s,e)})}return n}function V0(t){const e={};for(const n of Object.keys(t)){if(n.startsWith("on-")||t[`on-${n}`])continue;const r=`on-${n}`,s=Ln(t[n]);e[r]=u0(s)}return e}function x0(t,e){if(!e)return t;const n=`:where(${e})`;return t===":root"?n:`${n} ${t}`}function M0(t,e,n){const r=L0(t,e);r&&(r.innerHTML=n)}function L0(t,e){if(!kt)return null;let n=document.getElementById(t);return n||(n=document.createElement("style"),n.id=t,n.type="text/css",e&&n.setAttribute("nonce",e),document.head.appendChild(n)),n}function F0(t){const e=k0(t),n=Xt(e.defaultTheme),r=tn(e.themes),s=Xt("light"),i=we({get(){return n.value==="system"?s.value:n.value},set(C){n.value=C}}),o=we(()=>{const C={};for(const[O,x]of Object.entries(r.value)){const B={...x.colors,...O0(x.colors,e.variations)};C[O]={...x,colors:{...B,...V0(B)}}}return C}),c=ut(()=>o.value[i.value]),l=ut(()=>n.value==="system"),u=we(()=>{const C=[],O=e.unimportant?"":" !important",x=e.scoped?e.prefix:"";c.value?.dark&&Qr(C,":root",["color-scheme: dark"],e.scope),Qr(C,":root",kp(c.value,e.prefix),e.scope);for(const[B,G]of Object.entries(o.value))Qr(C,`.${e.prefix}theme--${B}`,[`color-scheme: ${G.dark?"dark":"normal"}`,...kp(G,e.prefix)],e.scope);if(e.utilities){const B=[],G=[],z=new Set(Object.values(o.value).flatMap(T=>Object.keys(T.colors)));for(const T of z)T.startsWith("on-")?Qr(G,`.${T}`,[`color: rgb(var(--${e.prefix}theme-${T}))${O}`],e.scope):(Qr(B,`.${x}bg-${T}`,[`--${e.prefix}theme-overlay-multiplier: var(--${e.prefix}theme-${T}-overlay-multiplier)`,`background-color: rgb(var(--${e.prefix}theme-${T}))${O}`,`color: rgb(var(--${e.prefix}theme-on-${T}))${O}`],e.scope),Qr(G,`.${x}text-${T}`,[`color: rgb(var(--${e.prefix}theme-${T}))${O}`],e.scope),Qr(G,`.${x}border-${T}`,[`--${e.prefix}border-color: var(--${e.prefix}theme-${T})`],e.scope));C.push(...B,...G)}return C.map((B,G)=>G===0?B:`    ${B}`).join("")}),h=ut(()=>e.isDisabled?void 0:`${e.prefix}theme--${i.value}`),d=ut(()=>Object.keys(o.value));if(vy){let O=function(){s.value=C.matches?"dark":"light"};const C=window.matchMedia("(prefers-color-scheme: dark)");O(),C.addEventListener("change",O,{passive:!0}),th()&&yc(()=>{C.removeEventListener("change",O)})}function m(C){if(e.isDisabled)return;const O=C._context.provides.usehead;if(O){let x=function(){return{style:[{textContent:u.value,id:e.stylesheetId,nonce:e.cspNonce||!1}]}};if(O.push){const B=O.push(x);kt&&Jt(u,()=>{B.patch(x)})}else kt?(O.addHeadObjs(ut(x)),Rc(()=>O.updateDOM())):O.addHeadObjs(x())}else{let x=function(){M0(e.stylesheetId,e.cspNonce,u.value)};kt?Jt(u,x,{immediate:!0}):x()}}function g(C){C!=="system"&&!d.value.includes(C)||(i.value=C)}function S(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.value;const O=C.indexOf(i.value),x=O===-1?0:(O+1)%C.length;g(C[x])}function P(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["light","dark"];S(C)}const k=new Proxy(i,{get(C,O){return Reflect.get(C,O)},set(C,O,x){return O==="value"&&Db(`theme.global.name.value = ${x}`,`theme.change('${x}')`),Reflect.set(C,O,x)}});return{install:m,change:g,cycle:S,toggle:P,isDisabled:e.isDisabled,isSystem:l,name:i,themes:r,current:c,computedThemes:o,prefix:e.prefix,themeClasses:h,styles:u,global:{name:k,current:c}}}function U0(t){Qn("provideTheme");const e=We(uo,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=ut(()=>t.theme??e.name.value),r=ut(()=>e.themes.value[n.value]),s=ut(()=>e.isDisabled?void 0:`${e.prefix}theme--${n.value}`),i={...e,name:n,current:r,themeClasses:s};return Bn(uo,i),i}function yV(){Qn("useTheme");const t=We(uo,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}const B0=Mr({...Pb(),...Ay(v0(),["fullHeight"]),...D0()},"VApp"),$0=Dy()({name:"VApp",props:B0(),setup(t,e){let{slots:n}=e;const r=U0(t),{layoutClasses:s,getLayoutItem:i,items:o,layoutRef:c}=T0({...t,fullHeight:!0}),{rtlClasses:l}=xy();return _0(()=>gr("div",{ref:c,class:bo(["v-application",r.themeClasses.value,s.value,l.value,t.class]),style:_c([t.style])},[gr("div",{class:"v-application__wrap"},[n.default?.()])])),{getLayoutItem:i,items:o,theme:r}}}),j0=wc({__name:"App",setup(t){return(e,n)=>(B_(),j_($0,null,{default:a_(()=>[Ye(jt(yy))]),_:1}))}}),H0="modulepreload",q0=function(t){return"/"+t},Np={},ir=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");s=l(n.map(u=>{if(u=q0(u),u in Np)return;Np[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":H0,h||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((g,S)=>{m.addEventListener("load",g),m.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},W0=()=>{};var Op={};const My=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},G0=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ly={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,d=(i&3)<<4|c>>4;let m=(c&15)<<2|u>>6,g=u&63;l||(g=64,o||(m=64)),r.push(n[h],n[d],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(My(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):G0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||u==null||d==null)throw new z0;const m=i<<2|c>>4;if(r.push(m),u!==64){const g=c<<4&240|u>>2;if(r.push(g),d!==64){const S=u<<6&192|d;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K0=function(t){const e=My(t);return Ly.encodeByteArray(e,!0)},qa=function(t){return K0(t).replace(/\./g,"")},Fy=function(t){try{return Ly.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Q0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Y0=()=>Q0().__FIREBASE_DEFAULTS__,X0=()=>{if(typeof process>"u"||typeof Op>"u")return;const t=Op.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},J0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fy(t[1]);return e&&JSON.parse(e)},Vc=()=>{try{return W0()||Y0()||X0()||J0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Uy=t=>Vc()?.emulatorHosts?.[t],By=t=>{const e=Uy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$y=()=>Vc()?.config,jy=t=>Vc()?.[`_${t}`];class Z0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function ps(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ih(t){return(await fetch(t,{credentials:"include"})).ok}function Hy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[qa(JSON.stringify(n)),qa(JSON.stringify(o)),""].join(".")}const Ki={};function eR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ki))Ki[e]?t.emulator.push(e):t.prod.push(e);return t}function tR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Vp=!1;function Ah(t,e){if(typeof window>"u"||typeof document>"u"||!ps(window.location.host)||Ki[t]===e||Ki[t]||Vp)return;Ki[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=eR().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Vp=!0,o()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function d(){const m=tR(r),g=n("text"),S=document.getElementById(g)||document.createElement("span"),P=n("learnmore"),k=document.getElementById(P)||document.createElement("a"),C=n("preprendIcon"),O=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const x=m.element;c(x),h(k,P);const B=u();l(O,C),x.append(O,S,k,B),document.body.appendChild(x)}i?(S.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function rR(){const t=Vc()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aR(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cR(){return!rR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lR(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const hR="FirebaseError";class Cn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hR,Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?fR(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new Cn(s,c,r)}}function fR(t,e){return t.replace(dR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const dR=/\{\$([^}]+)}/g;function pR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function as(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(xp(i)&&xp(o)){if(!as(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function xp(t){return t!==null&&typeof t=="object"}function Do(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ki(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ni(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mR(t,e){const n=new gR(t,e);return n.subscribe.bind(n)}class gR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_R(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=jl),s.error===void 0&&(s.error=jl),s.complete===void 0&&(s.complete=jl);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _R(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jl(){}function ze(t){return t&&t._delegate?t._delegate:t}class Sr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xr="[DEFAULT]";class yR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Z0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ER(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(t){return t===Xr?void 0:t}function ER(t){return t.instantiationMode==="EAGER"}class TR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const wR={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},IR=ye.INFO,AR={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},bR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=AR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bh{constructor(e){this.name=e,this._logLevel=IR,this._logHandler=bR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const RR=(t,e)=>e.some(n=>t instanceof n);let Mp,Lp;function SR(){return Mp||(Mp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return Lp||(Lp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qy=new WeakMap,Eu=new WeakMap,Wy=new WeakMap,Hl=new WeakMap,Rh=new WeakMap;function PR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Er(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qy.set(n,t)}).catch(()=>{}),Rh.set(e,t),e}function DR(t){if(Eu.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Eu.set(t,e)}let Tu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Eu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Wy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kR(t){Tu=t(Tu)}function NR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ql(this),e,...n);return Wy.set(r,e.sort?e.sort():[e]),Er(r)}:CR().includes(t)?function(...e){return t.apply(ql(this),e),Er(qy.get(this))}:function(...e){return Er(t.apply(ql(this),e))}}function OR(t){return typeof t=="function"?NR(t):(t instanceof IDBTransaction&&DR(t),RR(t,SR())?new Proxy(t,Tu):t)}function Er(t){if(t instanceof IDBRequest)return PR(t);if(Hl.has(t))return Hl.get(t);const e=OR(t);return e!==t&&(Hl.set(t,e),Rh.set(e,t)),e}const ql=t=>Rh.get(t);function VR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=Er(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Er(o.result),l.oldVersion,l.newVersion,Er(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const xR=["get","getKey","getAll","getAllKeys","count"],MR=["put","add","delete","clear"],Wl=new Map;function Fp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wl.get(e))return Wl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=MR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||xR.includes(n)))return;const i=async function(o,...c){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),s&&l.done]))[0]};return Wl.set(e,i),i}kR(t=>({...t,get:(e,n,r)=>Fp(e,n)||t.get(e,n,r),has:(e,n)=>!!Fp(e,n)||t.has(e,n)}));class LR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FR(t){return t.getComponent()?.type==="VERSION"}const wu="@firebase/app",Up="0.14.6";const qn=new bh("@firebase/app"),UR="@firebase/app-compat",BR="@firebase/analytics-compat",$R="@firebase/analytics",jR="@firebase/app-check-compat",HR="@firebase/app-check",qR="@firebase/auth",WR="@firebase/auth-compat",GR="@firebase/database",zR="@firebase/data-connect",KR="@firebase/database-compat",QR="@firebase/functions",YR="@firebase/functions-compat",XR="@firebase/installations",JR="@firebase/installations-compat",ZR="@firebase/messaging",eS="@firebase/messaging-compat",tS="@firebase/performance",nS="@firebase/performance-compat",rS="@firebase/remote-config",sS="@firebase/remote-config-compat",iS="@firebase/storage",oS="@firebase/storage-compat",aS="@firebase/firestore",cS="@firebase/ai",lS="@firebase/firestore-compat",uS="firebase",hS="12.6.0";const Iu="[DEFAULT]",fS={[wu]:"fire-core",[UR]:"fire-core-compat",[$R]:"fire-analytics",[BR]:"fire-analytics-compat",[HR]:"fire-app-check",[jR]:"fire-app-check-compat",[qR]:"fire-auth",[WR]:"fire-auth-compat",[GR]:"fire-rtdb",[zR]:"fire-data-connect",[KR]:"fire-rtdb-compat",[QR]:"fire-fn",[YR]:"fire-fn-compat",[XR]:"fire-iid",[JR]:"fire-iid-compat",[ZR]:"fire-fcm",[eS]:"fire-fcm-compat",[tS]:"fire-perf",[nS]:"fire-perf-compat",[rS]:"fire-rc",[sS]:"fire-rc-compat",[iS]:"fire-gcs",[oS]:"fire-gcs-compat",[aS]:"fire-fst",[lS]:"fire-fst-compat",[cS]:"fire-vertex","fire-js":"fire-js",[uS]:"fire-js-all"};const Wa=new Map,dS=new Map,Au=new Map;function Bp(t,e){try{t.container.addComponent(e)}catch(n){qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cs(t){const e=t.name;if(Au.has(e))return qn.debug(`There were multiple attempts to register component ${e}.`),!1;Au.set(e,t);for(const n of Wa.values())Bp(n,t);for(const n of dS.values())Bp(n,t);return!0}function xc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $t(t){return t==null?!1:t.settings!==void 0}const pS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Po("app","Firebase",pS);class mS{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}const ms=hS;function Gy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Iu,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Tr.create("bad-app-name",{appName:String(s)});if(n||(n=$y()),!n)throw Tr.create("no-options");const i=Wa.get(s);if(i){if(as(n,i.options)&&as(r,i.config))return i;throw Tr.create("duplicate-app",{appName:s})}const o=new TR(s);for(const l of Au.values())o.addComponent(l);const c=new mS(n,r,o);return Wa.set(s,c),c}function Sh(t=Iu){const e=Wa.get(t);if(!e&&t===Iu&&$y())return Gy();if(!e)throw Tr.create("no-app",{appName:t});return e}function vn(t,e,n){let r=fS[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qn.warn(o.join(" "));return}cs(new Sr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const gS="firebase-heartbeat-database",_S=1,ho="firebase-heartbeat-store";let Gl=null;function zy(){return Gl||(Gl=VR(gS,_S,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ho)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),Gl}async function yS(t){try{const n=(await zy()).transaction(ho),r=await n.objectStore(ho).get(Ky(t));return await n.done,r}catch(e){if(e instanceof Cn)qn.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e?.message});qn.warn(n.message)}}}async function $p(t,e){try{const r=(await zy()).transaction(ho,"readwrite");await r.objectStore(ho).put(e,Ky(t)),await r.done}catch(n){if(n instanceof Cn)qn.warn(n.message);else{const r=Tr.create("idb-set",{originalErrorMessage:n?.message});qn.warn(r.message)}}}function Ky(t){return`${t.name}!${t.options.appId}`}const vS=1024,ES=30;class TS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ES){const s=AS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jp(),{heartbeatsToSend:n,unsentEntries:r}=wS(this._heartbeatsCache.heartbeats),s=qa(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return qn.warn(e),""}}}function jp(){return new Date().toISOString().substring(0,10)}function wS(t,e=vS){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Hp(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Hp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lR()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $p(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $p(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Hp(t){return qa(JSON.stringify({version:2,heartbeats:t})).length}function AS(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function bS(t){cs(new Sr("platform-logger",e=>new LR(e),"PRIVATE")),cs(new Sr("heartbeat",e=>new TS(e),"PRIVATE")),vn(wu,Up,t),vn(wu,Up,"esm2020"),vn("fire-js","")}bS("");function Qy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RS=Qy,Yy=new Po("auth","Firebase",Qy());const Ga=new bh("@firebase/auth");function SS(t,...e){Ga.logLevel<=ye.WARN&&Ga.warn(`Auth (${ms}): ${t}`,...e)}function va(t,...e){Ga.logLevel<=ye.ERROR&&Ga.error(`Auth (${ms}): ${t}`,...e)}function ln(t,...e){throw Ch(t,...e)}function En(t,...e){return Ch(t,...e)}function Xy(t,e,n){const r={...RS(),[e]:n};return new Po("auth","Firebase",r).create(e,{appName:t.name})}function $n(t){return Xy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ch(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Yy.create(t,...e)}function oe(t,e,...n){if(!t)throw Ch(e,...n)}function Fn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw va(e),new Error(e)}function Wn(t,e){t||Fn(e)}function bu(){return typeof self<"u"&&self.location?.href||""}function CS(){return qp()==="http:"||qp()==="https:"}function qp(){return typeof self<"u"&&self.location?.protocol||null}function PS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CS()||iR()||"connection"in navigator)?navigator.onLine:!0}function DS(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class ko{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wn(n>e,"Short delay should be less than long delay!"),this.isMobile=nR()||oR()}get(){return PS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ph(t,e){Wn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Jy{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OS=new ko(3e4,6e4);function Lr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Yn(t,e,n,r,s={}){return Zy(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const c=Do({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return sR()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ps(t.emulatorConfig.host)&&(u.credentials="include"),Jy.fetch()(await ev(t,t.config.apiHost,n,c),u)})}async function Zy(t,e,n){t._canInitEmulator=!1;const r={...kS,...e};try{const s=new xS(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw aa(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw aa(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw aa(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw aa(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Xy(t,h,u);ln(t,h)}}catch(s){if(s instanceof Cn)throw s;ln(t,"network-request-failed",{message:String(s)})}}async function No(t,e,n,r,s={}){const i=await Yn(t,e,n,r,s);return"mfaPendingCredential"in i&&ln(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function ev(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Ph(t.config,s):`${t.config.apiScheme}://${s}`;return NS.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function VS(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(En(this.auth,"network-request-failed")),OS.get())})}}function aa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=En(t,e,r);return s.customData._tokenResponse=n,s}function Wp(t){return t!==void 0&&t.enterprise!==void 0}class MS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LS(t,e){return Yn(t,"GET","/v2/recaptchaConfig",Lr(t,e))}async function FS(t,e){return Yn(t,"POST","/v1/accounts:delete",e)}async function za(t,e){return Yn(t,"POST","/v1/accounts:lookup",e)}function Qi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function US(t,e=!1){const n=ze(t),r=await n.getIdToken(e),s=Dh(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Qi(zl(s.auth_time)),issuedAtTime:Qi(zl(s.iat)),expirationTime:Qi(zl(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function zl(t){return Number(t)*1e3}function Dh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return va("JWT malformed, contained fewer than 3 sections"),null;try{const s=Fy(n);return s?JSON.parse(s):(va("Failed to decode base64 JWT payload"),null)}catch(s){return va("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Gp(t){const e=Dh(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Cn&&BS(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function BS({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class $S{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ru{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qi(this.lastLoginAt),this.creationTime=Qi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ka(t){const e=t.auth,n=await t.getIdToken(),r=await Qs(t,za(e,{idToken:n}));oe(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?tv(s.providerUserInfo):[],o=HS(t.providerData,i),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,u=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ru(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function jS(t){const e=ze(t);await Ka(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HS(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function tv(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function qS(t,e){const n=await Zy(t,{},async()=>{const r=Do({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await ev(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:c,body:r};return t.emulatorConfig&&ps(t.emulatorConfig.host)&&(l.credentials="include"),Jy.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WS(t,e){return Yn(t,"POST","/v2/accounts:revokeToken",Lr(t,e))}class Bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=Gp(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await qS(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Bs;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bs,this.toJSON())}_performRefresh(){return Fn("not implemented")}}function or(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new $S(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ru(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qs(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return US(this,e)}reload(){return jS(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ka(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($t(this.auth.app))return Promise.reject($n(this.auth));const e=await this.getIdToken();return await Qs(this,FS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:m,isAnonymous:g,providerData:S,stsTokenManager:P}=n;oe(d&&P,e,"internal-error");const k=Bs.fromJSON(this.name,P);oe(typeof d=="string",e,"internal-error"),or(r,e.name),or(s,e.name),oe(typeof m=="boolean",e,"internal-error"),oe(typeof g=="boolean",e,"internal-error"),or(i,e.name),or(o,e.name),or(c,e.name),or(l,e.name),or(u,e.name),or(h,e.name);const C=new rn({uid:d,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:c,stsTokenManager:k,createdAt:u,lastLoginAt:h});return S&&Array.isArray(S)&&(C.providerData=S.map(O=>({...O}))),l&&(C._redirectEventId=l),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new Bs;s.updateFromServerResponse(n);const i=new rn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ka(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?tv(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,c=new Bs;c.updateFromIdToken(r);const l=new rn({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ru(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,u),l}}const zp=new Map;function Un(t){Wn(t instanceof Function,"Expected a class definition");let e=zp.get(t);return e?(Wn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zp.set(t,e),e)}class nv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nv.type="NONE";const Kp=nv;function Ea(t,e,n){return`firebase:${t}:${e}:${n}`}class $s{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ea(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ea("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await za(this.auth,{idToken:e}).catch(()=>{});return n?rn._fromGetAccountInfoResponse(this.auth,n,e):null}return rn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $s(Un(Kp),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Un(Kp);const o=Ea(r,e.config.apiKey,e.name);let c=null;for(const u of n)try{const h=await u._get(o);if(h){let d;if(typeof h=="string"){const m=await za(e,{idToken:h}).catch(()=>{});if(!m)break;d=await rn._fromGetAccountInfoResponse(e,m,h)}else d=rn._fromJSON(e,h);u!==i&&(c=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new $s(i,e,r):(i=l[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new $s(i,e,r))}}function Qp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ov(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cv(e))return"Blackberry";if(lv(e))return"Webos";if(sv(e))return"Safari";if((e.includes("chrome/")||iv(e))&&!e.includes("edge/"))return"Chrome";if(av(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function rv(t=It()){return/firefox\//i.test(t)}function sv(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iv(t=It()){return/crios\//i.test(t)}function ov(t=It()){return/iemobile/i.test(t)}function av(t=It()){return/android/i.test(t)}function cv(t=It()){return/blackberry/i.test(t)}function lv(t=It()){return/webos/i.test(t)}function kh(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GS(t=It()){return kh(t)&&!!window.navigator?.standalone}function zS(){return aR()&&document.documentMode===10}function uv(t=It()){return kh(t)||av(t)||lv(t)||cv(t)||/windows phone/i.test(t)||ov(t)}function hv(t,e=[]){let n;switch(t){case"Browser":n=Qp(It());break;case"Worker":n=`${Qp(It())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ms}/${r}`}class KS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,c)=>{try{const l=e(i);o(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function QS(t,e={}){return Yn(t,"GET","/v2/passwordPolicy",Lr(t,e))}const YS=6;class XS{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YS,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class JS{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yp(this),this.idTokenSubscription=new Yp(this),this.beforeStateQueue=new KS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $s.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await za(this,{idToken:e}),r=await rn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($t(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===o)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ka(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($t(this.app))return Promise.reject($n(this));const n=e?ze(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $t(this.app)?Promise.reject($n(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $t(this.app)?Promise.reject($n(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QS(this),n=new XS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WS(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Un(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await $s.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function gs(t){return ze(t)}class Yp{constructor(e){this.auth=e,this.observer=null,this.addObserver=mR(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZS(t){Mc=t}function fv(t){return Mc.loadJS(t)}function eC(){return Mc.recaptchaEnterpriseScript}function tC(){return Mc.gapiScript}function nC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class rC{constructor(){this.enterprise=new sC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iC="recaptcha-enterprise",dv="NO_RECAPTCHA";class oC{constructor(e){this.type=iC,this.auth=gs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,c)=>{LS(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const u=new MS(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{c(l)})})}function s(i,o,c){const l=window.grecaptcha;Wp(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(dv)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rC().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(c=>{if(!n&&Wp(window.grecaptcha))s(c,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=eC();l.length!==0&&(l+=c),fv(l).then(()=>{s(c,i,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})}}async function Xp(t,e,n,r=!1,s=!1){const i=new oC(t);let o;if(s)o=dv;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const l=c.phoneEnrollmentInfo.phoneNumber,u=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const l=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Su(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Xp(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Xp(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}function aC(t,e){const n=xc(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(as(i,e??{}))return s;ln(s,"already-initialized")}return n.initialize({options:e})}function cC(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Un);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function lC(t,e,n){const r=gs(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=pv(e),{host:o,port:c}=uC(e),l=c===null?"":`:${c}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(as(u,r.config.emulator)&&as(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ps(o)?(Ih(`${i}//${o}${l}`),Ah("Auth",!0)):hC()}function pv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uC(t){const e=pv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Jp(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Jp(o)}}}function Jp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Nh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fn("not implemented")}_getIdTokenResponse(e){return Fn("not implemented")}_linkToIdToken(e,n){return Fn("not implemented")}_getReauthenticationResolver(e){return Fn("not implemented")}}async function fC(t,e){return Yn(t,"POST","/v1/accounts:signUp",e)}async function dC(t,e){return No(t,"POST","/v1/accounts:signInWithPassword",Lr(t,e))}async function pC(t,e){return No(t,"POST","/v1/accounts:signInWithEmailLink",Lr(t,e))}async function mC(t,e){return No(t,"POST","/v1/accounts:signInWithEmailLink",Lr(t,e))}class fo extends Nh{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new fo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Su(e,n,"signInWithPassword",dC);case"emailLink":return pC(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Su(e,r,"signUpPassword",fC);case"emailLink":return mC(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function js(t,e){return No(t,"POST","/v1/accounts:signInWithIdp",Lr(t,e))}const gC="http://localhost";class ls extends Nh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new ls(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return js(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,js(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,js(e,n)}buildRequest(){const e={requestUri:gC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Do(n)}return e}}function _C(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yC(t){const e=ki(Ni(t)).link,n=e?ki(Ni(e)).deep_link_id:null,r=ki(Ni(t)).deep_link_id;return(r?ki(Ni(r)).link:null)||r||n||e||t}class Oh{constructor(e){const n=ki(Ni(e)),r=n.apiKey??null,s=n.oobCode??null,i=_C(n.mode??null);oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yC(e);try{return new Oh(n)}catch{return null}}}class ri{constructor(){this.providerId=ri.PROVIDER_ID}static credential(e,n){return fo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Oh.parseLink(n);return oe(r,"argument-error"),fo._fromEmailAndCode(e,r.code,r.tenantId)}}ri.PROVIDER_ID="password";ri.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ri.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class mv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Oo extends mv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fr extends Oo{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";class dr extends Oo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ls._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";class pr extends Oo{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";class mr extends Oo{constructor(){super("twitter.com")}static credential(e,n){return ls._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mr.credential(n,r)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";async function vC(t,e){return No(t,"POST","/v1/accounts:signUp",Lr(t,e))}class us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await rn._fromIdTokenResponse(e,r,s),o=Zp(r);return new us({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Zp(r);return new us({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Zp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Qa extends Cn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Qa.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Qa(e,n,r,s)}}function gv(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qa._fromErrorAndOperation(t,i,e,r):i})}async function EC(t,e,n=!1){const r=await Qs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return us._forOperation(t,"link",r)}async function TC(t,e,n=!1){const{auth:r}=t;if($t(r.app))return Promise.reject($n(r));const s="reauthenticate";try{const i=await Qs(t,gv(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=Dh(i.idToken);oe(o,r,"internal-error");const{sub:c}=o;return oe(t.uid===c,r,"user-mismatch"),us._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&ln(r,"user-mismatch"),i}}async function _v(t,e,n=!1){if($t(t.app))return Promise.reject($n(t));const r="signIn",s=await gv(t,r,e),i=await us._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function wC(t,e){return _v(gs(t),e)}async function yv(t){const e=gs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IC(t,e,n){if($t(t.app))return Promise.reject($n(t));const r=gs(t),o=await Su(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vC).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&yv(t),l}),c=await us._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function AC(t,e,n){return $t(t.app)?Promise.reject($n(t)):wC(ze(t),ri.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yv(t),r})}async function bC(t,e){return Yn(t,"POST","/v1/accounts:update",e)}async function em(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ze(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Qs(r,bC(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const c=r.providerData.find(({providerId:l})=>l==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function RC(t,e,n,r){return ze(t).onIdTokenChanged(e,n,r)}function SC(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}function tm(t,e,n,r){return ze(t).onAuthStateChanged(e,n,r)}function CC(t){return ze(t).signOut()}const Ya="__sak";class vv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ya,"1"),this.storage.removeItem(Ya),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const PC=1e3,DC=10;class Ev extends vv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);zS()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,DC):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ev.type="LOCAL";const kC=Ev;class Tv extends vv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tv.type="SESSION";const wv=Tv;function NC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Lc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Lc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async u=>u(n.origin,i)),l=await NC(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lc.receivers=[];function Vh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class OC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,l)=>{const u=Vh("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const m=d;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Tn(){return window}function VC(t){Tn().location.href=t}function Iv(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function xC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MC(){return navigator?.serviceWorker?.controller||null}function LC(){return Iv()?self:null}const Av="firebaseLocalStorageDb",FC=1,Xa="firebaseLocalStorage",bv="fbase_key";class Vo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fc(t,e){return t.transaction([Xa],e?"readwrite":"readonly").objectStore(Xa)}function UC(){const t=indexedDB.deleteDatabase(Av);return new Vo(t).toPromise()}function Cu(){const t=indexedDB.open(Av,FC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xa,{keyPath:bv})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xa)?e(r):(r.close(),await UC(),e(await Cu()))})})}async function nm(t,e,n){const r=Fc(t,!0).put({[bv]:e,value:n});return new Vo(r).toPromise()}async function BC(t,e){const n=Fc(t,!1).get(e),r=await new Vo(n).toPromise();return r===void 0?null:r.value}function rm(t,e){const n=Fc(t,!0).delete(e);return new Vo(n).toPromise()}const $C=800,jC=3;class Rv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Iv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lc._getInstance(LC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xC(),!this.activeServiceWorker)return;this.sender=new OC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cu();return await nm(e,Ya,"1"),await rm(e,Ya),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nm(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Fc(s,!1).getAll();return new Vo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rv.type="LOCAL";const HC=Rv;new ko(3e4,6e4);function qC(t,e){return e?Un(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class xh extends Nh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WC(t){return _v(t.auth,new xh(t),t.bypassAuthState)}function GC(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),TC(n,new xh(t),t.bypassAuthState)}async function zC(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),EC(n,new xh(t),t.bypassAuthState)}class Sv{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WC;case"linkViaPopup":case"linkViaRedirect":return zC;case"reauthViaPopup":case"reauthViaRedirect":return GC;default:ln(this.auth,"internal-error")}}resolve(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KC=new ko(2e3,1e4);class Ms extends Sv{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Wn(this.filter.length===1,"Popup operations only handle one event");const e=Vh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(En(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KC.get())};e()}}Ms.currentPopupAction=null;const QC="pendingRedirect",Ta=new Map;class YC extends Sv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ta.get(this.auth._key());if(!e){try{const r=await XC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ta.set(this.auth._key(),e)}return this.bypassAuthState||Ta.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XC(t,e){const n=eP(e),r=ZC(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function JC(t,e){Ta.set(t._key(),e)}function ZC(t){return Un(t._redirectPersistence)}function eP(t){return Ea(QC,t.config.apiKey,t.name)}async function tP(t,e,n=!1){if($t(t.app))return Promise.reject($n(t));const r=gs(t),s=qC(r,e),o=await new YC(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const nP=600*1e3;class rP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Cv(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(En(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nP&&this.cachedEventUids.clear(),this.cachedEventUids.has(sm(e))}saveEventToCache(e){this.cachedEventUids.add(sm(e)),this.lastProcessedEventTime=Date.now()}}function sm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Cv({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cv(t);default:return!1}}async function iP(t,e={}){return Yn(t,"GET","/v1/projects",e)}const oP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aP=/^https?/;async function cP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iP(t);for(const n of e)try{if(lP(n))return}catch{}ln(t,"unauthorized-domain")}function lP(t){const e=bu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!aP.test(n))return!1;if(oP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const uP=new ko(3e4,6e4);function im(){const t=Tn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hP(t){return new Promise((e,n)=>{function r(){im(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{im(),n(En(t,"network-request-failed"))},timeout:uP.get()})}if(Tn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Tn().gapi?.load)r();else{const s=nC("iframefcb");return Tn()[s]=()=>{gapi.load?r():n(En(t,"network-request-failed"))},fv(`${tC()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw wa=null,e})}let wa=null;function fP(t){return wa=wa||hP(t),wa}const dP=new ko(5e3,15e3),pP="__/auth/iframe",mP="emulator/auth/iframe",gP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_P=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yP(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ph(e,mP):`https://${t.config.authDomain}/${pP}`,r={apiKey:e.apiKey,appName:t.name,v:ms},s=_P.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Do(r).slice(1)}`}async function vP(t){const e=await fP(t),n=Tn().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:yP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gP,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=En(t,"network-request-failed"),c=Tn().setTimeout(()=>{i(o)},dP.get());function l(){Tn().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{i(o)})}))}const EP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TP=500,wP=600,IP="_blank",AP="http://localhost";class om{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bP(t,e,n,r=TP,s=wP){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l={...EP,width:r.toString(),height:s.toString(),top:i,left:o},u=It().toLowerCase();n&&(c=iv(u)?IP:n),rv(u)&&(e=e||AP,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[g,S])=>`${m}${g}=${S},`,"");if(GS(u)&&c!=="_self")return RP(e||"",c),new om(null);const d=window.open(e||"",c,h);oe(d,t,"popup-blocked");try{d.focus()}catch{}return new om(d)}function RP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const SP="__/auth/handler",CP="emulator/auth/handler",PP=encodeURIComponent("fac");async function am(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ms,eventId:s};if(e instanceof mv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",pR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Oo){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const h of Object.keys(c))c[h]===void 0&&delete c[h];const l=await t._getAppCheckToken(),u=l?`#${PP}=${encodeURIComponent(l)}`:"";return`${DP(t)}?${Do(c).slice(1)}${u}`}function DP({config:t}){return t.emulator?Ph(t,CP):`https://${t.authDomain}/${SP}`}const Kl="webStorageSupport";class kP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wv,this._completeRedirectFn=tP,this._overrideRedirectResult=JC}async _openPopup(e,n,r,s){Wn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await am(e,n,r,bu(),s);return bP(e,i,Vh())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await am(e,n,r,bu(),s);return VC(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Wn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vP(e),r=new rP(e);return n.register("authEvent",s=>(oe(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kl,{type:Kl},s=>{const i=s?.[0]?.[Kl];i!==void 0&&n(!!i),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uv()||sv()||kh()}}const NP=kP;var cm="@firebase/auth",lm="1.11.1";class OP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xP(t){cs(new Sr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hv(t)},u=new JS(r,s,i,l);return cC(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),cs(new Sr("auth-internal",e=>{const n=gs(e.getProvider("auth").getImmediate());return(r=>new OP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vn(cm,lm,VP(t)),vn(cm,lm,"esm2020")}const MP=300,LP=jy("authIdTokenMaxAge")||MP;let um=null;const FP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LP)return;const s=n?.token;um!==s&&(um=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function UP(t=Sh()){const e=xc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aC(t,{popupRedirectResolver:NP,persistence:[HC,kC,wv]}),r=jy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=FP(i.toString());SC(n,o,()=>o(n.currentUser)),RC(n,c=>o(c))}}const s=Uy("auth");return s&&lC(n,`http://${s}`),n}function BP(){return document.getElementsByTagName("head")?.[0]??document}ZS({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=En("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",BP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xP("Browser");var hm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wr,Pv;(function(){var t;function e(T,v){function _(){}_.prototype=v.prototype,T.F=v.prototype,T.prototype=new _,T.prototype.constructor=T,T.D=function(I,b,A){for(var E=Array(arguments.length-2),de=2;de<arguments.length;de++)E[de-2]=arguments[de];return v.prototype[b].apply(I,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,v,_){_||(_=0);const I=Array(16);if(typeof v=="string")for(var b=0;b<16;++b)I[b]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(b=0;b<16;++b)I[b]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=T.g[0],_=T.g[1],b=T.g[2];let A=T.g[3],E;E=v+(A^_&(b^A))+I[0]+3614090360&4294967295,v=_+(E<<7&4294967295|E>>>25),E=A+(b^v&(_^b))+I[1]+3905402710&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(_^A&(v^_))+I[2]+606105819&4294967295,b=A+(E<<17&4294967295|E>>>15),E=_+(v^b&(A^v))+I[3]+3250441966&4294967295,_=b+(E<<22&4294967295|E>>>10),E=v+(A^_&(b^A))+I[4]+4118548399&4294967295,v=_+(E<<7&4294967295|E>>>25),E=A+(b^v&(_^b))+I[5]+1200080426&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(_^A&(v^_))+I[6]+2821735955&4294967295,b=A+(E<<17&4294967295|E>>>15),E=_+(v^b&(A^v))+I[7]+4249261313&4294967295,_=b+(E<<22&4294967295|E>>>10),E=v+(A^_&(b^A))+I[8]+1770035416&4294967295,v=_+(E<<7&4294967295|E>>>25),E=A+(b^v&(_^b))+I[9]+2336552879&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(_^A&(v^_))+I[10]+4294925233&4294967295,b=A+(E<<17&4294967295|E>>>15),E=_+(v^b&(A^v))+I[11]+2304563134&4294967295,_=b+(E<<22&4294967295|E>>>10),E=v+(A^_&(b^A))+I[12]+1804603682&4294967295,v=_+(E<<7&4294967295|E>>>25),E=A+(b^v&(_^b))+I[13]+4254626195&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(_^A&(v^_))+I[14]+2792965006&4294967295,b=A+(E<<17&4294967295|E>>>15),E=_+(v^b&(A^v))+I[15]+1236535329&4294967295,_=b+(E<<22&4294967295|E>>>10),E=v+(b^A&(_^b))+I[1]+4129170786&4294967295,v=_+(E<<5&4294967295|E>>>27),E=A+(_^b&(v^_))+I[6]+3225465664&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^_&(A^v))+I[11]+643717713&4294967295,b=A+(E<<14&4294967295|E>>>18),E=_+(A^v&(b^A))+I[0]+3921069994&4294967295,_=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(_^b))+I[5]+3593408605&4294967295,v=_+(E<<5&4294967295|E>>>27),E=A+(_^b&(v^_))+I[10]+38016083&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^_&(A^v))+I[15]+3634488961&4294967295,b=A+(E<<14&4294967295|E>>>18),E=_+(A^v&(b^A))+I[4]+3889429448&4294967295,_=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(_^b))+I[9]+568446438&4294967295,v=_+(E<<5&4294967295|E>>>27),E=A+(_^b&(v^_))+I[14]+3275163606&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^_&(A^v))+I[3]+4107603335&4294967295,b=A+(E<<14&4294967295|E>>>18),E=_+(A^v&(b^A))+I[8]+1163531501&4294967295,_=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(_^b))+I[13]+2850285829&4294967295,v=_+(E<<5&4294967295|E>>>27),E=A+(_^b&(v^_))+I[2]+4243563512&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^_&(A^v))+I[7]+1735328473&4294967295,b=A+(E<<14&4294967295|E>>>18),E=_+(A^v&(b^A))+I[12]+2368359562&4294967295,_=b+(E<<20&4294967295|E>>>12),E=v+(_^b^A)+I[5]+4294588738&4294967295,v=_+(E<<4&4294967295|E>>>28),E=A+(v^_^b)+I[8]+2272392833&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^_)+I[11]+1839030562&4294967295,b=A+(E<<16&4294967295|E>>>16),E=_+(b^A^v)+I[14]+4259657740&4294967295,_=b+(E<<23&4294967295|E>>>9),E=v+(_^b^A)+I[1]+2763975236&4294967295,v=_+(E<<4&4294967295|E>>>28),E=A+(v^_^b)+I[4]+1272893353&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^_)+I[7]+4139469664&4294967295,b=A+(E<<16&4294967295|E>>>16),E=_+(b^A^v)+I[10]+3200236656&4294967295,_=b+(E<<23&4294967295|E>>>9),E=v+(_^b^A)+I[13]+681279174&4294967295,v=_+(E<<4&4294967295|E>>>28),E=A+(v^_^b)+I[0]+3936430074&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^_)+I[3]+3572445317&4294967295,b=A+(E<<16&4294967295|E>>>16),E=_+(b^A^v)+I[6]+76029189&4294967295,_=b+(E<<23&4294967295|E>>>9),E=v+(_^b^A)+I[9]+3654602809&4294967295,v=_+(E<<4&4294967295|E>>>28),E=A+(v^_^b)+I[12]+3873151461&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^_)+I[15]+530742520&4294967295,b=A+(E<<16&4294967295|E>>>16),E=_+(b^A^v)+I[2]+3299628645&4294967295,_=b+(E<<23&4294967295|E>>>9),E=v+(b^(_|~A))+I[0]+4096336452&4294967295,v=_+(E<<6&4294967295|E>>>26),E=A+(_^(v|~b))+I[7]+1126891415&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~_))+I[14]+2878612391&4294967295,b=A+(E<<15&4294967295|E>>>17),E=_+(A^(b|~v))+I[5]+4237533241&4294967295,_=b+(E<<21&4294967295|E>>>11),E=v+(b^(_|~A))+I[12]+1700485571&4294967295,v=_+(E<<6&4294967295|E>>>26),E=A+(_^(v|~b))+I[3]+2399980690&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~_))+I[10]+4293915773&4294967295,b=A+(E<<15&4294967295|E>>>17),E=_+(A^(b|~v))+I[1]+2240044497&4294967295,_=b+(E<<21&4294967295|E>>>11),E=v+(b^(_|~A))+I[8]+1873313359&4294967295,v=_+(E<<6&4294967295|E>>>26),E=A+(_^(v|~b))+I[15]+4264355552&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~_))+I[6]+2734768916&4294967295,b=A+(E<<15&4294967295|E>>>17),E=_+(A^(b|~v))+I[13]+1309151649&4294967295,_=b+(E<<21&4294967295|E>>>11),E=v+(b^(_|~A))+I[4]+4149444226&4294967295,v=_+(E<<6&4294967295|E>>>26),E=A+(_^(v|~b))+I[11]+3174756917&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~_))+I[2]+718787259&4294967295,b=A+(E<<15&4294967295|E>>>17),E=_+(A^(b|~v))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+A&4294967295}r.prototype.v=function(T,v){v===void 0&&(v=T.length);const _=v-this.blockSize,I=this.C;let b=this.h,A=0;for(;A<v;){if(b==0)for(;A<=_;)s(this,T,A),A+=this.blockSize;if(typeof T=="string"){for(;A<v;)if(I[b++]=T.charCodeAt(A++),b==this.blockSize){s(this,I),b=0;break}}else for(;A<v;)if(I[b++]=T[A++],b==this.blockSize){s(this,I),b=0;break}}this.h=b,this.o+=v},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;v=this.o*8;for(var _=T.length-8;_<T.length;++_)T[_]=v&255,v/=256;for(this.v(T),T=Array(16),v=0,_=0;_<4;++_)for(let I=0;I<32;I+=8)T[v++]=this.g[_]>>>I&255;return T};function i(T,v){var _=c;return Object.prototype.hasOwnProperty.call(_,T)?_[T]:_[T]=v(T)}function o(T,v){this.h=v;const _=[];let I=!0;for(let b=T.length-1;b>=0;b--){const A=T[b]|0;I&&A==v||(_[b]=A,I=!1)}this.g=_}var c={};function l(T){return-128<=T&&T<128?i(T,function(v){return new o([v|0],v<0?-1:0)}):new o([T|0],T<0?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(T<0)return k(u(-T));const v=[];let _=1;for(let I=0;T>=_;I++)v[I]=T/_|0,_*=4294967296;return new o(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return k(h(T.substring(1),v));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=u(Math.pow(v,8));let I=d;for(let A=0;A<T.length;A+=8){var b=Math.min(8,T.length-A);const E=parseInt(T.substring(A,A+b),v);b<8?(b=u(Math.pow(v,b)),I=I.j(b).add(u(E))):(I=I.j(_),I=I.add(u(E)))}return I}var d=l(0),m=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(P(this))return-k(this).m();let T=0,v=1;for(let _=0;_<this.g.length;_++){const I=this.i(_);T+=(I>=0?I:4294967296+I)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(P(this))return"-"+k(this).toString(T);const v=u(Math.pow(T,6));var _=this;let I="";for(;;){const b=B(_,v).g;_=C(_,b.j(v));let A=((_.g.length>0?_.g[0]:_.h)>>>0).toString(T);if(_=b,S(_))return A+I;for(;A.length<6;)A="0"+A;I=A+I}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(let v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function P(T){return T.h==-1}t.l=function(T){return T=C(this,T),P(T)?-1:S(T)?0:1};function k(T){const v=T.g.length,_=[];for(let I=0;I<v;I++)_[I]=~T.g[I];return new o(_,~T.h).add(m)}t.abs=function(){return P(this)?k(this):this},t.add=function(T){const v=Math.max(this.g.length,T.g.length),_=[];let I=0;for(let b=0;b<=v;b++){let A=I+(this.i(b)&65535)+(T.i(b)&65535),E=(A>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);I=E>>>16,A&=65535,E&=65535,_[b]=E<<16|A}return new o(_,_[_.length-1]&-2147483648?-1:0)};function C(T,v){return T.add(k(v))}t.j=function(T){if(S(this)||S(T))return d;if(P(this))return P(T)?k(this).j(k(T)):k(k(this).j(T));if(P(T))return k(this.j(k(T)));if(this.l(g)<0&&T.l(g)<0)return u(this.m()*T.m());const v=this.g.length+T.g.length,_=[];for(var I=0;I<2*v;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(let b=0;b<T.g.length;b++){const A=this.i(I)>>>16,E=this.i(I)&65535,de=T.i(b)>>>16,xe=T.i(b)&65535;_[2*I+2*b]+=E*xe,O(_,2*I+2*b),_[2*I+2*b+1]+=A*xe,O(_,2*I+2*b+1),_[2*I+2*b+1]+=E*de,O(_,2*I+2*b+1),_[2*I+2*b+2]+=A*de,O(_,2*I+2*b+2)}for(T=0;T<v;T++)_[T]=_[2*T+1]<<16|_[2*T];for(T=v;T<2*v;T++)_[T]=0;return new o(_,0)};function O(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function x(T,v){this.g=T,this.h=v}function B(T,v){if(S(v))throw Error("division by zero");if(S(T))return new x(d,d);if(P(T))return v=B(k(T),v),new x(k(v.g),k(v.h));if(P(v))return v=B(T,k(v)),new x(k(v.g),v.h);if(T.g.length>30){if(P(T)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,I=v;I.l(T)<=0;)_=G(_),I=G(I);var b=z(_,1),A=z(I,1);for(I=z(I,2),_=z(_,2);!S(I);){var E=A.add(I);E.l(T)<=0&&(b=b.add(_),A=E),I=z(I,1),_=z(_,1)}return v=C(T,b.j(v)),new x(b,v)}for(b=d;T.l(v)>=0;){for(_=Math.max(1,Math.floor(T.m()/v.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),A=u(_),E=A.j(v);P(E)||E.l(T)>0;)_-=I,A=u(_),E=A.j(v);S(A)&&(A=m),b=b.add(A),T=C(T,E)}return new x(b,T)}t.B=function(T){return B(this,T).h},t.and=function(T){const v=Math.max(this.g.length,T.g.length),_=[];for(let I=0;I<v;I++)_[I]=this.i(I)&T.i(I);return new o(_,this.h&T.h)},t.or=function(T){const v=Math.max(this.g.length,T.g.length),_=[];for(let I=0;I<v;I++)_[I]=this.i(I)|T.i(I);return new o(_,this.h|T.h)},t.xor=function(T){const v=Math.max(this.g.length,T.g.length),_=[];for(let I=0;I<v;I++)_[I]=this.i(I)^T.i(I);return new o(_,this.h^T.h)};function G(T){const v=T.g.length+1,_=[];for(let I=0;I<v;I++)_[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(_,T.h)}function z(T,v){const _=v>>5;v%=32;const I=T.g.length-_,b=[];for(let A=0;A<I;A++)b[A]=v>0?T.i(A+_)>>>v|T.i(A+_+1)<<32-v:T.i(A+_);return new o(b,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Pv=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,wr=o}).apply(typeof hm<"u"?hm:typeof self<"u"?self:typeof window<"u"?window:{});var ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Dv,Oi,kv,Ia,Pu,Nv,Ov,Vv;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ca=="object"&&ca];for(var f=0;f<a.length;++f){var p=a[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(a,f){if(f)e:{var p=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var N=a[y];if(!(N in p))break e;p=p[N]}a=a[a.length-1],y=p[a],f=f(y),f!=y&&f!=null&&e(p,a,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(f){var p=[],y;for(y in f)Object.prototype.hasOwnProperty.call(f,y)&&p.push([y,f[y]]);return p}});var i=i||{},o=this||self;function c(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function l(a,f,p){return a.call.apply(a.bind,arguments)}function u(a,f,p){return u=l,u.apply(null,arguments)}function h(a,f){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function d(a,f){function p(){}p.prototype=f.prototype,a.Z=f.prototype,a.prototype=new p,a.prototype.constructor=a,a.Ob=function(y,N,V){for(var K=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)K[pe-2]=arguments[pe];return f.prototype[N].apply(y,K)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function g(a){const f=a.length;if(f>0){const p=Array(f);for(let y=0;y<f;y++)p[y]=a[y];return p}return[]}function S(a,f){for(let y=1;y<arguments.length;y++){const N=arguments[y];var p=typeof N;if(p=p!="object"?p:N?Array.isArray(N)?"array":p:"null",p=="array"||p=="object"&&typeof N.length=="number"){p=a.length||0;const V=N.length||0;a.length=p+V;for(let K=0;K<V;K++)a[p+K]=N[K]}else a.push(N)}}class P{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function k(a){o.setTimeout(()=>{throw a},0)}function C(){var a=T;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class O{constructor(){this.h=this.g=null}add(f,p){const y=x.get();y.set(f,p),this.h?this.h.next=y:this.g=y,this.h=y}}var x=new P(()=>new B,a=>a.reset());class B{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let G,z=!1,T=new O,v=()=>{const a=Promise.resolve(void 0);G=()=>{a.then(_)}};function _(){for(var a;a=C();){try{a.h.call(a.g)}catch(p){k(p)}var f=x;f.j(a),f.h<100&&(f.h++,a.next=f.g,f.g=a)}z=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var A=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};o.addEventListener("test",p,f),o.removeEventListener("test",p,f)}catch{}return a})();function E(a){return/^[\s\xa0]*$/.test(a)}function de(a,f){b.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,f)}d(de,b),de.prototype.init=function(a,f){const p=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget,f||(p=="mouseover"?f=a.fromElement:p=="mouseout"&&(f=a.toElement)),this.relatedTarget=f,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),be=0;function le(a,f,p,y,N){this.listener=a,this.proxy=null,this.src=f,this.type=p,this.capture=!!y,this.ha=N,this.key=++be,this.da=this.fa=!1}function me(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function nt(a,f,p){for(const y in a)f.call(p,a[y],y,a)}function zt(a,f){for(const p in a)f.call(void 0,a[p],p,a)}function At(a){const f={};for(const p in a)f[p]=a[p];return f}const Fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xt(a,f){let p,y;for(let N=1;N<arguments.length;N++){y=arguments[N];for(p in y)a[p]=y[p];for(let V=0;V<Fe.length;V++)p=Fe[V],Object.prototype.hasOwnProperty.call(y,p)&&(a[p]=y[p])}}function Mt(a){this.src=a,this.g={},this.h=0}Mt.prototype.add=function(a,f,p,y,N){const V=a.toString();a=this.g[V],a||(a=this.g[V]=[],this.h++);const K=rt(a,f,y,N);return K>-1?(f=a[K],p||(f.fa=!1)):(f=new le(f,this.src,V,!!y,N),f.fa=p,a.push(f)),f};function bt(a,f){const p=f.type;if(p in a.g){var y=a.g[p],N=Array.prototype.indexOf.call(y,f,void 0),V;(V=N>=0)&&Array.prototype.splice.call(y,N,1),V&&(me(f),a.g[p].length==0&&(delete a.g[p],a.h--))}}function rt(a,f,p,y){for(let N=0;N<a.length;++N){const V=a[N];if(!V.da&&V.listener==f&&V.capture==!!p&&V.ha==y)return N}return-1}var M="closure_lm_"+(Math.random()*1e6|0),Q={};function Y(a,f,p,y,N){if(Array.isArray(f)){for(let V=0;V<f.length;V++)Y(a,f[V],p,y,N);return null}return p=X(p),a&&a[xe]?a.J(f,p,c(y)?!!y.capture:!1,N):te(a,f,p,!1,y,N)}function te(a,f,p,y,N,V){if(!f)throw Error("Invalid event type");const K=c(N)?!!N.capture:!!N;let pe=j(a);if(pe||(a[M]=pe=new Mt(a)),p=pe.add(f,p,y,K,V),p.proxy)return p;if(y=_e(),p.proxy=y,y.src=a,y.listener=p,a.addEventListener)A||(N=K),N===void 0&&(N=!1),a.addEventListener(f.toString(),y,N);else if(a.attachEvent)a.attachEvent(D(f.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function _e(){function a(p){return f.call(a.src,a.listener,p)}const f=U;return a}function w(a,f,p,y,N){if(Array.isArray(f))for(var V=0;V<f.length;V++)w(a,f[V],p,y,N);else y=c(y)?!!y.capture:!!y,p=X(p),a&&a[xe]?(a=a.i,V=String(f).toString(),V in a.g&&(f=a.g[V],p=rt(f,p,y,N),p>-1&&(me(f[p]),Array.prototype.splice.call(f,p,1),f.length==0&&(delete a.g[V],a.h--)))):a&&(a=j(a))&&(f=a.g[f.toString()],a=-1,f&&(a=rt(f,p,y,N)),(p=a>-1?f[a]:null)&&R(p))}function R(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[xe])bt(f.i,a);else{var p=a.type,y=a.proxy;f.removeEventListener?f.removeEventListener(p,y,a.capture):f.detachEvent?f.detachEvent(D(p),y):f.addListener&&f.removeListener&&f.removeListener(y),(p=j(f))?(bt(p,a),p.h==0&&(p.src=null,f[M]=null)):me(a)}}}function D(a){return a in Q?Q[a]:Q[a]="on"+a}function U(a,f){if(a.da)a=!0;else{f=new de(f,this);const p=a.listener,y=a.ha||a.src;a.fa&&R(a),a=p.call(y,f)}return a}function j(a){return a=a[M],a instanceof Mt?a:null}var L="__closure_events_fn_"+(Math.random()*1e9>>>0);function X(a){return typeof a=="function"?a:(a[L]||(a[L]=function(f){return a.handleEvent(f)}),a[L])}function W(){I.call(this),this.i=new Mt(this),this.M=this,this.G=null}d(W,I),W.prototype[xe]=!0,W.prototype.removeEventListener=function(a,f,p,y){w(this,a,f,p,y)};function q(a,f){var p,y=a.G;if(y)for(p=[];y;y=y.G)p.push(y);if(a=a.M,y=f.type||f,typeof f=="string")f=new b(f,a);else if(f instanceof b)f.target=f.target||a;else{var N=f;f=new b(y,a),xt(f,N)}N=!0;let V,K;if(p)for(K=p.length-1;K>=0;K--)V=f.g=p[K],N=H(V,y,!0,f)&&N;if(V=f.g=a,N=H(V,y,!0,f)&&N,N=H(V,y,!1,f)&&N,p)for(K=0;K<p.length;K++)V=f.g=p[K],N=H(V,y,!1,f)&&N}W.prototype.N=function(){if(W.Z.N.call(this),this.i){var a=this.i;for(const f in a.g){const p=a.g[f];for(let y=0;y<p.length;y++)me(p[y]);delete a.g[f],a.h--}}this.G=null},W.prototype.J=function(a,f,p,y){return this.i.add(String(a),f,!1,p,y)},W.prototype.K=function(a,f,p,y){return this.i.add(String(a),f,!0,p,y)};function H(a,f,p,y){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();let N=!0;for(let V=0;V<f.length;++V){const K=f[V];if(K&&!K.da&&K.capture==p){const pe=K.listener,Je=K.ha||K.src;K.fa&&bt(a.i,K),N=pe.call(Je,y)!==!1&&N}}return N&&!y.defaultPrevented}function se(a,f){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(a,f||0)}function J(a){a.g=se(()=>{a.g=null,a.i&&(a.i=!1,J(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class re extends I{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:J(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ie(a){I.call(this),this.h=a,this.g={}}d(ie,I);var ge=[];function Pe(a){nt(a.g,function(f,p){this.g.hasOwnProperty(p)&&R(f)},a),a.g={}}ie.prototype.N=function(){ie.Z.N.call(this),Pe(this)},ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ae=o.JSON.stringify,dt=o.JSON.parse,pt=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function Lt(){}function Ft(){}var nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Es(){b.call(this,"d")}d(Es,b);function at(){b.call(this,"c")}d(at,b);var st={},li=null;function Br(){return li=li||new W}st.Ia="serverreachability";function vf(a){b.call(this,st.Ia,a)}d(vf,b);function ui(a){const f=Br();q(f,new vf(f))}st.STAT_EVENT="statevent";function Ef(a,f){b.call(this,st.STAT_EVENT,a),this.stat=f}d(Ef,b);function Rt(a){const f=Br();q(f,new Ef(f,a))}st.Ja="timingevent";function Tf(a,f){b.call(this,st.Ja,a),this.size=f}d(Tf,b);function hi(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},f)}function fi(){this.g=!0}fi.prototype.ua=function(){this.g=!1};function AT(a,f,p,y,N,V){a.info(function(){if(a.g)if(V){var K="",pe=V.split("&");for(let De=0;De<pe.length;De++){var Je=pe[De].split("=");if(Je.length>1){const it=Je[0];Je=Je[1];const fn=it.split("_");K=fn.length>=2&&fn[1]=="type"?K+(it+"="+Je+"&"):K+(it+"=redacted&")}}}else K=null;else K=V;return"XMLHTTP REQ ("+y+") [attempt "+N+"]: "+f+`
`+p+`
`+K})}function bT(a,f,p,y,N,V,K){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+N+"]: "+f+`
`+p+`
`+V+" "+K})}function Ts(a,f,p,y){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+ST(a,p)+(y?" "+y:"")})}function RT(a,f){a.info(function(){return"TIMEOUT: "+f})}fi.prototype.info=function(){};function ST(a,f){if(!a.g)return f;if(!f)return null;try{const V=JSON.parse(f);if(V){for(a=0;a<V.length;a++)if(Array.isArray(V[a])){var p=V[a];if(!(p.length<2)){var y=p[1];if(Array.isArray(y)&&!(y.length<1)){var N=y[0];if(N!="noop"&&N!="stop"&&N!="close")for(let K=1;K<y.length;K++)y[K]=""}}}}return Ae(V)}catch{return f}}var jo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},If;function cl(){}d(cl,Lt),cl.prototype.g=function(){return new XMLHttpRequest},If=new cl;function di(a){return encodeURIComponent(String(a))}function CT(a){var f=1;a=a.split(":");const p=[];for(;f>0&&a.length;)p.push(a.shift()),f--;return a.length&&p.push(a.join(":")),p}function Xn(a,f,p,y){this.j=a,this.i=f,this.l=p,this.S=y||1,this.V=new ie(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Af}function Af(){this.i=null,this.g="",this.h=!1}var bf={},ll={};function ul(a,f,p){a.M=1,a.A=qo(hn(f)),a.u=p,a.R=!0,Rf(a,null)}function Rf(a,f){a.F=Date.now(),Ho(a),a.B=hn(a.A);var p=a.B,y=a.S;Array.isArray(y)||(y=[String(y)]),Uf(p.i,"t",y),a.C=0,p=a.j.L,a.h=new Af,a.g=rd(a.j,p?f:null,!a.u),a.P>0&&(a.O=new re(u(a.Y,a,a.g),a.P)),f=a.V,p=a.g,y=a.ba;var N="readystatechange";Array.isArray(N)||(N&&(ge[0]=N.toString()),N=ge);for(let V=0;V<N.length;V++){const K=Y(p,N[V],y||f.handleEvent,!1,f.h||f);if(!K)break;f.g[K.key]=K}f=a.J?At(a.J):{},a.u?(a.v||(a.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,f)):(a.v="GET",a.g.ea(a.B,a.v,null,f)),ui(),AT(a.i,a.v,a.B,a.l,a.S,a.u)}Xn.prototype.ba=function(a){a=a.target;const f=this.O;f&&er(a)==3?f.j():this.Y(a)},Xn.prototype.Y=function(a){try{if(a==this.g)e:{const pe=er(this.g),Je=this.g.ya(),De=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||Gf(this.g)))){this.K||pe!=4||Je==7||(Je==8||De<=0?ui(3):ui(2)),hl(this);var f=this.g.ca();this.X=f;var p=PT(this);if(this.o=f==200,bT(this.i,this.v,this.B,this.l,this.S,pe,f),this.o){if(this.U&&!this.L){t:{if(this.g){var y,N=this.g;if((y=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(y)){var V=y;break t}}V=null}if(a=V)Ts(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fl(this,a);else{this.o=!1,this.m=3,Rt(12),$r(this),pi(this);break e}}if(this.R){a=!0;let it;for(;!this.K&&this.C<p.length;)if(it=DT(this,p),it==ll){pe==4&&(this.m=4,Rt(14),a=!1),Ts(this.i,this.l,null,"[Incomplete Response]");break}else if(it==bf){this.m=4,Rt(15),Ts(this.i,this.l,p,"[Invalid Chunk]"),a=!1;break}else Ts(this.i,this.l,it,null),fl(this,it);if(Sf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||p.length!=0||this.h.h||(this.m=1,Rt(16),a=!1),this.o=this.o&&a,!a)Ts(this.i,this.l,p,"[Invalid Chunked Response]"),$r(this),pi(this);else if(p.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),El(K),K.P=!0,Rt(11))}}else Ts(this.i,this.l,p,null),fl(this,p);pe==4&&$r(this),this.o&&!this.K&&(pe==4?Zf(this.j,this):(this.o=!1,Ho(this)))}else qT(this.g),f==400&&p.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),$r(this),pi(this)}}}catch{}finally{}};function PT(a){if(!Sf(a))return a.g.la();const f=Gf(a.g);if(f==="")return"";let p="";const y=f.length,N=er(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return $r(a),pi(a),"";a.h.i=new o.TextDecoder}for(let V=0;V<y;V++)a.h.h=!0,p+=a.h.i.decode(f[V],{stream:!(N&&V==y-1)});return f.length=0,a.h.g+=p,a.C=0,a.h.g}function Sf(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function DT(a,f){var p=a.C,y=f.indexOf(`
`,p);return y==-1?ll:(p=Number(f.substring(p,y)),isNaN(p)?bf:(y+=1,y+p>f.length?ll:(f=f.slice(y,y+p),a.C=y+p,f)))}Xn.prototype.cancel=function(){this.K=!0,$r(this)};function Ho(a){a.T=Date.now()+a.H,Cf(a,a.H)}function Cf(a,f){if(a.D!=null)throw Error("WatchDog timer not null");a.D=hi(u(a.aa,a),f)}function hl(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Xn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(RT(this.i,this.B),this.M!=2&&(ui(),Rt(17)),$r(this),this.m=2,pi(this)):Cf(this,this.T-a)};function pi(a){a.j.I==0||a.K||Zf(a.j,a)}function $r(a){hl(a);var f=a.O;f&&typeof f.dispose=="function"&&f.dispose(),a.O=null,Pe(a.V),a.g&&(f=a.g,a.g=null,f.abort(),f.dispose())}function fl(a,f){try{var p=a.j;if(p.I!=0&&(p.g==a||dl(p.h,a))){if(!a.L&&dl(p.h,a)&&p.I==3){try{var y=p.Ba.g.parse(f)}catch{y=null}if(Array.isArray(y)&&y.length==3){var N=y;if(N[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<a.F)Qo(p),zo(p);else break e;vl(p),Rt(18)}}else p.xa=N[1],0<p.xa-p.K&&N[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=hi(u(p.Va,p),6e3));kf(p.h)<=1&&p.ta&&(p.ta=void 0)}else Hr(p,11)}else if((a.L||p.g==a)&&Qo(p),!E(f))for(N=p.Ba.g.parse(f),f=0;f<N.length;f++){let De=N[f];const it=De[0];if(!(it<=p.K))if(p.K=it,De=De[1],p.I==2)if(De[0]=="c"){p.M=De[1],p.ba=De[2];const fn=De[3];fn!=null&&(p.ka=fn,p.j.info("VER="+p.ka));const qr=De[4];qr!=null&&(p.za=qr,p.j.info("SVER="+p.za));const tr=De[5];tr!=null&&typeof tr=="number"&&tr>0&&(y=1.5*tr,p.O=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;const nr=a.g;if(nr){const Xo=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xo){var V=y.h;V.g||Xo.indexOf("spdy")==-1&&Xo.indexOf("quic")==-1&&Xo.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(pl(V,V.h),V.h=null))}if(y.G){const Tl=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&(y.wa=Tl,Me(y.J,y.G,Tl))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-a.F,p.j.info("Handshake RTT: "+p.T+"ms")),y=p;var K=a;if(y.na=nd(y,y.L?y.ba:null,y.W),K.L){Nf(y.h,K);var pe=K,Je=y.O;Je&&(pe.H=Je),pe.D&&(hl(pe),Ho(pe)),y.g=K}else Xf(y);p.i.length>0&&Ko(p)}else De[0]!="stop"&&De[0]!="close"||Hr(p,7);else p.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Hr(p,7):yl(p):De[0]!="noop"&&p.l&&p.l.qa(De),p.A=0)}}ui(4)}catch{}}var kT=class{constructor(a,f){this.g=a,this.map=f}};function Pf(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Df(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function kf(a){return a.h?1:a.g?a.g.size:0}function dl(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function pl(a,f){a.g?a.g.add(f):a.h=f}function Nf(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Pf.prototype.cancel=function(){if(this.i=Of(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Of(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const p of a.g.values())f=f.concat(p.G);return f}return g(a.i)}var Vf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NT(a,f){if(a){a=a.split("&");for(let p=0;p<a.length;p++){const y=a[p].indexOf("=");let N,V=null;y>=0?(N=a[p].substring(0,y),V=a[p].substring(y+1)):N=a[p],f(N,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Jn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;a instanceof Jn?(this.l=a.l,mi(this,a.j),this.o=a.o,this.g=a.g,gi(this,a.u),this.h=a.h,ml(this,Bf(a.i)),this.m=a.m):a&&(f=String(a).match(Vf))?(this.l=!1,mi(this,f[1]||"",!0),this.o=_i(f[2]||""),this.g=_i(f[3]||"",!0),gi(this,f[4]),this.h=_i(f[5]||"",!0),ml(this,f[6]||"",!0),this.m=_i(f[7]||"")):(this.l=!1,this.i=new vi(null,this.l))}Jn.prototype.toString=function(){const a=[];var f=this.j;f&&a.push(yi(f,xf,!0),":");var p=this.g;return(p||f=="file")&&(a.push("//"),(f=this.o)&&a.push(yi(f,xf,!0),"@"),a.push(di(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&a.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(yi(p,p.charAt(0)=="/"?xT:VT,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",yi(p,LT)),a.join("")},Jn.prototype.resolve=function(a){const f=hn(this);let p=!!a.j;p?mi(f,a.j):p=!!a.o,p?f.o=a.o:p=!!a.g,p?f.g=a.g:p=a.u!=null;var y=a.h;if(p)gi(f,a.u);else if(p=!!a.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var N=f.h.lastIndexOf("/");N!=-1&&(y=f.h.slice(0,N+1)+y)}if(N=y,N==".."||N==".")y="";else if(N.indexOf("./")!=-1||N.indexOf("/.")!=-1){y=N.lastIndexOf("/",0)==0,N=N.split("/");const V=[];for(let K=0;K<N.length;){const pe=N[K++];pe=="."?y&&K==N.length&&V.push(""):pe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),y&&K==N.length&&V.push("")):(V.push(pe),y=!0)}y=V.join("/")}else y=N}return p?f.h=y:p=a.i.toString()!=="",p?ml(f,Bf(a.i)):p=!!a.m,p&&(f.m=a.m),f};function hn(a){return new Jn(a)}function mi(a,f,p){a.j=p?_i(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function gi(a,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);a.u=f}else a.u=null}function ml(a,f,p){f instanceof vi?(a.i=f,FT(a.i,a.l)):(p||(f=yi(f,MT)),a.i=new vi(f,a.l))}function Me(a,f,p){a.i.set(f,p)}function qo(a){return Me(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function _i(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function yi(a,f,p){return typeof a=="string"?(a=encodeURI(a).replace(f,OT),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function OT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var xf=/[#\/\?@]/g,VT=/[#\?:]/g,xT=/[#\?]/g,MT=/[#\?@]/g,LT=/#/g;function vi(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function jr(a){a.g||(a.g=new Map,a.h=0,a.i&&NT(a.i,function(f,p){a.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}t=vi.prototype,t.add=function(a,f){jr(this),this.i=null,a=ws(this,a);let p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(f),this.h+=1,this};function Mf(a,f){jr(a),f=ws(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Lf(a,f){return jr(a),f=ws(a,f),a.g.has(f)}t.forEach=function(a,f){jr(this),this.g.forEach(function(p,y){p.forEach(function(N){a.call(f,N,y,this)},this)},this)};function Ff(a,f){jr(a);let p=[];if(typeof f=="string")Lf(a,f)&&(p=p.concat(a.g.get(ws(a,f))));else for(a=Array.from(a.g.values()),f=0;f<a.length;f++)p=p.concat(a[f]);return p}t.set=function(a,f){return jr(this),this.i=null,a=ws(this,a),Lf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=Ff(this,a),a.length>0?String(a[0]):f):f};function Uf(a,f,p){Mf(a,f),p.length>0&&(a.i=null,a.g.set(ws(a,f),g(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(let y=0;y<f.length;y++){var p=f[y];const N=di(p);p=Ff(this,p);for(let V=0;V<p.length;V++){let K=N;p[V]!==""&&(K+="="+di(p[V])),a.push(K)}}return this.i=a.join("&")};function Bf(a){const f=new vi;return f.i=a.i,a.g&&(f.g=new Map(a.g),f.h=a.h),f}function ws(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function FT(a,f){f&&!a.j&&(jr(a),a.i=null,a.g.forEach(function(p,y){const N=y.toLowerCase();y!=N&&(Mf(this,y),Uf(this,N,p))},a)),a.j=f}function UT(a,f){const p=new fi;if(o.Image){const y=new Image;y.onload=h(Zn,p,"TestLoadImage: loaded",!0,f,y),y.onerror=h(Zn,p,"TestLoadImage: error",!1,f,y),y.onabort=h(Zn,p,"TestLoadImage: abort",!1,f,y),y.ontimeout=h(Zn,p,"TestLoadImage: timeout",!1,f,y),o.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else f(!1)}function BT(a,f){const p=new fi,y=new AbortController,N=setTimeout(()=>{y.abort(),Zn(p,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:y.signal}).then(V=>{clearTimeout(N),V.ok?Zn(p,"TestPingServer: ok",!0,f):Zn(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),Zn(p,"TestPingServer: error",!1,f)})}function Zn(a,f,p,y,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),y(p)}catch{}}function $T(){this.g=new pt}function gl(a){this.i=a.Sb||null,this.h=a.ab||!1}d(gl,Lt),gl.prototype.g=function(){return new Wo(this.i,this.h)};function Wo(a,f){W.call(this),this.H=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Wo,W),t=Wo.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=f,this.readyState=1,Ti(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(f.body=a),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$f(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function $f(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Ei(this):Ti(this),this.readyState==3&&$f(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Ei(this))},t.Na=function(a){this.g&&(this.response=a,Ei(this))},t.ga=function(){this.g&&Ei(this)};function Ei(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Ti(a)}t.setRequestHeader=function(a,f){this.A.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=f.next();return a.join(`\r
`)};function Ti(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function jf(a){let f="";return nt(a,function(p,y){f+=y,f+=":",f+=p,f+=`\r
`}),f}function _l(a,f,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=jf(p),typeof a=="string"?p!=null&&di(p):Me(a,f,p))}function $e(a){W.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d($e,W);var jT=/^https?$/i,HT=["POST","PUT"];t=$e.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,f,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():If.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(V){Hf(this,V);return}if(a=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var N in y)p.set(N,y[N]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const V of y.keys())p.set(V,y.get(V));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(V=>V.toLowerCase()=="content-type"),N=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(HT,f,void 0)>=0)||y||N||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,K]of p)this.g.setRequestHeader(V,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(V){Hf(this,V)}};function Hf(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.o=5,qf(a),Go(a)}function qf(a){a.A||(a.A=!0,q(a,"complete"),q(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,q(this,"complete"),q(this,"abort"),Go(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Go(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Wf(this):this.Xa())},t.Xa=function(){Wf(this)};function Wf(a){if(a.h&&typeof i<"u"){if(a.v&&er(a)==4)setTimeout(a.Ca.bind(a),0);else if(q(a,"readystatechange"),er(a)==4){a.h=!1;try{const V=a.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var y;if(y=V===0){let K=String(a.D).match(Vf)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),y=!jT.test(K?K.toLowerCase():"")}p=y}if(p)q(a,"complete"),q(a,"success");else{a.o=6;try{var N=er(a)>2?a.g.statusText:""}catch{N=""}a.l=N+" ["+a.ca()+"]",qf(a)}}finally{Go(a)}}}}function Go(a,f){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const p=a.g;a.g=null,f||q(a,"ready");try{p.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function er(a){return a.g?a.g.readyState:0}t.ca=function(){try{return er(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),dt(f)}};function Gf(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function qT(a){const f={};a=(a.g&&er(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(E(a[y]))continue;var p=CT(a[y]);const N=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const V=f[N]||[];f[N]=V,V.push(p)}zt(f,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(a,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||f}function zf(a){this.za=0,this.i=[],this.j=new fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,a),this.Za=wi("retryDelaySeedMs",1e4,a),this.Ta=wi("forwardChannelMaxRetries",2,a),this.va=wi("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Pf(a&&a.concurrentRequestLimit),this.Ba=new $T,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=zf.prototype,t.ka=8,t.I=1,t.connect=function(a,f,p,y){Rt(0),this.W=a,this.H=f||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.J=nd(this,null,this.W),Ko(this)};function yl(a){if(Kf(a),a.I==3){var f=a.V++,p=hn(a.J);if(Me(p,"SID",a.M),Me(p,"RID",f),Me(p,"TYPE","terminate"),Ii(a,p),f=new Xn(a,a.j,f),f.M=2,f.A=qo(hn(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!p&&o.Image&&(new Image().src=f.A,p=!0),p||(f.g=rd(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Ho(f)}td(a)}function zo(a){a.g&&(El(a),a.g.cancel(),a.g=null)}function Kf(a){zo(a),a.v&&(o.clearTimeout(a.v),a.v=null),Qo(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Ko(a){if(!Df(a.h)&&!a.m){a.m=!0;var f=a.Ea;G||v(),z||(G(),z=!0),T.add(f,a),a.D=0}}function WT(a,f){return kf(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=f.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=hi(u(a.Ea,a,f),ed(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const N=new Xn(this,this.j,a);let V=this.o;if(this.U&&(V?(V=At(V),xt(V,this.U)):V=this.U),this.u!==null||this.R||(N.J=V,V=null),this.S)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(f+=y,f>4096){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=Yf(this,N,f),p=hn(this.J),Me(p,"RID",a),Me(p,"CVER",22),this.G&&Me(p,"X-HTTP-Session-Id",this.G),Ii(this,p),V&&(this.R?f="headers="+di(jf(V))+"&"+f:this.u&&_l(p,this.u,V)),pl(this.h,N),this.Ra&&Me(p,"TYPE","init"),this.S?(Me(p,"$req",f),Me(p,"SID","null"),N.U=!0,ul(N,p,null)):ul(N,p,f),this.I=2}}else this.I==3&&(a?Qf(this,a):this.i.length==0||Df(this.h)||Qf(this))};function Qf(a,f){var p;f?p=f.l:p=a.V++;const y=hn(a.J);Me(y,"SID",a.M),Me(y,"RID",p),Me(y,"AID",a.K),Ii(a,y),a.u&&a.o&&_l(y,a.u,a.o),p=new Xn(a,a.j,p,a.D+1),a.u===null&&(p.J=a.o),f&&(a.i=f.G.concat(a.i)),f=Yf(a,p,1e3),p.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),pl(a.h,p),ul(p,y,f)}function Ii(a,f){a.H&&nt(a.H,function(p,y){Me(f,y,p)}),a.l&&nt({},function(p,y){Me(f,y,p)})}function Yf(a,f,p){p=Math.min(a.i.length,p);const y=a.l?u(a.l.Ka,a.l,a):null;e:{var N=a.i;let pe=-1;for(;;){const Je=["count="+p];pe==-1?p>0?(pe=N[0].g,Je.push("ofs="+pe)):pe=0:Je.push("ofs="+pe);let De=!0;for(let it=0;it<p;it++){var V=N[it].g;const fn=N[it].map;if(V-=pe,V<0)pe=Math.max(0,N[it].g-100),De=!1;else try{V="req"+V+"_"||"";try{var K=fn instanceof Map?fn:Object.entries(fn);for(const[qr,tr]of K){let nr=tr;c(tr)&&(nr=Ae(tr)),Je.push(V+qr+"="+encodeURIComponent(nr))}}catch(qr){throw Je.push(V+"type="+encodeURIComponent("_badmap")),qr}}catch{y&&y(fn)}}if(De){K=Je.join("&");break e}}K=void 0}return a=a.i.splice(0,p),f.G=a,K}function Xf(a){if(!a.g&&!a.v){a.Y=1;var f=a.Da;G||v(),z||(G(),z=!0),T.add(f,a),a.A=0}}function vl(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=hi(u(a.Da,a),ed(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,Jf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=hi(u(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),zo(this),Jf(this))};function El(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Jf(a){a.g=new Xn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var f=hn(a.na);Me(f,"RID","rpc"),Me(f,"SID",a.M),Me(f,"AID",a.K),Me(f,"CI",a.F?"0":"1"),!a.F&&a.ia&&Me(f,"TO",a.ia),Me(f,"TYPE","xmlhttp"),Ii(a,f),a.u&&a.o&&_l(f,a.u,a.o),a.O&&(a.g.H=a.O);var p=a.g;a=a.ba,p.M=1,p.A=qo(hn(f)),p.u=null,p.R=!0,Rf(p,a)}t.Va=function(){this.C!=null&&(this.C=null,zo(this),vl(this),Rt(19))};function Qo(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function Zf(a,f){var p=null;if(a.g==f){Qo(a),El(a),a.g=null;var y=2}else if(dl(a.h,f))p=f.G,Nf(a.h,f),y=1;else return;if(a.I!=0){if(f.o)if(y==1){p=f.u?f.u.length:0,f=Date.now()-f.F;var N=a.D;y=Br(),q(y,new Tf(y,p)),Ko(a)}else Xf(a);else if(N=f.m,N==3||N==0&&f.X>0||!(y==1&&WT(a,f)||y==2&&vl(a)))switch(p&&p.length>0&&(f=a.h,f.i=f.i.concat(p)),N){case 1:Hr(a,5);break;case 4:Hr(a,10);break;case 3:Hr(a,6);break;default:Hr(a,2)}}}function ed(a,f){let p=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(p*=2),p*f}function Hr(a,f){if(a.j.info("Error code "+f),f==2){var p=u(a.bb,a),y=a.Ua;const N=!y;y=new Jn(y||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||mi(y,"https"),qo(y),N?UT(y.toString(),p):BT(y.toString(),p)}else Rt(2);a.I=0,a.l&&a.l.pa(f),td(a),Kf(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function td(a){if(a.I=0,a.ja=[],a.l){const f=Of(a.h);(f.length!=0||a.i.length!=0)&&(S(a.ja,f),S(a.ja,a.i),a.h.i.length=0,g(a.i),a.i.length=0),a.l.oa()}}function nd(a,f,p){var y=p instanceof Jn?hn(p):new Jn(p);if(y.g!="")f&&(y.g=f+"."+y.g),gi(y,y.u);else{var N=o.location;y=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;const V=new Jn(null);y&&mi(V,y),f&&(V.g=f),N&&gi(V,N),p&&(V.h=p),y=V}return p=a.G,f=a.wa,p&&f&&Me(y,p,f),Me(y,"VER",a.ka),Ii(a,y),y}function rd(a,f,p){if(f&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Aa&&!a.ma?new $e(new gl({ab:p})):new $e(a.ma),f.Fa(a.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sd(){}t=sd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Yo(){}Yo.prototype.g=function(a,f){return new Ut(a,f)};function Ut(a,f){W.call(this),this.g=new zf(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(a?a["X-WebChannel-Client-Profile"]=f.sa:a={"X-WebChannel-Client-Profile":f.sa}),this.g.U=a,(a=f&&f.Qb)&&!E(a)&&(this.g.u=a),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!E(f)&&(this.g.G=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Is(this)}d(Ut,W),Ut.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){yl(this.g)},Ut.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.v&&(p={},p.__data__=Ae(a),a=p);f.i.push(new kT(f.Ya++,a)),f.I==3&&Ko(f)},Ut.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,Ut.Z.N.call(this)};function id(a){Es.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const p in f){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}d(id,Es);function od(){at.call(this),this.status=1}d(od,at);function Is(a){this.g=a}d(Is,sd),Is.prototype.ra=function(){q(this.g,"a")},Is.prototype.qa=function(a){q(this.g,new id(a))},Is.prototype.pa=function(a){q(this.g,new od)},Is.prototype.oa=function(){q(this.g,"b")},Yo.prototype.createWebChannel=Yo.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Vv=function(){return new Yo},Ov=function(){return Br()},Nv=st,Pu={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jo.NO_ERROR=0,jo.TIMEOUT=8,jo.HTTP_ERROR=6,Ia=jo,wf.COMPLETE="complete",kv=wf,Ft.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",W.prototype.listen=W.prototype.J,Oi=Ft,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,Dv=$e}).apply(typeof ca<"u"?ca:typeof self<"u"?self:typeof window<"u"?window:{});const fm="@firebase/firestore",dm="4.9.2";class _t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");let si="12.3.0";const hs=new bh("@firebase/firestore");function Ns(){return hs.logLevel}function ee(t,...e){if(hs.logLevel<=ye.DEBUG){const n=e.map(Mh);hs.debug(`Firestore (${si}): ${t}`,...n)}}function Gn(t,...e){if(hs.logLevel<=ye.ERROR){const n=e.map(Mh);hs.error(`Firestore (${si}): ${t}`,...n)}}function Ys(t,...e){if(hs.logLevel<=ye.WARN){const n=e.map(Mh);hs.warn(`Firestore (${si}): ${t}`,...n)}}function Mh(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xv(t,r,n)}function xv(t,e,n){let r=`FIRESTORE (${si}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Gn(r),new Error(r)}function Ce(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||xv(e,s,r)}function fe(t,e){return t}const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Mv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $P{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(_t.UNAUTHENTICATED)))}shutdown(){}}class jP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class HP{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ir,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},c=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>c(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ir)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new Mv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new _t(e)}}class qP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new qP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(_t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$t(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const r=i=>{i.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pm(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pm(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Lh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=zP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function Du(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Ql(s)===Ql(i)?ve(s,i):Ql(s)?1:-1}return ve(t.length,e.length)}const KP=55296,QP=57343;function Ql(t){const e=t.charCodeAt(0);return e>=KP&&e<=QP}function Xs(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}const mm="__name__";class gn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gn?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=gn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ve(e.length,n.length)}static compareSegments(e,n){const r=gn.isNumericId(e),s=gn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?gn.extractNumericId(e).compare(gn.extractNumericId(n)):Du(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wr.fromString(e.substring(4,e.length-2))}}class Ve extends gn{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Ve(n)}static emptyPath(){return new Ve([])}}const YP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends gn{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return YP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mm}static keyField(){return new ht([mm])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Z(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new Z(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ve.fromString(e))}static fromName(e){return new ne(Ve.fromString(e).popFirst(5))}static empty(){return new ne(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ve(e.slice()))}}function Lv(t,e,n){if(!n)throw new Z(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XP(t,e,n,r){if(e===!0&&r===!0)throw new Z(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gm(t){if(!ne.isDocumentKey(t))throw new Z(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _m(t){if(ne.isDocumentKey(t))throw new Z(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fv(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Uc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function Zt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uc(t);throw new Z(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Xe(t,e){const n={typeString:t};return e&&(n.value=e),n}function xo(t,e){if(!Fv(t))throw new Z(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Z(F.INVALID_ARGUMENT,n);return!0}const ym=-62135596800,vm=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*vm);return new Le(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ym)throw new Z(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vm}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xo(e,Le._jsonSchema))return new Le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ym;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:Xe("string",Le._jsonSchemaVersion),seconds:Xe("number"),nanoseconds:Xe("number")};class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Le(0,0))}static max(){return new he(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const po=-1;function JP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new Cr(s,ne.empty(),e)}function ZP(t){return new Cr(t.readTime,t.key,po)}class Cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cr(he.min(),ne.empty(),po)}static max(){return new Cr(he.max(),ne.empty(),po)}}function e1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}const t1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ii(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==t1)throw t;ee("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,r)=>{n(e)}))}static reject(e){return new $(((n,r)=>{r(e)}))}static waitFor(e){return new $(((n,r)=>{let s=0,i=0,o=!1;e.forEach((c=>{++s,c.next((()=>{++i,o&&i===s&&n()}),(l=>r(l)))})),o=!0,i===s&&n()}))}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next((s=>s?$.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new $(((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next((h=>{o[u]=h,++c,c===i&&r(o)}),(h=>s(h)))}}))}static doWhile(e,n){return new $(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function r1(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oi(t){return t.name==="IndexedDbTransactionError"}class Bc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bc.ce=-1;const Fh=-1;function $c(t){return t==null}function Ja(t){return t===0&&1/t==-1/0}function s1(t){return typeof t=="number"&&Number.isInteger(t)&&!Ja(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Uv="";function i1(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Em(e)),e=o1(t.get(n),e);return Em(e)}function o1(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Uv:n+="";break;default:n+=i}}return n}function Em(t){return t+Uv+""}function Tm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Bv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Be{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new la(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new la(this.root,e,this.comparator,!1)}getReverseIterator(){return new la(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new la(this.root,e,this.comparator,!0)}}class la{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ct.RED,this.left=s??ct.EMPTY,this.right=i??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ct(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ct.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class et{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wm(this.data.getIterator())}getIteratorFrom(e){return new wm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new et(this.comparator);return n.data=e,n}}class wm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wt{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Wt([])}unionWith(e){let n=new et(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xs(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class $v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $v("Invalid base64 string: "+i):i}})(e);return new ft(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const a1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=a1.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dr(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}const jv="server_timestamp",Hv="__type__",qv="__previous_value__",Wv="__local_write_time__";function Uh(t){return(t?.mapValue?.fields||{})[Hv]?.stringValue===jv}function jc(t){const e=t.mapValue.fields[qv];return Uh(e)?jc(e):e}function mo(t){const e=Pr(t.mapValue.fields[Wv].timestampValue);return new Le(e.seconds,e.nanos)}class c1{constructor(e,n,r,s,i,o,c,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const Za="(default)";class go{constructor(e,n){this.projectId=e,this.database=n||Za}static empty(){return new go("","")}get isDefaultDatabase(){return this.database===Za}isEqual(e){return e instanceof go&&e.projectId===this.projectId&&e.database===this.database}}const Gv="__type__",l1="__max__",ua={mapValue:{}},zv="__vector__",ec="value";function kr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uh(t)?4:h1(t)?9007199254740991:u1(t)?10:11:ae(28295,{value:t})}function Rn(t,e){if(t===e)return!0;const n=kr(t);if(n!==kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mo(t).isEqual(mo(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Pr(s.timestampValue),c=Pr(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Dr(s.bytesValue).isEqual(Dr(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Ge(s.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(s.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Ge(s.integerValue)===Ge(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ge(s.doubleValue),c=Ge(i.doubleValue);return o===c?Ja(o)===Ja(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return Xs(t.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(Tm(o)!==Tm(c))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!Rn(o[l],c[l])))return!1;return!0})(t,e);default:return ae(52216,{left:t})}}function _o(t,e){return(t.values||[]).find((n=>Rn(n,e)))!==void 0}function Js(t,e){if(t===e)return 0;const n=kr(t),r=kr(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const c=Ge(i.integerValue||i.doubleValue),l=Ge(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1})(t,e);case 3:return Im(t.timestampValue,e.timestampValue);case 4:return Im(mo(t),mo(e));case 5:return Du(t.stringValue,e.stringValue);case 6:return(function(i,o){const c=Dr(i),l=Dr(o);return c.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const c=i.split("/"),l=o.split("/");for(let u=0;u<c.length&&u<l.length;u++){const h=ve(c[u],l[u]);if(h!==0)return h}return ve(c.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const c=ve(Ge(i.latitude),Ge(o.latitude));return c!==0?c:ve(Ge(i.longitude),Ge(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Am(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const c=i.fields||{},l=o.fields||{},u=c[ec]?.arrayValue,h=l[ec]?.arrayValue,d=ve(u?.values?.length||0,h?.values?.length||0);return d!==0?d:Am(u,h)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===ua.mapValue&&o===ua.mapValue)return 0;if(i===ua.mapValue)return 1;if(o===ua.mapValue)return-1;const c=i.fields||{},l=Object.keys(c),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const m=Du(l[d],h[d]);if(m!==0)return m;const g=Js(c[l[d]],u[h[d]]);if(g!==0)return g}return ve(l.length,h.length)})(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function Im(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=Pr(t),r=Pr(e),s=ve(n.seconds,r.seconds);return s!==0?s:ve(n.nanos,r.nanos)}function Am(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Js(n[s],r[s]);if(i)return i}return ve(n.length,r.length)}function Zs(t){return ku(t)}function ku(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Pr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Dr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ku(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ku(n.fields[o])}`;return s+"}"})(t.mapValue):ae(61005,{value:t})}function Aa(t){switch(kr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jc(t);return e?16+Aa(e):16;case 5:return 2*t.stringValue.length;case 6:return Dr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Aa(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Fr(r.fields,((i,o)=>{s+=i.length+Aa(o)})),s})(t.mapValue);default:throw ae(13486,{value:t})}}function bm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nu(t){return!!t&&"integerValue"in t}function Bh(t){return!!t&&"arrayValue"in t}function Rm(t){return!!t&&"nullValue"in t}function Sm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ba(t){return!!t&&"mapValue"in t}function u1(t){return(t?.mapValue?.fields||{})[Gv]?.stringValue===zv}function Yi(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Fr(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Yi(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yi(t.arrayValue.values[n]);return e}return{...t}}function h1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===l1}class Vt{constructor(e){this.value=e}static empty(){return new Vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ba(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yi(n)}setAll(e){let n=ht.emptyPath(),r={},s=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=Yi(o):s.push(c.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ba(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ba(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Fr(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Vt(Yi(this.value))}}function Kv(t){const e=[];return Fr(t.fields,((n,r)=>{const s=new ht([n]);if(ba(r)){const i=Kv(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Wt(e)}class vt{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new vt(e,0,he.min(),he.min(),he.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,s){return new vt(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new vt(e,2,n,he.min(),he.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new vt(e,3,n,he.min(),he.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tc{constructor(e,n){this.position=e,this.inclusive=n}}function Cm(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Js(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rn(t.position[n],e.position[n]))return!1;return!0}class yo{constructor(e,n="asc"){this.field=e,this.dir=n}}function f1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Qv{}class Qe extends Qv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new p1(e,n,r):n==="array-contains"?new _1(e,r):n==="in"?new y1(e,r):n==="not-in"?new v1(e,r):n==="array-contains-any"?new E1(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new m1(e,r):new g1(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Js(n,this.value)):n!==null&&kr(this.value)===kr(n)&&this.matchesComparison(Js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class un extends Qv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new un(e,n)}matches(e){return Yv(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yv(t){return t.op==="and"}function Xv(t){return d1(t)&&Yv(t)}function d1(t){for(const e of t.filters)if(e instanceof un)return!1;return!0}function Ou(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+Zs(t.value);if(Xv(t))return t.filters.map((e=>Ou(e))).join(",");{const e=t.filters.map((n=>Ou(n))).join(",");return`${t.op}(${e})`}}function Jv(t,e){return t instanceof Qe?(function(r,s){return s instanceof Qe&&r.op===s.op&&r.field.isEqual(s.field)&&Rn(r.value,s.value)})(t,e):t instanceof un?(function(r,s){return s instanceof un&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,c)=>i&&Jv(o,s.filters[c])),!0):!1})(t,e):void ae(19439)}function Zv(t){return t instanceof Qe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zs(n.value)}`})(t):t instanceof un?(function(n){return n.op.toString()+" {"+n.getFilters().map(Zv).join(" ,")+"}"})(t):"Filter"}class p1 extends Qe{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class m1 extends Qe{constructor(e,n){super(e,"in",n),this.keys=eE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class g1 extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=eE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function eE(t,e){return(e.arrayValue?.values||[]).map((n=>ne.fromName(n.referenceValue)))}class _1 extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bh(n)&&_o(n.arrayValue,this.value)}}class y1 extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_o(this.value.arrayValue,n)}}class v1 extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_o(this.value.arrayValue,n)}}class E1 extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>_o(this.value.arrayValue,r)))}}class T1{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function Dm(t,e=null,n=[],r=[],s=null,i=null,o=null){return new T1(t,e,n,r,s,i,o)}function $h(t){const e=fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ou(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),$c(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Zs(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Zs(r))).join(",")),e.Te=n}return e.Te}function jh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!f1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Jv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pm(t.startAt,e.startAt)&&Pm(t.endAt,e.endAt)}function Vu(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class ai{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function w1(t,e,n,r,s,i,o,c){return new ai(t,e,n,r,s,i,o,c)}function Hc(t){return new ai(t)}function km(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tE(t){return t.collectionGroup!==null}function Xi(t){const e=fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new et(ht.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(c=c.add(u.field))}))})),c})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new yo(i,r))})),n.has(ht.keyField().canonicalString())||e.Ie.push(new yo(ht.keyField(),r))}return e.Ie}function wn(t){const e=fe(t);return e.Ee||(e.Ee=I1(e,Xi(t))),e.Ee}function I1(t,e){if(t.limitType==="F")return Dm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new yo(s.field,i)}));const n=t.endAt?new tc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tc(t.startAt.position,t.startAt.inclusive):null;return Dm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xu(t,e){const n=t.filters.concat([e]);return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mu(t,e,n){return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qc(t,e){return jh(wn(t),wn(e))&&t.limitType===e.limitType}function nE(t){return`${$h(wn(t))}|lt:${t.limitType}`}function Os(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>Zv(s))).join(", ")}]`),$c(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Zs(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Zs(s))).join(",")),`Target(${r})`})(wn(t))}; limitType=${t.limitType})`}function Wc(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of Xi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,c,l){const u=Cm(o,c,l);return o.inclusive?u<=0:u<0})(r.startAt,Xi(r),s)||r.endAt&&!(function(o,c,l){const u=Cm(o,c,l);return o.inclusive?u>=0:u>0})(r.endAt,Xi(r),s))})(t,e)}function A1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rE(t){return(e,n)=>{let r=!1;for(const s of Xi(t)){const i=b1(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function b1(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):(function(i,o,c){const l=o.data.field(i),u=c.data.field(i);return l!==null&&u!==null?Js(l,u):ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}class _s{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Fr(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return Bv(this.inner)}size(){return this.innerSize}}const R1=new Be(ne.comparator);function zn(){return R1}const sE=new Be(ne.comparator);function Vi(...t){let e=sE;for(const n of t)e=e.insert(n.key,n);return e}function iE(t){let e=sE;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function es(){return Ji()}function oE(){return Ji()}function Ji(){return new _s((t=>t.toString()),((t,e)=>t.isEqual(e)))}const S1=new Be(ne.comparator),C1=new et(ne.comparator);function Ee(...t){let e=C1;for(const n of t)e=e.add(n);return e}const P1=new et(ve);function D1(){return P1}function Hh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ja(e)?"-0":e}}function aE(t){return{integerValue:""+t}}function k1(t,e){return s1(e)?aE(e):Hh(t,e)}class Gc{constructor(){this._=void 0}}function N1(t,e,n){return t instanceof vo?(function(s,i){const o={fields:{[Hv]:{stringValue:jv},[Wv]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Uh(i)&&(i=jc(i)),i&&(o.fields[qv]=i),{mapValue:o}})(n,e):t instanceof Eo?lE(t,e):t instanceof To?uE(t,e):(function(s,i){const o=cE(s,i),c=Nm(o)+Nm(s.Ae);return Nu(o)&&Nu(s.Ae)?aE(c):Hh(s.serializer,c)})(t,e)}function O1(t,e,n){return t instanceof Eo?lE(t,e):t instanceof To?uE(t,e):n}function cE(t,e){return t instanceof nc?(function(r){return Nu(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class vo extends Gc{}class Eo extends Gc{constructor(e){super(),this.elements=e}}function lE(t,e){const n=hE(e);for(const r of t.elements)n.some((s=>Rn(s,r)))||n.push(r);return{arrayValue:{values:n}}}class To extends Gc{constructor(e){super(),this.elements=e}}function uE(t,e){let n=hE(e);for(const r of t.elements)n=n.filter((s=>!Rn(s,r)));return{arrayValue:{values:n}}}class nc extends Gc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Nm(t){return Ge(t.integerValue||t.doubleValue)}function hE(t){return Bh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class V1{constructor(e,n){this.field=e,this.transform=n}}function x1(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Eo&&s instanceof Eo||r instanceof To&&s instanceof To?Xs(r.elements,s.elements,Rn):r instanceof nc&&s instanceof nc?Rn(r.Ae,s.Ae):r instanceof vo&&s instanceof vo})(t.transform,e.transform)}class M1{constructor(e,n){this.version=e,this.transformResults=n}}class en{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new en}static exists(e){return new en(void 0,e)}static updateTime(e){return new en(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ra(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zc{}function fE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qh(t.key,en.none()):new Mo(t.key,t.data,en.none());{const n=t.data,r=Vt.empty();let s=new et(ht.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ur(t.key,r,new Wt(s.toArray()),en.none())}}function L1(t,e,n){t instanceof Mo?(function(s,i,o){const c=s.value.clone(),l=Vm(s.fieldTransforms,i,o.transformResults);c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Ur?(function(s,i,o){if(!Ra(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=Vm(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(dE(s)),l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Zi(t,e,n,r){return t instanceof Mo?(function(i,o,c,l){if(!Ra(i.precondition,o))return c;const u=i.value.clone(),h=xm(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ur?(function(i,o,c,l){if(!Ra(i.precondition,o))return c;const u=xm(i.fieldTransforms,l,o),h=o.data;return h.setAll(dE(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((d=>d.field)))})(t,e,n,r):(function(i,o,c){return Ra(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function F1(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=cE(r.transform,s||null);i!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,i))}return n||null}function Om(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xs(r,s,((i,o)=>x1(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mo extends zc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ur extends zc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dE(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Vm(t,e,n){const r=new Map;Ce(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,O1(o,c,n[s]))}return r}function xm(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,N1(i,o,e))}return r}class qh extends zc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U1 extends zc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class B1{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&L1(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oE();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const l=fE(o,c);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ee())}isEqual(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,((n,r)=>Om(n,r)))&&Xs(this.baseMutations,e.baseMutations,((n,r)=>Om(n,r)))}}class Wh{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return S1})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Wh(e,n,r,s)}}class $1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class j1{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ke,Ie;function H1(t){switch(t){case F.OK:return ae(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function pE(t){if(t===void 0)return Gn("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ke.OK:return F.OK;case Ke.CANCELLED:return F.CANCELLED;case Ke.UNKNOWN:return F.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return F.INTERNAL;case Ke.UNAVAILABLE:return F.UNAVAILABLE;case Ke.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ke.NOT_FOUND:return F.NOT_FOUND;case Ke.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ke.ABORTED:return F.ABORTED;case Ke.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ke.DATA_LOSS:return F.DATA_LOSS;default:return ae(39323,{code:t})}}(Ie=Ke||(Ke={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";function q1(){return new TextEncoder}const W1=new wr([4294967295,4294967295],0);function Mm(t){const e=q1().encode(t),n=new Pv;return n.update(e),new Uint8Array(n.digest())}function Lm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new wr([n,r],0),new wr([s,i],0)]}class Gh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xi(`Invalid padding: ${n}`);if(r<0)throw new xi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xi(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=wr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(wr.fromNumber(r)));return s.compare(W1)===1&&(s=new wr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Mm(e),[r,s]=Lm(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Gh(i,s,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=Mm(e),[r,s]=Lm(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Lo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kc(he.min(),s,new Be(ve),zn(),Ee())}}class Lo{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lo(r,n,Ee(),Ee(),Ee())}}class Sa{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class mE{constructor(e,n){this.targetId=e,this.Ce=n}}class gE{constructor(e,n,r=ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Fm{constructor(){this.ve=0,this.Fe=Um(),this.Me=ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}})),new Lo(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Um()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class G1{constructor(e){this.Ge=e,this.ze=new Map,this.je=zn(),this.Je=ha(),this.He=ha(),this.Ye=new Be(ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Vu(i))if(r===0){const o=new ne(i.path);this.et(n,o,vt.newNoDocument(o,he.min()))}else Ce(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),l=c?this.ct(c,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=Dr(r).toUint8Array()}catch(l){if(l instanceof $v)return Ys("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Gh(o,s,i)}catch(l){return Ys(l instanceof xi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const c=this.ot(o);if(c){if(i.current&&Vu(c.target)){const l=new ne(c.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,vt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=Ee();this.He.forEach(((i,o)=>{let c=!0;o.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new Kc(e,n,this.Ye,this.je,r);return this.je=zn(),this.Je=ha(),this.He=ha(),this.Ye=new Be(ve),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Fm,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new et(ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new et(ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Fm),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ha(){return new Be(ne.comparator)}function Um(){return new Be(ne.comparator)}const z1={asc:"ASCENDING",desc:"DESCENDING"},K1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q1={and:"AND",or:"OR"};class Y1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lu(t,e){return t.useProto3Json||$c(e)?e:{value:e}}function rc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _E(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X1(t,e){return rc(t,e.toTimestamp())}function In(t){return Ce(!!t,49232),he.fromTimestamp((function(n){const r=Pr(n);return new Le(r.seconds,r.nanos)})(t))}function zh(t,e){return Fu(t,e).canonicalString()}function Fu(t,e){const n=(function(s){return new Ve(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function yE(t){const e=Ve.fromString(t);return Ce(IE(e),10190,{key:e.toString()}),e}function Uu(t,e){return zh(t.databaseId,e.path)}function Yl(t,e){const n=yE(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(EE(n))}function vE(t,e){return zh(t.databaseId,e)}function J1(t){const e=yE(t);return e.length===4?Ve.emptyPath():EE(e)}function Bu(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EE(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Bm(t,e,n){return{name:Uu(t,e),fields:n.value.mapValue.fields}}function Z1(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(u,h){return u.useProto3Json?(Ce(h===void 0||typeof h=="string",58123),ft.fromBase64String(h||"")):(Ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ft.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(u){const h=u.code===void 0?F.UNKNOWN:pE(u.code);return new Z(h,u.message||"")})(o);n=new gE(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Yl(t,r.document.name),i=In(r.document.updateTime),o=r.document.createTime?In(r.document.createTime):he.min(),c=new Vt({mapValue:{fields:r.document.fields}}),l=vt.newFoundDocument(s,i,o,c),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Sa(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Yl(t,r.document),i=r.readTime?In(r.readTime):he.min(),o=vt.newNoDocument(s,i),c=r.removedTargetIds||[];n=new Sa([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Yl(t,r.document),i=r.removedTargetIds||[];n=new Sa([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new j1(s,i),c=r.targetId;n=new mE(c,o)}}return n}function eD(t,e){let n;if(e instanceof Mo)n={update:Bm(t,e.key,e.value)};else if(e instanceof qh)n={delete:Uu(t,e.key)};else if(e instanceof Ur)n={update:Bm(t,e.key,e.data),updateMask:lD(e.fieldMask)};else{if(!(e instanceof U1))return ae(16599,{Vt:e.type});n={verify:Uu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const c=o.transform;if(c instanceof vo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Eo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof To)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof nc)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw ae(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:X1(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)})(t,e.precondition)),n}function tD(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?In(s.updateTime):In(i);return o.isEqual(he.min())&&(o=In(i)),new M1(o,s.transformResults||[])})(n,e)))):[]}function nD(t,e){return{documents:[vE(t,e.path)]}}function rD(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vE(t,s);const i=(function(u){if(u.length!==0)return wE(un.create(u,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(u){if(u.length!==0)return u.map((h=>(function(m){return{field:Vs(m.field),direction:oD(m.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=Lu(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:s}}function sD(t){let e=J1(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ce(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=(function(d){const m=TE(d);return m instanceof un&&Xv(m)?m.getFilters():[m]})(n.where));let o=[];n.orderBy&&(o=(function(d){return d.map((m=>(function(S){return new yo(xs(S.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m)))})(n.orderBy));let c=null;n.limit&&(c=(function(d){let m;return m=typeof d=="object"?d.value:d,$c(m)?null:m})(n.limit));let l=null;n.startAt&&(l=(function(d){const m=!!d.before,g=d.values||[];return new tc(g,m)})(n.startAt));let u=null;return n.endAt&&(u=(function(d){const m=!d.before,g=d.values||[];return new tc(g,m)})(n.endAt)),w1(e,s,o,i,c,"F",l,u)}function iD(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TE(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xs(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=xs(n.unaryFilter.field);return Qe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xs(n.unaryFilter.field);return Qe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xs(n.unaryFilter.field);return Qe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qe.create(xs(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return un.create(n.compositeFilter.filters.map((r=>TE(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}})(n.compositeFilter.op))})(t):ae(30097,{filter:t})}function oD(t){return z1[t]}function aD(t){return K1[t]}function cD(t){return Q1[t]}function Vs(t){return{fieldPath:t.canonicalString()}}function xs(t){return ht.fromServerFormat(t.fieldPath)}function wE(t){return t instanceof Qe?(function(n){if(n.op==="=="){if(Sm(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NAN"}};if(Rm(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sm(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NAN"}};if(Rm(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(n.field),op:aD(n.op),value:n.value}}})(t):t instanceof un?(function(n){const r=n.getFilters().map((s=>wE(s)));return r.length===1?r[0]:{compositeFilter:{op:cD(n.op),filters:r}}})(t):ae(54877,{filter:t})}function lD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function IE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class _r{constructor(e,n,r,s,i=he.min(),o=he.min(),c=ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uD{constructor(e){this.yt=e}}function hD(t){const e=sD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mu(e,e.limit,"L"):e}class fD{constructor(){this.Cn=new dD}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Cr.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class dD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new et(Ve.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new et(Ve.comparator)).toArray()}}const $m={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AE=41943040;class Nt{static withCacheSize(e){return new Nt(e,Nt.DEFAULT_COLLECTION_PERCENTILE,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Nt.DEFAULT_COLLECTION_PERCENTILE=10,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nt.DEFAULT=new Nt(AE,Nt.DEFAULT_COLLECTION_PERCENTILE,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nt.DISABLED=new Nt(-1,0,0);class ei{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ei(0)}static cr(){return new ei(-1)}}const jm="LruGarbageCollector",pD=1048576;function Hm([t,e],[n,r]){const s=ve(t,n);return s===0?ve(e,r):s}class mD{constructor(e){this.Ir=e,this.buffer=new et(Hm),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Hm(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ee(jm,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oi(n)?ee(jm,"Ignoring IndexedDB error during garbage collection: ",n):await ii(n)}await this.Vr(3e5)}))}}class _D{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Bc.ce);const r=new mD(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve($m)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$m):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,c,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s)))).next((d=>(r=d,c=Date.now(),this.removeTargets(e,r,n)))).next((d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((d=>(u=Date.now(),Ns()<=ye.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(l-c)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d}))))}}function yD(t,e){return new _D(t,e)}class vD{constructor(){this.changes=new _s((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ED{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class TD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Zi(r.mutation,s,Wt.empty(),Le.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ee()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ee()){const s=es();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=Vi();return i.forEach(((c,l)=>{o=o.insert(c,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=es();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ee())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,s){let i=zn();const o=Ji(),c=(function(){return Ji()})();return n.forEach(((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Ur)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Zi(h.mutation,u,h.mutation.getFieldMask(),Le.now())):o.set(u.key,Wt.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((u,h)=>o.set(u,h))),n.forEach(((u,h)=>c.set(u,new ED(h,o.get(u)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Ji();let s=new Be(((o,c)=>o-c)),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Wt.empty();h=c.applyToLocalView(u,h),r.set(l,h);const d=(s.get(c.batchId)||Ee()).add(l);s=s.insert(c.batchId,d)}))})).next((()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),u=l.key,h=l.value,d=oE();h.forEach((m=>{if(!i.has(m)){const g=fE(n.get(m),r.get(m));g!==null&&d.set(m,g),i=i.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return $.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(es());let c=po,l=i;return o.next((u=>$.forEach(u,((h,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next((m=>{l=l.insert(h,m)}))))).next((()=>this.populateOverlays(e,u,i))).next((()=>this.computeViews(e,l,u,Ee()))).next((h=>({batchId:c,changes:iE(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next((r=>{let s=Vi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Vi();return this.indexManager.getCollectionParents(e,i).next((c=>$.forEach(c,(l=>{const u=(function(d,m){return new ai(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next((h=>{h.forEach(((d,m)=>{o=o.insert(d,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,vt.newInvalidDocument(h)))}));let c=Vi();return o.forEach(((l,u)=>{const h=i.get(l);h!==void 0&&Zi(h.mutation,u,Wt.empty(),Le.now()),Wc(n,u)&&(c=c.insert(l,u))})),c}))}}class wD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:In(s.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:hD(s.bundledQuery),readTime:In(s.readTime)}})(n)),$.resolve()}}class ID{constructor(){this.overlays=new Be(ne.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=es();return $.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=es(),i=n.length+1,o=new ne(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const l=c.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Be(((u,h)=>u-h));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=es(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const c=es(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,h)=>c.set(u,h))),!(c.size()>=s)););return $.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $1(n,r));let i=this.qr.get(n);i===void 0&&(i=Ee(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class AD{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}class Kh{constructor(){this.Qr=new et(ot.$r),this.Ur=new et(ot.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ot(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ne(new Ve([])),r=new ot(n,e),s=new ot(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new Ve([])),r=new ot(n,e),s=new ot(n,e+1);let i=Ee();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new ot(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||ve(e.Yr,n.Yr)}static Kr(e,n){return ve(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}class bD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new et(ot.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new B1(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.Zr=this.Zr.add(new ot(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Fh:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),s=new ot(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const c=this.Xr(o.Yr);i.push(c)})),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(ve);return n.forEach((s=>{const i=new ot(s,0),o=new ot(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(c=>{r=r.add(c.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new ot(new ne(i),0);let c=new et(ve);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(c=c.add(l.Yr)),!0)}),o),$.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,(s=>{const i=new ot(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ot(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RD{constructor(e){this.ri=e,this.docs=(function(){return new Be(ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(n))}getEntries(e,n){let r=zn();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():vt.newInvalidDocument(s))})),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=zn();const o=n.path,c=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||e1(ZP(h),r)<=0||(s.has(h.key)||Wc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}ii(e,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new SD(this)}getSize(e){return $.resolve(this.size)}}class SD extends vD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class CD{constructor(e){this.persistence=e,this.si=new _s((n=>$h(n)),jh),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new Kh,this.targetCount=0,this.ai=ei.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ei(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),$.waitFor(i).next((()=>s))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}class bE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Bc(0),this.li=!1,this.li=!0,this.hi=new AD,this.referenceDelegate=e(this),this.Pi=new CD(this),this.indexManager=new fD,this.remoteDocumentCache=(function(s){return new RD(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new uD(n),this.Ii=new wD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ID,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new bD(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const s=new PD(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class PD extends n1{constructor(e){super(),this.currentSequenceNumber=e}}class Qh{constructor(e){this.persistence=e,this.Ri=new Kh,this.Vi=null}static mi(e){return new Qh(e)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const s=ne.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,he.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class sc{constructor(e,n){this.persistence=e,this.pi=new _s((r=>i1(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=yD(this,n)}static mi(e,n){return new sc(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return $.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?$.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((c=>{c||(r++,i.removeEntry(o,he.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Aa(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yh{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Yh(e,n.fromCache,r,s)}}class DD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cR()?8:r1(It())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new DD;return this.Ss(e,n,o).next((c=>{if(i.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ns()<=ye.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Os(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ns()<=ye.DEBUG&&ee("QueryEngine","Query:",Os(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ns()<=ye.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Os(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wn(n))):$.resolve())}ys(e,n){if(km(n))return $.resolve(null);let r=wn(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Mu(n,null,"F"),r=wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=Ee(...i);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((l=>{const u=this.Ds(n,c);return this.Cs(n,u,o,l.readTime)?this.ys(e,Mu(n,null,"F")):this.vs(e,u,n,l)}))))})))))}ws(e,n,r,s){return km(n)||s.isEqual(he.min())?$.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(Ns()<=ye.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Os(n)),this.vs(e,o,n,JP(s,po)).next((c=>c)))}))}Ds(e,n){let r=new et(rE(e));return n.forEach(((s,i)=>{Wc(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ns()<=ye.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Os(n)),this.ps.getDocumentsMatchingQuery(e,n,Cr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const Xh="LocalStore",ND=3e8;class OD{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Be(ve),this.xs=new _s((i=>$h(i)),jh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function VD(t,e,n,r){return new OD(t,e,n,r)}async function RE(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],c=[];let l=Ee();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){c.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:c})))}))}))}function xD(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,l,u,h){const d=u.batch,m=d.keys();let g=$.resolve();return m.forEach((S=>{g=g.next((()=>h.getEntry(l,S))).next((P=>{const k=u.docVersions.get(S);Ce(k!==null,48541),P.version.compareTo(k)<0&&(d.applyToRemoteDocument(P,u),P.isValidDocument()&&(P.setReadTime(u.commitVersion),h.addEntry(P)))}))})),g.next((()=>c.mutationQueue.removeMutationBatch(l,d)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let l=Ee();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function SE(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function MD(t,e){const n=fe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach(((h,d)=>{const m=s.get(d);if(!m)return;c.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,d).next((()=>n.Pi.addMatchingKeys(i,h.addedDocuments,d))));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(ft.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(d,g),(function(P,k,C){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=ND?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(m,g,h)&&c.push(n.Pi.updateTargetData(i,g))}));let l=zn(),u=Ee();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))})),c.push(LD(i,o,e.documentUpdates).next((h=>{l=h.ks,u=h.qs}))),!r.isEqual(he.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next((d=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));c.push(h)}return $.waitFor(c).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,l,u))).next((()=>l))})).then((i=>(n.Ms=s,i)))}function LD(t,e,n){let r=Ee(),s=Ee();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=zn();return n.forEach(((c,l)=>{const u=i.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(c)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):ee(Xh,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function FD(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Fh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function UD(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new _r(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function $u(t,e,n){const r=fe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!oi(o))throw o;ee(Xh,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function qm(t,e,n){const r=fe(t);let s=he.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,h){const d=fe(l),m=d.xs.get(h);return m!==void 0?$.resolve(d.Ms.get(m)):d.Pi.getTargetData(u,h)})(r,o,wn(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?i:Ee()))).next((c=>(BD(r,A1(e),c),{documents:c,Qs:i})))))}function BD(t,e,n){let r=t.Os.get(e)||he.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class Wm{constructor(){this.activeTargetIds=D1()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $D{constructor(){this.Mo=new Wm,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jD{Oo(e){}shutdown(){}}const Gm="ConnectivityMonitor";class zm{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ee(Gm,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ee(Gm,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let fa=null;function ju(){return fa===null?fa=(function(){return 268435456+Math.round(2147483648*Math.random())})():fa++,"0x"+fa.toString(16)}const Xl="RestConnection",HD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Za?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=ju(),c=this.zo(e,n.toUriEncodedString());ee(Xl,`Sending RPC '${e}' ${o}:`,c,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(c),h=ps(u);return this.Jo(e,c,l,r,h).then((d=>(ee(Xl,`Received RPC '${e}' ${o}: `,d),d)),(d=>{throw Ys(Xl,`RPC '${e}' ${o} failed with error: `,d,"url: ",c,"request:",r),d}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+si})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=HD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class WD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const mt="WebChannelConnection";class GD extends qD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=ju();return new Promise(((c,l)=>{const u=new Dv;u.setWithCredentials(!0),u.listenOnce(kv.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Ia.NO_ERROR:const d=u.getResponseJson();ee(mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),c(d);break;case Ia.TIMEOUT:ee(mt,`RPC '${e}' ${o} timed out`),l(new Z(F.DEADLINE_EXCEEDED,"Request time out"));break;case Ia.HTTP_ERROR:const m=u.getStatus();if(ee(mt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g?.error;if(S&&S.status&&S.message){const P=(function(C){const O=C.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(O)>=0?O:F.UNKNOWN})(S.status);l(new Z(P,S.message))}else l(new Z(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Z(F.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ee(mt,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(s);ee(mt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)}))}T_(e,n,r){const s=ju(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vv(),c=Ov(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ee(mt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let m=!1,g=!1;const S=new WD({Yo:k=>{g?ee(mt,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(m||(ee(mt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),m=!0),ee(mt,`RPC '${e}' stream ${s} sending:`,k),d.send(k))},Zo:()=>d.close()}),P=(k,C,O)=>{k.listen(C,(x=>{try{O(x)}catch(B){setTimeout((()=>{throw B}),0)}}))};return P(d,Oi.EventType.OPEN,(()=>{g||(ee(mt,`RPC '${e}' stream ${s} transport opened.`),S.o_())})),P(d,Oi.EventType.CLOSE,(()=>{g||(g=!0,ee(mt,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(d))})),P(d,Oi.EventType.ERROR,(k=>{g||(g=!0,Ys(mt,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),S.a_(new Z(F.UNAVAILABLE,"The operation could not be completed")))})),P(d,Oi.EventType.MESSAGE,(k=>{if(!g){const C=k.data[0];Ce(!!C,16349);const O=C,x=O?.error||O[0]?.error;if(x){ee(mt,`RPC '${e}' stream ${s} received error:`,x);const B=x.status;let G=(function(v){const _=Ke[v];if(_!==void 0)return pE(_)})(B),z=x.message;G===void 0&&(G=F.INTERNAL,z="Unknown error status: "+B+" with message "+x.message),g=!0,S.a_(new Z(G,z)),d.close()}else ee(mt,`RPC '${e}' stream ${s} received:`,C),S.u_(C)}})),P(c,Nv.STAT_EVENT,(k=>{k.stat===Pu.PROXY?ee(mt,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Pu.NOPROXY&&ee(mt,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Jl(){return typeof document<"u"?document:null}function Qc(t){return new Y1(t,!0)}class CE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Km="PersistentStream";class PE{constructor(e,n,r,s,i,o,c,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Gn(n.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new Z(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ee(Km,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ee(Km,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zD extends PE{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Z1(this.serializer,e),r=(function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?In(o.readTime):he.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Bu(this.serializer),n.addTarget=(function(i,o){let c;const l=o.target;if(c=Vu(l)?{documents:nD(i,l)}:{query:rD(i,l).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=_E(i,o.resumeToken);const u=Lu(i,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(he.min())>0){c.readTime=rc(i,o.snapshotVersion.toTimestamp());const u=Lu(i,o.expectedCount);u!==null&&(c.expectedCount=u)}return c})(this.serializer,e);const r=iD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Bu(this.serializer),n.removeTarget=e,this.q_(n)}}class KD extends PE{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tD(e.writeResults,e.commitTime),r=In(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Bu(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>eD(this.serializer,r)))};this.q_(n)}}class QD{}class YD extends QD{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Z(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,Fu(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(F.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,Fu(n,r),s,o,c,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(F.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gn(n),this.aa=!1):ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fs="RemoteStore";class JD{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{ys(this)&&(ee(fs,"Restarting streams for network reachability change."),await(async function(l){const u=fe(l);u.Ea.add(4),await Fo(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Yc(u)})(this))}))})),this.Ra=new XD(r,s)}}async function Yc(t){if(ys(t))for(const e of t.da)await e(!0)}async function Fo(t){for(const e of t.da)await e(!1)}function DE(t,e){const n=fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tf(n)?ef(n):ci(n).O_()&&Zh(n,e))}function Jh(t,e){const n=fe(t),r=ci(n);n.Ia.delete(e),r.O_()&&kE(n,e),n.Ia.size===0&&(r.O_()?r.L_():ys(n)&&n.Ra.set("Unknown"))}function Zh(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ci(t).Y_(e)}function kE(t,e){t.Va.Ue(e),ci(t).Z_(e)}function ef(t){t.Va=new G1({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ci(t).start(),t.Ra.ua()}function tf(t){return ys(t)&&!ci(t).x_()&&t.Ia.size>0}function ys(t){return fe(t).Ea.size===0}function NE(t){t.Va=void 0}async function ZD(t){t.Ra.set("Online")}async function ek(t){t.Ia.forEach(((e,n)=>{Zh(t,e)}))}async function tk(t,e){NE(t),tf(t)?(t.Ra.ha(e),ef(t)):t.Ra.set("Unknown")}async function nk(t,e,n){if(t.Ra.set("Online"),e instanceof gE&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.Ia.delete(c),s.Va.removeTarget(c))})(t,e)}catch(r){ee(fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ic(t,r)}else if(e instanceof Sa?t.Va.Ze(e):e instanceof mE?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const r=await SE(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const c=i.Va.Tt(o);return c.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(l.resumeToken,o))}})),c.targetMismatches.forEach(((l,u)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(ft.EMPTY_BYTE_STRING,h.snapshotVersion)),kE(i,l);const d=new _r(h.target,l,u,h.sequenceNumber);Zh(i,d)})),i.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ee(fs,"Failed to raise snapshot:",r),await ic(t,r)}}async function ic(t,e,n){if(!oi(e))throw e;t.Ea.add(1),await Fo(t),t.Ra.set("Offline"),n||(n=()=>SE(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ee(fs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yc(t)}))}function OE(t,e){return e().catch((n=>ic(t,n,e)))}async function Xc(t){const e=fe(t),n=Nr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fh;for(;rk(e);)try{const s=await FD(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,sk(e,s)}catch(s){await ic(e,s)}VE(e)&&xE(e)}function rk(t){return ys(t)&&t.Ta.length<10}function sk(t,e){t.Ta.push(e);const n=Nr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function VE(t){return ys(t)&&!Nr(t).x_()&&t.Ta.length>0}function xE(t){Nr(t).start()}async function ik(t){Nr(t).ra()}async function ok(t){const e=Nr(t);for(const n of t.Ta)e.ea(n.mutations)}async function ak(t,e,n){const r=t.Ta.shift(),s=Wh.from(r,e,n);await OE(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Xc(t)}async function ck(t,e){e&&Nr(t).X_&&await(async function(r,s){if((function(o){return H1(o)&&o!==F.ABORTED})(s.code)){const i=r.Ta.shift();Nr(r).B_(),await OE(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Xc(r)}})(t,e),VE(t)&&xE(t)}async function Qm(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),ee(fs,"RemoteStore received new credentials");const r=ys(n);n.Ea.add(3),await Fo(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yc(n)}async function lk(t,e){const n=fe(t);e?(n.Ea.delete(2),await Yc(n)):e||(n.Ea.add(2),await Fo(n),n.Ra.set("Unknown"))}function ci(t){return t.ma||(t.ma=(function(n,r,s){const i=fe(n);return i.sa(),new zD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:ZD.bind(null,t),t_:ek.bind(null,t),r_:tk.bind(null,t),H_:nk.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),tf(t)?ef(t):t.Ra.set("Unknown")):(await t.ma.stop(),NE(t))}))),t.ma}function Nr(t){return t.fa||(t.fa=(function(n,r,s){const i=fe(n);return i.sa(),new KD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ik.bind(null,t),r_:ck.bind(null,t),ta:ok.bind(null,t),na:ak.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Xc(t)):(await t.fa.stop(),t.Ta.length>0&&(ee(fs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class nf{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new nf(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rf(t,e){if(Gn("AsyncQueue",`${e}: ${t}`),oi(t))return new Z(F.UNAVAILABLE,`${e}: ${t}`);throw t}class Hs{static emptySet(e){return new Hs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Vi(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Ym{constructor(){this.ga=new Be(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ti{constructor(e,n,r,s,i,o,c,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new ti(e,n,Hs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class uk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hk{constructor(){this.queries=Xm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=fe(n),i=s.queries;s.queries=Xm(),i.forEach(((o,c)=>{for(const l of c.Sa)l.onError(r)}))})(this,new Z(F.ABORTED,"Firestore shutting down"))}}function Xm(){return new _s((t=>nE(t)),qc)}async function ME(t,e){const n=fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new uk,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=rf(o,`Initialization of query '${Os(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&sf(n)}async function LE(t,e){const n=fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fk(t,e){const n=fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.Sa)c.Fa(s)&&(r=!0);o.wa=s}}r&&sf(n)}function dk(t,e,n){const r=fe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function sf(t){t.Ca.forEach((e=>{e.next()}))}var Hu,Jm;(Jm=Hu||(Hu={})).Ma="default",Jm.Cache="cache";class FE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ti(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ti.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hu.Cache}}class UE{constructor(e){this.key=e}}class BE{constructor(e){this.key=e}}class pk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=rE(e),this.tu=new Hs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Ym,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((h,d)=>{const m=s.get(h),g=Wc(this.query,d)?d:null,S=!!m&&this.mutatedKeys.has(m.key),P=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let k=!1;m&&g?m.data.isEqual(g.data)?S!==P&&(r.track({type:3,doc:g}),k=!0):this.su(m,g)||(r.track({type:2,doc:g}),k=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(c=!0)):!m&&g?(r.track({type:0,doc:g}),k=!0):m&&!g&&(r.track({type:1,doc:m}),k=!0,(l||u)&&(c=!0)),k&&(g?(o=o.add(g),i=P?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,d)=>(function(g,S){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:k})}};return P(g)-P(S)})(h.type,d.type)||this.eu(h.doc,d.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new ti(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ym,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new BE(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new UE(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ti.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const of="SyncEngine";class mk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gk{constructor(e){this.key=e,this.hu=!1}}class _k{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new _s((c=>nE(c)),qc),this.Iu=new Map,this.Eu=new Set,this.du=new Be(ne.comparator),this.Au=new Map,this.Ru=new Kh,this.Vu={},this.mu=new Map,this.fu=ei.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yk(t,e,n=!0){const r=GE(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await $E(r,e,n,!0),s}async function vk(t,e){const n=GE(t);await $E(n,e,!0,!1)}async function $E(t,e,n,r){const s=await UD(t.localStore,wn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await Ek(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&DE(t.remoteStore,s),c}async function Ek(t,e,n,r,s){t.pu=(d,m,g)=>(async function(P,k,C,O){let x=k.view.ru(C);x.Cs&&(x=await qm(P.localStore,k.query,!1).then((({documents:T})=>k.view.ru(T,x))));const B=O&&O.targetChanges.get(k.targetId),G=O&&O.targetMismatches.get(k.targetId)!=null,z=k.view.applyChanges(x,P.isPrimaryClient,B,G);return eg(P,k.targetId,z.au),z.snapshot})(t,d,m,g);const i=await qm(t.localStore,e,!0),o=new pk(e,i.Qs),c=o.ru(i.documents),l=Lo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(c,t.isPrimaryClient,l);eg(t,n,u.au);const h=new mk(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Tk(t,e,n){const r=fe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!qc(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await $u(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Jh(r.remoteStore,s.targetId),qu(r,s.targetId)})).catch(ii)):(qu(r,s.targetId),await $u(r.localStore,s.targetId,!0))}async function wk(t,e){const n=fe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jh(n.remoteStore,r.targetId))}async function Ik(t,e,n){const r=Dk(t);try{const s=await(function(o,c){const l=fe(o),u=Le.now(),h=c.reduce(((g,S)=>g.add(S.key)),Ee());let d,m;return l.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let S=zn(),P=Ee();return l.Ns.getEntries(g,h).next((k=>{S=k,S.forEach(((C,O)=>{O.isValidDocument()||(P=P.add(C))}))})).next((()=>l.localDocuments.getOverlayedDocuments(g,S))).next((k=>{d=k;const C=[];for(const O of c){const x=F1(O,d.get(O.key).overlayedDocument);x!=null&&C.push(new Ur(O.key,x,Kv(x.value.mapValue),en.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,C,c)})).next((k=>{m=k;const C=k.applyToLocalDocumentSet(d,P);return l.documentOverlayCache.saveOverlays(g,k.batchId,C)}))})).then((()=>({batchId:m.batchId,changes:iE(d)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,c,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Be(ve)),u=u.insert(c,l),o.Vu[o.currentUser.toKey()]=u})(r,s.batchId,n),await Uo(r,s.changes),await Xc(r.remoteStore)}catch(s){const i=rf(s,"Failed to persist write");n.reject(i)}}async function jE(t,e){const n=fe(t);try{const r=await MD(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ce(o.hu,14607):s.removedDocuments.size>0&&(Ce(o.hu,42227),o.hu=!1))})),await Uo(n,r,e)}catch(r){await ii(r)}}function Zm(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const c=o.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(o,c){const l=fe(o);l.onlineState=c;let u=!1;l.queries.forEach(((h,d)=>{for(const m of d.Sa)m.va(c)&&(u=!0)})),u&&sf(l)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ak(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Be(ne.comparator);o=o.insert(i,vt.newNoDocument(i,he.min()));const c=Ee().add(i),l=new Kc(he.min(),new Map,new Be(ve),o,c);await jE(r,l),r.du=r.du.remove(i),r.Au.delete(e),af(r)}else await $u(r.localStore,e,!1).then((()=>qu(r,e,n))).catch(ii)}async function bk(t,e){const n=fe(t),r=e.batch.batchId;try{const s=await xD(n.localStore,e);qE(n,r,null),HE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uo(n,s)}catch(s){await ii(s)}}async function Rk(t,e,n){const r=fe(t);try{const s=await(function(o,c){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let h;return l.mutationQueue.lookupMutationBatch(u,c).next((d=>(Ce(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,c))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h))).next((()=>l.localDocuments.getDocuments(u,h)))}))})(r.localStore,e);qE(r,e,n),HE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uo(r,s)}catch(s){await ii(s)}}function HE(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function qE(t,e,n){const r=fe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function qu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||WE(t,r)}))}function WE(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Jh(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),af(t))}function eg(t,e,n){for(const r of n)r instanceof UE?(t.Ru.addReference(r.key,e),Sk(t,r)):r instanceof BE?(ee(of,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||WE(t,r.key)):ae(19791,{wu:r})}function Sk(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ee(of,"New document in limbo: "+n),t.Eu.add(r),af(t))}function af(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(Ve.fromString(e)),r=t.fu.next();t.Au.set(r,new gk(n)),t.du=t.du.insert(n,r),DE(t.remoteStore,new _r(wn(Hc(n.path)),r,"TargetPurposeLimboResolution",Bc.ce))}}async function Uo(t,e,n){const r=fe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,l)=>{o.push(r.pu(l,e,n).then((u=>{if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Yh.As(l.targetId,u);i.push(h)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,u){const h=fe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>$.forEach(u,(m=>$.forEach(m.Es,(g=>h.persistence.referenceDelegate.addReference(d,m.targetId,g))).next((()=>$.forEach(m.ds,(g=>h.persistence.referenceDelegate.removeReference(d,m.targetId,g)))))))))}catch(d){if(!oi(d))throw d;ee(Xh,"Failed to update sequence numbers: "+d)}for(const d of u){const m=d.targetId;if(!d.fromCache){const g=h.Ms.get(m),S=g.snapshotVersion,P=g.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(m,P)}}})(r.localStore,i))}async function Ck(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){ee(of,"User change. New user:",e.toKey());const r=await RE(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((c=>{c.forEach((l=>{l.reject(new Z(F.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uo(n,r.Ls)}}function Pk(t,e){const n=fe(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let s=Ee();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const c=n.Tu.get(o);s=s.unionWith(c.view.nu)}return s}}function GE(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ak.bind(null,e),e.Pu.H_=fk.bind(null,e.eventManager),e.Pu.yu=dk.bind(null,e.eventManager),e}function Dk(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rk.bind(null,e),e}class oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return VD(this.persistence,new kD,e.initialUser,this.serializer)}Cu(e){return new bE(Qh.mi,this.serializer)}Du(e){return new $D}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oc.provider={build:()=>new oc};class kk extends oc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ce(this.persistence.referenceDelegate instanceof sc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nt.withCacheSize(this.cacheSizeBytes):Nt.DEFAULT;return new bE((r=>sc.mi(r,n)),this.serializer)}}class Wu{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ck.bind(null,this.syncEngine),await lk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hk})()}createDatastore(e){const n=Qc(e.databaseInfo.databaseId),r=(function(i){return new GD(i)})(e.databaseInfo);return(function(i,o,c,l){return new YD(i,o,c,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,c){return new JD(r,s,i,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>Zm(this.syncEngine,n,0)),(function(){return zm.v()?new zm:new jD})())}createSyncEngine(e,n){return(function(s,i,o,c,l,u,h){const d=new _k(s,i,o,c,l,u);return h&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=fe(n);ee(fs,"RemoteStore shutting down."),r.Ea.add(5),await Fo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wu.provider={build:()=>new Wu};class zE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Or="FirestoreClient";class Nk{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=_t.UNAUTHENTICATED,this.clientId=Lh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{ee(Or,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(ee(Or,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rf(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Zl(t,e){t.asyncQueue.verifyOperationInProgress(),ee(Or,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await RE(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function tg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ok(t);ee(Or,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Qm(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>Qm(e.remoteStore,s))),t._onlineComponents=e}async function Ok(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(Or,"Using user provided OfflineComponentProvider");try{await Zl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Ys("Error using user provided cache. Falling back to memory cache: "+n),await Zl(t,new oc)}}else ee(Or,"Using default OfflineComponentProvider"),await Zl(t,new kk(void 0));return t._offlineComponents}async function KE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(Or,"Using user provided OnlineComponentProvider"),await tg(t,t._uninitializedComponentsProvider._online)):(ee(Or,"Using default OnlineComponentProvider"),await tg(t,new Wu))),t._onlineComponents}function Vk(t){return KE(t).then((e=>e.syncEngine))}async function Gu(t){const e=await KE(t),n=e.eventManager;return n.onListen=yk.bind(null,e.syncEngine),n.onUnlisten=Tk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wk.bind(null,e.syncEngine),n}function xk(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,l,u){const h=new zE({next:m=>{h.Nu(),o.enqueueAndForget((()=>LE(i,d)));const g=m.docs.has(c);!g&&m.fromCache?u.reject(new Z(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?u.reject(new Z(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new FE(Hc(c.path),h,{includeMetadataChanges:!0,qa:!0});return ME(i,d)})(await Gu(t),t.asyncQueue,e,n,r))),r.promise}function QE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const ng=new Map;const YE="firestore.googleapis.com",rg=!0;class sg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YE,this.ssl=rg}else this.host=e.host,this.ssl=e.ssl??rg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pD)throw new Z(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $P;switch(r.type){case"firstParty":return new WP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=ng.get(n);r&&(ee("ComponentProvider","Removing Datastore"),ng.delete(n),r.terminate())})(this),Promise.resolve()}}function Mk(t,e,n,r={}){t=Zt(t,Jc);const s=ps(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(Ih(`https://${c}`),Ah("Firestore",!0)),i.host!==YE&&i.host!==c&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:c,ssl:s,emulatorOptions:r};if(!as(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=_t.MOCK_USER;else{u=Hy(r.mockUserToken,t._app?.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Z(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new _t(d)}t._authCredentials=new jP(new Mv(u,h))}}class vs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class He{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xo(n,He._jsonSchema))return new He(e,r||null,new ne(Ve.fromString(n.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:Xe("string",He._jsonSchemaVersion),referencePath:Xe("string")};class Ar extends vs{constructor(e,n,r){super(e,n,Hc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new ne(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function EV(t,e,...n){if(t=ze(t),Lv("collection","path",e),t instanceof Jc){const r=Ve.fromString(e,...n);return _m(r),new Ar(t,null,r)}{if(!(t instanceof He||t instanceof Ar))throw new Z(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return _m(r),new Ar(t.firestore,null,r)}}function Mi(t,e,...n){if(t=ze(t),arguments.length===1&&(e=Lh.newId()),Lv("doc","path",e),t instanceof Jc){const r=Ve.fromString(e,...n);return gm(r),new He(t,null,new ne(r))}{if(!(t instanceof He||t instanceof Ar))throw new Z(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return gm(r),new He(t.firestore,t instanceof Ar?t.converter:null,new ne(r))}}const ig="AsyncQueue";class og{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CE(this,"async_queue_retry"),this._c=()=>{const r=Jl();r&&ee(ig,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Jl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!oi(e))throw e;ee(ig,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Gn("INTERNAL UNHANDLED ERROR: ",ag(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=nf.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&ae(47125,{Pc:ag(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ag(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function cg(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(t,["next","error","complete"])}class Vr extends Jc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new og,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new og(e),this._firestoreClient=void 0,await e}}}function Lk(t,e){const n=typeof t=="object"?t:Sh(),r=typeof t=="string"?t:Za,s=xc(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=By("firestore");i&&Mk(s,...i)}return s}function cf(t){if(t._terminated)throw new Z(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Fk(t),t._firestoreClient}function Fk(t){const e=t._freezeSettings(),n=(function(s,i,o,c){return new c1(s,i,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,QE(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Nk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}class Qt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qt(ft.fromBase64String(e))}catch(n){throw new Z(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qt(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xo(e,Qt._jsonSchema))return Qt.fromBase64String(e.bytes)}}Qt._jsonSchemaVersion="firestore/bytes/1.0",Qt._jsonSchema={type:Xe("string",Qt._jsonSchemaVersion),bytes:Xe("string")};class Zc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class el{constructor(e){this._methodName=e}}class An{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:An._jsonSchemaVersion}}static fromJSON(e){if(xo(e,An._jsonSchema))return new An(e.latitude,e.longitude)}}An._jsonSchemaVersion="firestore/geoPoint/1.0",An._jsonSchema={type:Xe("string",An._jsonSchemaVersion),latitude:Xe("number"),longitude:Xe("number")};class bn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xo(e,bn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new bn(e.vectorValues);throw new Z(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bn._jsonSchemaVersion="firestore/vectorValue/1.0",bn._jsonSchema={type:Xe("string",bn._jsonSchemaVersion),vectorValues:Xe("object")};const Uk=/^__.*__$/;class Bk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mo(e,this.data,n,this.fieldTransforms)}}class XE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ur(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:t})}}class lf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ac(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JE(this.Ac)&&Uk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $k{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qc(e)}Cc(e,n,r,s=!1){return new lf({Ac:e,methodName:n,Dc:r,path:ht.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tl(t){const e=t._freezeSettings(),n=Qc(t._databaseId);return new $k(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZE(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);hf("Data must be an object, but it was:",o,r);const c=eT(r,o);let l,u;if(i.merge)l=new Wt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const m=zu(e,d,n);if(!o.contains(m))throw new Z(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);nT(h,m)||h.push(m)}l=new Wt(h),u=o.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,u=o.fieldTransforms;return new Bk(new Vt(c),l,u)}class nl extends el{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nl}}class uf extends el{_toFieldTransform(e){return new V1(e.path,new vo)}isEqual(e){return e instanceof uf}}function jk(t,e,n,r){const s=t.Cc(1,e,n);hf("Data must be an object, but it was:",s,r);const i=[],o=Vt.empty();Fr(r,((l,u)=>{const h=ff(e,l,n);u=ze(u);const d=s.yc(h);if(u instanceof nl)i.push(h);else{const m=Bo(u,d);m!=null&&(i.push(h),o.set(h,m))}}));const c=new Wt(i);return new XE(o,c,s.fieldTransforms)}function Hk(t,e,n,r,s,i){const o=t.Cc(1,e,n),c=[zu(e,r,n)],l=[s];if(i.length%2!=0)throw new Z(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)c.push(zu(e,i[m])),l.push(i[m+1]);const u=[],h=Vt.empty();for(let m=c.length-1;m>=0;--m)if(!nT(u,c[m])){const g=c[m];let S=l[m];S=ze(S);const P=o.yc(g);if(S instanceof nl)u.push(g);else{const k=Bo(S,P);k!=null&&(u.push(g),h.set(g,k))}}const d=new Wt(u);return new XE(h,d,o.fieldTransforms)}function qk(t,e,n,r=!1){return Bo(n,t.Cc(r?4:3,e))}function Bo(t,e){if(tT(t=ze(t)))return hf("Unsupported field value:",e,t),eT(t,e);if(t instanceof el)return(function(r,s){if(!JE(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const c of r){let l=Bo(c,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return k1(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Le.fromDate(r);return{timestampValue:rc(s.serializer,i)}}if(r instanceof Le){const i=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rc(s.serializer,i)}}if(r instanceof An)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qt)return{bytesValue:_E(s.serializer,r._byteString)};if(r instanceof He){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zh(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof bn)return(function(o,c){return{mapValue:{fields:{[Gv]:{stringValue:zv},[ec]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw c.Sc("VectorValues must only contain numeric values.");return Hh(c.serializer,u)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Uc(r)}`)})(t,e)}function eT(t,e){const n={};return Bv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fr(t,((r,s)=>{const i=Bo(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function tT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof An||t instanceof Qt||t instanceof He||t instanceof el||t instanceof bn)}function hf(t,e,n){if(!tT(n)||!Fv(n)){const r=Uc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function zu(t,e,n){if((e=ze(e))instanceof Zc)return e._internalPath;if(typeof e=="string")return ff(t,e);throw ac("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wk=new RegExp("[~\\*/\\[\\]]");function ff(t,e,n){if(e.search(Wk)>=0)throw ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zc(...e.split("."))._internalPath}catch{throw ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ac(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Z(F.INVALID_ARGUMENT,c+t+l)}function nT(t,e){return t.some((n=>n.isEqual(e)))}class rT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gk extends rT{data(){return super.data()}}function rl(t,e){return typeof e=="string"?ff(t,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}function zk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class df{}class sT extends df{}function TV(t,e,...n){let r=[];e instanceof df&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((l=>l instanceof pf)).length,c=i.filter((l=>l instanceof sl)).length;if(o>1||o>0&&c>0)throw new Z(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class sl extends sT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sl(e,n,r)}_apply(e){const n=this._parse(e);return iT(e._query,n),new vs(e.firestore,e.converter,xu(e._query,n))}_parse(e){const n=tl(e.firestore);return(function(i,o,c,l,u,h,d){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Z(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ug(d,h);const S=[];for(const P of d)S.push(lg(l,i,P));m={arrayValue:{values:S}}}else m=lg(l,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ug(d,h),m=qk(c,o,d,h==="in"||h==="not-in");return Qe.create(u,h,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wV(t,e,n){const r=e,s=rl("where",t);return sl._create(s,r,n)}class pf extends df{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pf(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:un.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const c=i.getFlattenedFilters();for(const l of c)iT(o,l),o=xu(o,l)})(e._query,n),new vs(e.firestore,e.converter,xu(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mf extends sT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mf(e,n)}_apply(e){const n=(function(s,i,o){if(s.startAt!==null)throw new Z(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Z(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yo(i,o)})(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new ai(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function IV(t,e="asc"){const n=e,r=rl("orderBy",t);return mf._create(r,n)}function lg(t,e,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new Z(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tE(e)&&n.indexOf("/")!==-1)throw new Z(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!ne.isDocumentKey(r))throw new Z(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bm(t,new ne(r))}if(n instanceof He)return bm(t,n._key);throw new Z(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uc(n)}.`)}function ug(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iT(t,e){const n=(function(s,i){for(const o of s)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Z(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Kk{convertValue(e,n="none"){switch(kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fr(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[ec].arrayValue?.values?.map((r=>Ge(r.doubleValue)));return new bn(n)}convertGeoPoint(e){return new An(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mo(e));default:return null}}convertTimestamp(e){const n=Pr(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Ce(IE(r),9688,{name:e});const s=new go(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||Gn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function oT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Li{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ss extends rT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ss._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ss._jsonSchemaVersion="firestore/documentSnapshot/1.0",ss._jsonSchema={type:Xe("string",ss._jsonSchemaVersion),bundleSource:Xe("string","DocumentSnapshot"),bundleName:Xe("string"),bundle:Xe("string")};class Ca extends ss{data(e={}){return super.data(e)}}class qs{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Li(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ca(this._firestore,this._userDataWriter,r.key,r,new Li(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((c=>{const l=new Ca(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Li(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const l=new Ca(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Li(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:Qk(c.type),doc:l,oldIndex:u,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Qk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}function Yk(t){t=Zt(t,He);const e=Zt(t.firestore,Vr);return xk(cf(e),t._key).then((n=>cT(e,t,n)))}qs._jsonSchemaVersion="firestore/querySnapshot/1.0",qs._jsonSchema={type:Xe("string",qs._jsonSchemaVersion),bundleSource:Xe("string","QuerySnapshot"),bundleName:Xe("string"),bundle:Xe("string")};class aT extends Kk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,n)}}function hg(t,e,n){t=Zt(t,He);const r=Zt(t.firestore,Vr),s=oT(t.converter,e,n);return il(r,[ZE(tl(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,en.none())])}function Xk(t,e,n,...r){t=Zt(t,He);const s=Zt(t.firestore,Vr),i=tl(s);let o;return o=typeof(e=ze(e))=="string"||e instanceof Zc?Hk(i,"updateDoc",t._key,e,n,r):jk(i,"updateDoc",t._key,e),il(s,[o.toMutation(t._key,en.exists(!0))])}function AV(t){return il(Zt(t.firestore,Vr),[new qh(t._key,en.none())])}function bV(t,e){const n=Zt(t.firestore,Vr),r=Mi(t),s=oT(t.converter,e);return il(n,[ZE(tl(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,en.exists(!1))]).then((()=>r))}function RV(t,...e){t=ze(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||cg(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cg(e[r])){const l=e[r];e[r]=l.next?.bind(l),e[r+1]=l.error?.bind(l),e[r+2]=l.complete?.bind(l)}let i,o,c;if(t instanceof He)o=Zt(t.firestore,Vr),c=Hc(t._key.path),i={next:l=>{e[r]&&e[r](cT(o,t,l))},error:e[r+1],complete:e[r+2]};else{const l=Zt(t,vs);o=Zt(l.firestore,Vr),c=l._query;const u=new aT(o);i={next:h=>{e[r]&&e[r](new qs(o,u,l,h))},error:e[r+1],complete:e[r+2]},zk(t._query)}return(function(u,h,d,m){const g=new zE(m),S=new FE(h,g,d);return u.asyncQueue.enqueueAndForget((async()=>ME(await Gu(u),S))),()=>{g.Nu(),u.asyncQueue.enqueueAndForget((async()=>LE(await Gu(u),S)))}})(cf(o),c,s,i)}function il(t,e){return(function(r,s){const i=new Ir;return r.asyncQueue.enqueueAndForget((async()=>Ik(await Vk(r),s,i))),i.promise})(cf(t),e)}function cT(t,e,n){const r=n.docs.get(e._key),s=new aT(t);return new ss(t,s,e._key,r,new Li(n.hasPendingWrites,n.fromCache),e.converter)}function fg(){return new uf("serverTimestamp")}(function(e,n=!0){(function(s){si=s})(ms),cs(new Sr("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new Vr(new HP(r.getProvider("auth-internal")),new GP(o,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new go(u.options.projectId,h)})(o,s),o);return i={useFetchStreams:n,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),vn(fm,dm,e),vn(fm,dm,"esm2020")})();var Jk="firebase",Zk="12.6.0";vn(Jk,Zk,"app");const lT="firebasestorage.googleapis.com",eN="storageBucket",tN=120*1e3,nN=600*1e3;class Pn extends Cn{constructor(e,n,r=0){super(eu(e),`Firebase Storage: ${n} (${eu(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eu(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Sn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Sn||(Sn={}));function eu(t){return"storage/"+t}function rN(){const t="An unknown error occurred, please check the error payload for server response.";return new Pn(Sn.UNKNOWN,t)}function sN(){return new Pn(Sn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iN(){return new Pn(Sn.CANCELED,"User canceled the upload/download.")}function oN(t){return new Pn(Sn.INVALID_URL,"Invalid URL '"+t+"'.")}function aN(t){return new Pn(Sn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dg(t){return new Pn(Sn.INVALID_ARGUMENT,t)}function uT(){return new Pn(Sn.APP_DELETED,"The Firebase app was deleted.")}function cN(t){return new Pn(Sn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=sn.makeFromUrl(e,n)}catch{return new sn(e,"")}if(r.path==="")return r;throw aN(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(B){B.path_=decodeURIComponent(B.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${s}/o${m}`,"i"),S={bucket:1,path:3},P=n===lT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",C=new RegExp(`^https?://${P}/${s}/${k}`,"i"),x=[{regex:c,indices:l,postModify:i},{regex:g,indices:S,postModify:u},{regex:C,indices:{bucket:1,path:2},postModify:u}];for(let B=0;B<x.length;B++){const G=x[B],z=G.regex.exec(e);if(z){const T=z[G.indices.bucket];let v=z[G.indices.path];v||(v=""),r=new sn(T,v),G.postModify(r);break}}if(r==null)throw oN(e);return r}}class lN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function uN(t,e,n){let r=1,s=null,i=null,o=!1,c=0;function l(){return c===2}let u=!1;function h(...k){u||(u=!0,e.apply(null,k))}function d(k){s=setTimeout(()=>{s=null,t(g,l())},k)}function m(){i&&clearTimeout(i)}function g(k,...C){if(u){m();return}if(k){m(),h.call(null,k,...C);return}if(l()||o){m(),h.call(null,k,...C);return}r<64&&(r*=2);let x;c===1?(c=2,x=0):x=(r+Math.random())*1e3,d(x)}let S=!1;function P(k){S||(S=!0,m(),!u&&(s!==null?(k||(c=2),clearTimeout(s),d(0)):k||(c=1)))}return d(0),i=setTimeout(()=>{o=!0,P(!0)},n),P}function hN(t){t(!1)}function fN(t){return t!==void 0}function pg(t,e,n,r){if(r<e)throw dg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dg(`Invalid value for '${t}'. Expected ${n} or less.`)}function dN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var cc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(cc||(cc={}));function pN(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}class mN{constructor(e,n,r,s,i,o,c,l,u,h,d,m=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=d,this.retry=m,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,P)=>{this.resolve_=S,this.reject_=P,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new da(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=c=>{const l=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const c=i.getErrorCode()===cc.NO_ERROR,l=i.getStatus();if(!c||pN(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===cc.ABORT;r(!1,new da(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new da(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(c,c.getResponse());fN(l)?i(l):i()}catch(l){o(l)}else if(c!==null){const l=rN();l.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,l)):o(l)}else if(s.canceled){const l=this.appDelete_?uT():iN();o(l)}else{const l=sN();o(l)}};this.canceled_?n(!1,new da(!1,null,!0)):this.backoffId_=uN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class da{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function gN(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _N(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yN(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vN(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function EN(t,e,n,r,s,i,o=!0,c=!1){const l=dN(t.urlParams),u=t.url+l,h=Object.assign({},t.headers);return yN(h,e),gN(h,n),_N(h,i),vN(h,r),new mN(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,c)}function TN(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function wN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class lc{constructor(e,n){this._service=e,n instanceof sn?this._location=n:this._location=sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lc(e,n)}get root(){const e=new sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wN(this._location.path)}get storage(){return this._service}get parent(){const e=TN(this._location.path);if(e===null)return null;const n=new sn(this._location.bucket,e);return new lc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cN(e)}}function mg(t,e){const n=e?.[eN];return n==null?null:sn.makeFromBucketSpec(n,t)}function IN(t,e,n,r={}){t.host=`${e}:${n}`;const s=ps(e);s&&(Ih(`https://${t.host}/b`),Ah("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Hy(i,t.app.options.projectId))}class AN{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=lT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tN,this._maxUploadRetryTime=nN,this._requests=new Set,s!=null?this._bucket=sn.makeFromBucketSpec(s,this._host):this._bucket=mg(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sn.makeFromBucketSpec(this._url,e):this._bucket=mg(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lc(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new lN(uT());{const o=EN(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const gg="@firebase/storage",_g="0.14.0";const hT="storage";function bN(t=Sh(),e){t=ze(t);const r=xc(t,hT).getImmediate({identifier:e}),s=By("storage");return s&&RN(r,...s),r}function RN(t,e,n,r={}){IN(t,e,n,r)}function SN(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new AN(n,r,s,e,ms)}function CN(){cs(new Sr(hT,SN,"PUBLIC").setMultipleInstances(!0)),vn(gg,_g,""),vn(gg,_g,"esm2020")}CN();const PN={apiKey:"AIzaSyB8_zykPtKvJUOhiLywRDQcNU3s3yRhGv4",authDomain:"skewplay-nu.firebaseapp.com",projectId:"skewplay-nu",storageBucket:"skewplay-nu.firebasestorage.app",messagingSenderId:"365795393004",appId:"1:365795393004:web:62d013fb0ac7e0c52a54c9"},gf=Gy(PN),Ci=UP(gf),pa=Lk(gf);bN(gf);const fT=IA("auth",{state:()=>({user:null,profile:null,isReady:!1,error:""}),actions:{init(){tm(Ci,async t=>{this.user=t,t?await this.fetchProfile(t.uid):this.profile=null,this.isReady=!0})},waitForAuth(){return this.isReady?Promise.resolve():new Promise(t=>{const e=tm(Ci,async n=>{this.user=n,n?await this.fetchProfile(n.uid):this.profile=null,this.isReady=!0,e(),t()})})},async register(t,e,n){this.error=null;const r=await IC(Ci,t,e);n&&await em(r.user,{displayName:n}),await hg(Mi(pa,"users",r.user.uid),{email:t,displayName:n,tier:"basic",createdAt:fg(),workflows:0,datasets:0}),await this.fetchProfile(r.user.uid)},async login(t,e){this.error=null,await AC(Ci,t,e)},async logout(){await CC(Ci)},async fetchProfile(t){const e=await Yk(Mi(pa,"users",t));if(e.exists()){const n=e.data();this.profile={uid:t,...n}}else this.user&&(await hg(Mi(pa,"users",t),{email:this.user.email,displayName:this.user.displayName,tier:"basic",createdAt:fg()},{merge:!0}),this.profile={uid:t,email:this.user.email??"",displayName:this.user.displayName,tier:"basic"})},async updateProfileDetails(t){if(!this.user)return;const{displayName:e,tier:n}=t;e&&this.user.displayName!==e&&await em(this.user,{displayName:e}),await Xk(Mi(pa,"users",this.user.uid),{...e?{displayName:e}:{},...n?{tier:n}:{}}),await this.fetchProfile(this.user.uid)}}}),dT=Cb({history:ab("/"),routes:[{path:"/",name:"landing",component:()=>ir(()=>import("./LandingView-D3fzaBIL.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))},{path:"/login",name:"login",component:()=>ir(()=>import("./LoginView-CeA9fK0e.js"),__vite__mapDeps([10,2,3,4,5,6,11,12,13,14,15,16])),meta:{guestOnly:!0}},{path:"/register",name:"register",component:()=>ir(()=>import("./RegisterView-CLEzLsDC.js"),__vite__mapDeps([17,2,3,4,5,6,11,12,13,14,15,16])),meta:{guestOnly:!0}},{path:"/app",component:()=>ir(()=>import("./AppShell-BZ1qCm7n.js"),__vite__mapDeps([18,19,20,3,4,21,13,22,23,12,14,24,2,1,25])),meta:{requiresAuth:!0},children:[{path:"",name:"dashboard",component:()=>ir(()=>import("./DashboardView-Wgj8uV_Y.js"),__vite__mapDeps([26,19,20,7,3,4,5,6,8,9,21,13,22,15,16,1,27]))},{path:"datasets",name:"datasets",component:()=>ir(()=>import("./DatasetsView-CmJM2NX9.js"),__vite__mapDeps([28,19,7,3,4,5,6,21,13,22,11,12,14,29,30,31,23,24,32]))},{path:"workflows",name:"workflows",component:()=>ir(()=>import("./WorkflowsView-CdHAigO6.js"),__vite__mapDeps([33,19,20,7,3,4,5,6,21,13,22,11,12,14,29,30,31,23,24,32,1,34]))},{path:"profile",name:"profile",component:()=>ir(()=>import("./ProfileView-CSfNgC4D.js"),__vite__mapDeps([35,2,3,4,5,6,21,13,22,11,12,14,31,23,24,32,15,16]))}]}]});dT.beforeEach(async(t,e,n)=>{const r=fT();if(r.isReady||await r.waitForAuth(),t.meta.requiresAuth&&!r.user){n({name:"login"});return}if(t.meta.guestOnly&&r.user){n({name:"dashboard"});return}n()});function $o(t){const e=t.slice(-2).toUpperCase();switch(!0){case t==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case t==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(e):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(e):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(e):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(e):return{firstDay:6,firstWeekSize:1};case e==="MV":return{firstDay:5,firstWeekSize:1};case e==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function DN(t,e,n){const r=[];let s=[];const i=pT(t),o=mT(t),c=n??$o(e)?.firstDay??0,l=(i.getDay()-c+7)%7,u=(o.getDay()-c+7)%7;for(let h=0;h<l;h++){const d=new Date(i);d.setDate(d.getDate()-(l-h)),s.push(d)}for(let h=1;h<=o.getDate();h++){const d=new Date(t.getFullYear(),t.getMonth(),h);s.push(d),s.length===7&&(r.push(s),s=[])}for(let h=1;h<7-u;h++){const d=new Date(o);d.setDate(d.getDate()+h),s.push(d)}return s.length>0&&r.push(s),r}function uc(t,e,n){let r=(n??$o(e)?.firstDay??0)%7;[0,1,2,3,4,5,6].includes(r)||(r=0);const s=new Date(t);for(;s.getDay()!==r;)s.setDate(s.getDate()-1);return s}function kN(t,e){const n=new Date(t),r=(($o(e)?.firstDay??0)+6)%7;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function pT(t){return new Date(t.getFullYear(),t.getMonth(),1)}function mT(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function NN(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const ON=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function gT(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(ON.test(t))return NN(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const yg=new Date(2e3,0,2);function VN(t,e,n){const r=e??$o(t)?.firstDay??0;return wy(7).map(s=>{const i=new Date(yg);return i.setDate(yg.getDate()+r+s),new Intl.DateTimeFormat(t,{weekday:n??"narrow"}).format(i)})}function xN(t,e,n,r){const s=gT(t)??new Date,i=r?.[e];if(typeof i=="function")return i(s,e,n);let o={};switch(e){case"fullDate":o={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const c=s.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${c} ${l}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric"};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(n,o).format(s).replace(/, /g," ");case"keyboardDateTime12h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(n,o).format(s).replace(/, /g," ");case"keyboardDateTime24h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(n,o).format(s).replace(/, /g," ");default:o=i??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(s)}function MN(t,e){const n=t.toJsDate(e),r=n.getFullYear(),s=gp(String(n.getMonth()+1),2,"0"),i=gp(String(n.getDate()),2,"0");return`${r}-${s}-${i}`}function LN(t){const[e,n,r]=t.split("-").map(Number);return new Date(e,n-1,r)}function FN(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function UN(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function is(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function BN(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function $N(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function wo(t){return t.getFullYear()}function jN(t){return t.getMonth()}function HN(t,e,n,r){const s=$o(e),i=n??s?.firstDay??0,o=s?.firstWeekSize??1;return r!==void 0?qN(t,e,i,r):WN(t,e,i,o)}function qN(t,e,n,r){const s=(7+r-n)%7,i=uc(t,e,n),o=is(i,6);function c(m){return(7+new Date(m,0,1).getDay()-n)%7}let l=wo(t);l<wo(o)&&c(l+1)<=s&&l++;const u=new Date(l,0,1),h=c(l),d=h<=s?is(u,-h):is(u,7-h);return 1+fc(_f(t),Io(d),"weeks")}function WN(t,e,n,r){const s=is(uc(t,e,n),6);function i(h){const d=new Date(h,0,1);return 7-fc(d,uc(d,e,n),"days")}let o=wo(t);o<wo(s)&&i(o+1)>=r&&o++;const c=new Date(o,0,1),l=i(o),u=l>=r?is(c,l-7):is(c,l);return 1+fc(_f(t),Io(u),"weeks")}function GN(t){return t.getDate()}function zN(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function KN(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function QN(t){return t.getHours()}function YN(t){return t.getMinutes()}function XN(t){return new Date(t.getFullYear(),0,1)}function JN(t){return new Date(t.getFullYear(),11,31)}function ZN(t,e){return hc(t,e[0])&&nO(t,e[1])}function eO(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function hc(t,e){return t.getTime()>e.getTime()}function tO(t,e){return hc(Io(t),Io(e))}function nO(t,e){return t.getTime()<e.getTime()}function vg(t,e){return t.getTime()===e.getTime()}function rO(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function sO(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function iO(t,e){return t.getFullYear()===e.getFullYear()}function fc(t,e,n){const r=new Date(t),s=new Date(e);switch(n){case"years":return r.getFullYear()-s.getFullYear();case"quarters":return Math.floor((r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12)/4);case"months":return r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-s.getTime())/1e3);default:return r.getTime()-s.getTime()}}function oO(t,e){const n=new Date(t);return n.setHours(e),n}function aO(t,e){const n=new Date(t);return n.setMinutes(e),n}function cO(t,e){const n=new Date(t);return n.setMonth(e),n}function lO(t,e){const n=new Date(t);return n.setDate(e),n}function uO(t,e){const n=new Date(t);return n.setFullYear(e),n}function Io(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function _f(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class hO{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return gT(e)}toJsDate(e){return e}toISO(e){return MN(this,e)}parseISO(e){return LN(e)}addMinutes(e,n){return FN(e,n)}addHours(e,n){return UN(e,n)}addDays(e,n){return is(e,n)}addWeeks(e,n){return BN(e,n)}addMonths(e,n){return $N(e,n)}getWeekArray(e,n){const r=n!==void 0?Number(n):void 0;return DN(e,this.locale,r)}startOfWeek(e,n){const r=n!==void 0?Number(n):void 0;return uc(e,this.locale,r)}endOfWeek(e){return kN(e,this.locale)}startOfMonth(e){return pT(e)}endOfMonth(e){return mT(e)}format(e,n){return xN(e,n,this.locale,this.formats)}isEqual(e,n){return vg(e,n)}isValid(e){return eO(e)}isWithinRange(e,n){return ZN(e,n)}isAfter(e,n){return hc(e,n)}isAfterDay(e,n){return tO(e,n)}isBefore(e,n){return!hc(e,n)&&!vg(e,n)}isSameDay(e,n){return rO(e,n)}isSameMonth(e,n){return sO(e,n)}isSameYear(e,n){return iO(e,n)}setMinutes(e,n){return aO(e,n)}setHours(e,n){return oO(e,n)}setMonth(e,n){return cO(e,n)}setDate(e,n){return lO(e,n)}setYear(e,n){return uO(e,n)}getDiff(e,n,r){return fc(e,n,r)}getWeekdays(e,n){const r=e!==void 0?Number(e):void 0;return VN(this.locale,r,n)}getYear(e){return wo(e)}getMonth(e){return jN(e)}getWeek(e,n,r){const s=n!==void 0?Number(n):void 0,i=r!==void 0?Number(r):void 0;return HN(e,this.locale,s,i)}getDate(e){return GN(e)}getNextMonth(e){return zN(e)}getPreviousMonth(e){return KN(e)}getHours(e){return QN(e)}getMinutes(e){return YN(e)}startOfDay(e){return Io(e)}endOfDay(e){return _f(e)}startOfYear(e){return XN(e)}endOfYear(e){return JN(e)}}const fO=Symbol.for("vuetify:date-options"),Eg=Symbol.for("vuetify:date-adapter");function dO(t,e){const n=wt({adapter:hO,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:pO(n,e)}}function pO(t,e){const n=Ot(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return Jt(e.current,r=>{n.locale=t.locale[r]??r??n.locale}),n}const SV=["sm","md","lg","xl","xxl"],Ku=Symbol.for("vuetify:display"),Tg={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},mO=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tg;return wt(Tg,t)};function wg(t){return kt&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function Ig(t){return kt&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function Ag(t){const e=kt&&!t?window.navigator.userAgent:"ssr";function n(S){return!!e.match(S)}const r=n(/android/i),s=n(/iphone|ipad|ipod/i),i=n(/cordova/i),o=n(/electron/i),c=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),h=n(/opera/i),d=n(/win/i),m=n(/mac/i),g=n(/linux/i);return{android:r,ios:s,cordova:i,electron:o,chrome:c,edge:l,firefox:u,opera:h,win:d,mac:m,linux:g,touch:kb,ssr:e==="ssr"}}function gO(t,e){const{thresholds:n,mobileBreakpoint:r}=mO(t),s=Xt(Ig(e)),i=Xt(Ag(e)),o=Ot({}),c=Xt(wg(e));function l(){s.value=Ig(),c.value=wg()}function u(){l(),i.value=Ag()}return Rc(()=>{const h=c.value<n.sm,d=c.value<n.md&&!h,m=c.value<n.lg&&!(d||h),g=c.value<n.xl&&!(m||d||h),S=c.value<n.xxl&&!(g||m||d||h),P=c.value>=n.xxl,k=h?"xs":d?"sm":m?"md":g?"lg":S?"xl":"xxl",C=typeof r=="number"?r:n[r],O=c.value<C;o.xs=h,o.sm=d,o.md=m,o.lg=g,o.xl=S,o.xxl=P,o.smAndUp=!h,o.mdAndUp=!(h||d),o.lgAndUp=!(h||d||m),o.xlAndUp=!(h||d||m||g),o.smAndDown=!(m||g||S||P),o.mdAndDown=!(g||S||P),o.lgAndDown=!(S||P),o.xlAndDown=!P,o.name=k,o.height=s.value,o.width=c.value,o.mobile=O,o.mobileBreakpoint=r,o.platform=i.value,o.thresholds=n}),kt&&(window.addEventListener("resize",l,{passive:!0}),yc(()=>{window.removeEventListener("resize",l)},!0)),{...e_(o),update:u,ssr:!!e}}const CV=Mr({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function PV(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h0();const n=We(Ku);if(!n)throw new Error("Could not find Vuetify display injection");const r=we(()=>t.mobile?!0:typeof t.mobileBreakpoint=="number"?n.width.value<t.mobileBreakpoint:t.mobileBreakpoint?n.width.value<n.thresholds.value[t.mobileBreakpoint]:t.mobile===null?n.mobile.value:!1),s=ut(()=>e?{[`${e}--mobile`]:r.value}:{});return{...n,displayClasses:s,mobile:r}}const _T=Symbol.for("vuetify:goto");function yT(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:g0}}function _O(t){return yf(t)??(document.scrollingElement||document.body)}function yf(t){return typeof t=="string"?document.querySelector(t):Iy(t)}function tu(t,e,n){if(typeof t=="number")return e&&n?-t:t;let r=yf(t),s=0;for(;r;)s+=e?r.offsetLeft:r.offsetTop,r=r.offsetParent;return s}function yO(t,e){return{rtl:e.isRtl,options:wt(yT(),t)}}async function bg(t,e,n,r){const s=n?"scrollLeft":"scrollTop",i=wt(r?.options??yT(),e),o=r?.rtl.value,c=(typeof t=="number"?t:yf(t))??0,l=i.container==="parent"&&c instanceof HTMLElement?c.parentElement:_O(i.container),u=Nb()?i.patterns.instant:typeof i.easing=="function"?i.easing:i.patterns[i.easing];if(!u)throw new TypeError(`Easing function "${i.easing}" not found.`);let h;if(typeof c=="number")h=tu(c,n,o);else if(h=tu(c,n,o)-tu(l,n,o),i.layout){const S=window.getComputedStyle(c).getPropertyValue("--v-layout-top");S&&(h-=parseInt(S,10))}h+=i.offset,h=vO(l,h,!!o,!!n);const d=l[s]??0;if(h===d)return Promise.resolve(h);const m=performance.now();return new Promise(g=>requestAnimationFrame(function S(P){const C=(P-m)/i.duration,O=Math.floor(d+(h-d)*u(vh(C,0,1)));if(l[s]=O,C>=1&&Math.abs(O-l[s])<10)return g(h);if(C>2)return g(l[s]);requestAnimationFrame(S)}))}function DV(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=We(_T),{isRtl:n}=xy();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const r={...e,rtl:ut(()=>e.rtl.value||n.value)};async function s(i,o){return bg(i,wt(t,o),!1,r)}return s.horizontal=async(i,o)=>bg(i,wt(t,o),!0,r),s}function vO(t,e,n,r){const{scrollWidth:s,scrollHeight:i}=t,[o,c]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let l,u;return r?n?(l=-(s-o),u=0):(l=0,u=s-o):(l=0,u=i+-c),vh(e,l,u)}const vT={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",tableGroupCollapse:"mdi-chevron-down",tableGroupExpand:"mdi-chevron-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette",command:"mdi-apple-keyboard-command",ctrl:"mdi-apple-keyboard-control",space:"mdi-keyboard-space",shift:"mdi-apple-keyboard-shift",alt:"mdi-apple-keyboard-option",enter:"mdi-keyboard-return",arrowup:"mdi-arrow-up",arrowdown:"mdi-arrow-down",arrowleft:"mdi-arrow-left",arrowright:"mdi-arrow-right",backspace:"mdi-backspace",play:"mdi-play",pause:"mdi-pause",fullscreen:"mdi-fullscreen",fullscreenExit:"mdi-fullscreen-exit",volumeHigh:"mdi-volume-high",volumeMedium:"mdi-volume-medium",volumeLow:"mdi-volume-low",volumeOff:"mdi-volume-variant-off"},ET={component:t=>Dc(wT,{...t,class:"mdi"})},EO=[String,Function,Object,Array],Qu=Symbol.for("vuetify:icons"),ol=Mr({icon:{type:EO},tag:{type:[String,Object,Function],required:!0}},"icon"),Rg=Dy()({name:"VComponentIcon",props:ol(),setup(t,e){let{slots:n}=e;return()=>{const r=t.icon;return Ye(t.tag,null,{default:()=>[t.icon?Ye(r,null,null):n.default?.()]})}}}),TT=Co({name:"VSvgIcon",inheritAttrs:!1,props:ol(),setup(t,e){let{attrs:n}=e;return()=>Ye(t.tag,q_(n,{style:null}),{default:()=>[gr("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(r=>Array.isArray(r)?gr("path",{d:r[0],"fill-opacity":r[1]},null):gr("path",{d:r},null)):gr("path",{d:t.icon},null)])]})}});Co({name:"VLigatureIcon",props:ol(),setup(t){return()=>Ye(t.tag,null,{default:()=>[t.icon]})}});const wT=Co({name:"VClassIcon",props:ol(),setup(t){return()=>Ye(t.tag,{class:bo(t.icon)},null)}});function TO(){return{svg:{component:TT},class:{component:wT}}}function wO(t){const e=TO(),n=t?.defaultSet??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=ET),wt({defaultSet:n,sets:e,aliases:{...vT,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const kV=t=>{const e=We(Qu);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:we(()=>{const r=Aw(t);if(!r)return{component:Rg};let s=r;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=e.aliases?.[s.slice(1)])),Array.isArray(s))return{component:TT,icon:s};if(typeof s!="string")return{component:Rg,icon:s};const i=Object.keys(e.sets).find(l=>typeof s=="string"&&s.startsWith(`${l}:`)),o=i?s.slice(i.length+1):s;return{component:e.sets[i??e.defaultSet].component,icon:o}})}};function IT(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,r=wt(e,n),{aliases:s={},components:i={},directives:o={}}=r,c=eo();return c.run(()=>{const l=d0(r.defaults),u=gO(r.display,r.ssr),h=F0(r.theme),d=wO(r.icons),m=S0(r.locale),g=dO(r.date,m),S=yO(r.goTo,m);function P(C){for(const x in o)C.directive(x,o[x]);for(const x in i)C.component(x,i[x]);for(const x in s)C.component(x,Co({...s[x],name:x,aliasName:s[x].name}));const O=eo();if(O.run(()=>{h.install(C)}),C.onUnmount(()=>O.stop()),C.provide(Ks,l),C.provide(Ku,u),C.provide(uo,h),C.provide(Qu,d),C.provide(Ha,m),C.provide(fO,g.options),C.provide(Eg,g.instance),C.provide(_T,S),kt&&r.ssr)if(C.$nuxt)C.$nuxt.hook("app:suspense:resolve",()=>{u.update()});else{const{mount:x}=C;C.mount=function(){const B=x(...arguments);return Tc(()=>u.update()),C.mount=x,B}}C.mixin({computed:{$vuetify(){return Ot({defaults:Cs.call(this,Ks),display:Cs.call(this,Ku),theme:Cs.call(this,uo),icons:Cs.call(this,Qu),locale:Cs.call(this,Ha),date:Cs.call(this,Eg)})}}})}function k(){c.stop()}return{install:P,unmount:k,defaults:l,display:u,theme:h,icons:d,locale:m,date:g,goTo:S}})}const IO="3.10.11";IT.version=IO;function Cs(t){const e=this.$,n=e.parent?.provides??e.vnode.appContext?.provides;if(n&&t in n)return n[t]}const AO={dark:!1,colors:{background:"#F3E5F5",surface:"#FFFFFF",primary:"#5E35B1","primary-darken-1":"#45278F",secondary:"#7E57C2",accent:"#00BFA5",error:"#E53935",info:"#29B6F6",success:"#26A69A",warning:"#FFC107"}},bO={dark:!0,colors:{background:"#121212",surface:"#1E1B2E",primary:"#B39DDB",secondary:"#9575CD",accent:"#26A69A",error:"#EF5350",info:"#4FC3F7",success:"#81C784",warning:"#FFD54F"}},RO=IT({theme:{defaultTheme:"skewPlayTheme",themes:{skewPlayTheme:AO,skewPlayDarkTheme:bO}},icons:{defaultSet:"mdi",aliases:vT,sets:{mdi:ET}}}),al=pA(j0),SO=_A();al.use(SO);al.use(RO);const CO=fT();CO.init();al.use(dT);al.mount("#app");export{yV as $,D0 as A,ra as B,vh as C,Jt as D,fh as E,bc as F,I0 as G,ut as H,w0 as I,gV as J,q_ as K,pV as L,Rc as M,Ay as N,y0 as O,T0 as P,v0 as Q,Ab as R,mV as S,QO as T,yc as U,PV as V,Da as W,MO as X,Bt as Y,CV as Z,Tc as _,Ye as a,Co as a$,OO as a0,yy as a1,kO as a2,Ot as a3,IA as a4,AV as a5,Mi as a6,pa as a7,Xk as a8,bV as a9,aV as aA,$b as aB,WO as aC,JO as aD,Nb as aE,dV as aF,hV as aG,fV as aH,YO as aI,eo as aJ,rV as aK,jb as aL,Te as aM,DO as aN,LO as aO,v_ as aP,Fb as aQ,Bb as aR,Ub as aS,sV as aT,lh as aU,ZO as aV,h0 as aW,Bw as aX,Vb as aY,Rr as aZ,DV as a_,fg as aa,EV as ab,TV as ac,IV as ad,wV as ae,RV as af,EO as ag,GO as ah,PO as ai,UO as aj,tV as ak,Dc as al,SV as am,Ao as an,_V as ao,Fw as ap,Bn as aq,We as ar,zO as as,nV as at,KO as au,HO as av,kt as aw,Qn as ax,Aw as ay,iV as az,gr as b,Db as b0,oV as b1,FO as b2,Gt as b3,XO as b4,qe as b5,n0 as b6,lV as b7,Ln as b8,u0 as b9,T_ as ba,Di as bb,e_ as bc,kV as bd,Lb as be,Cc as bf,jO as bg,NO as bh,eV as bi,qO as bj,cV as bk,VO as c,RI as d,wc as e,$O as f,j_ as g,xO as h,BO as i,jt as j,Dy as k,_0 as l,bo as m,_c as n,B_ as o,Mr as p,Pb as q,tn as r,U0 as s,rw as t,fT as u,xy as v,a_ as w,Xt as x,we as y,uV as z};

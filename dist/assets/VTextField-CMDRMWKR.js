import{u as le,V as D,a as B,f as ne,b as ae,m as ue,c as oe}from"./VInput-DG5Lkxtm.js";import{p as E,z as se,H as ie,s as y,n as re,q as ce,J as g,r as C,v as de,A as fe,a as F,y as P,b as a,F as b,x as ve,aF as me,aP as xe,C as ge,a2 as k,aa as Ve}from"./index-B1dst585.js";import{Z as M}from"./VContainer-ZakoJpiD.js";const he=E({autocomplete:String},"autocomplete");function ye(e){const i=se(),o=ie(0),s=y(()=>e.autocomplete==="suppress"),n=y(()=>s.value?`${e.name}-${i}-${o.value}`:e.name),u=y(()=>s.value?"off":e.autocomplete);return{isSuppressing:s,fieldAutocomplete:u,fieldName:n,update:()=>o.value=new Date().getTime()}}function Ce(e){function i(o,s){!e.autofocus||!o||s[0].target?.focus?.()}return{onIntersect:i}}const Fe=["color","file","time","date","datetime-local","week","month"],Pe=E({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...he(),...ue(),...ae()},"VTextField"),_e=re()({name:"VTextField",directives:{vIntersect:M},inheritAttrs:!1,props:Pe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,i){let{attrs:o,emit:s,slots:n}=i;const u=ce(e,"modelValue"),{isFocused:r,focus:S,blur:z}=le(e),{onIntersect:$}=Ce(e),q=g(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),O=g(()=>{if(o.maxlength)return o.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),_=g(()=>["plain","underlined"].includes(e.variant)),A=C(),I=C(),c=C(),m=ye(e),U=g(()=>Fe.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function p(){m.isSuppressing.value&&m.update(),r.value||S(),k(()=>{c.value!==document.activeElement&&c.value?.focus()})}function j(t){s("mousedown:control",t),t.target!==c.value&&(p(),t.preventDefault())}function H(t){s("click:control",t)}function J(t,l){t.stopPropagation(),p(),k(()=>{l(),Ve(e["onClick:clear"],t)})}function Z(t){const l=t.target;if(!(e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type))){u.value=l.value;return}const d=l.value,x=l.selectionStart,V=l.selectionEnd;u.value=d,k(()=>{let f=0;d.trimStart().length===l.value.length&&(f=d.length-l.value.length),x!=null&&(l.selectionStart=x-f),V!=null&&(l.selectionEnd=V-f)})}return de(()=>{const t=!!(n.counter||e.counter!==!1&&e.counter!=null),l=!!(t||n.details),[d,x]=fe(o),{modelValue:V,...f}=D.filterProps(e),G=B.filterProps(e);return F(D,P({ref:A,modelValue:u.value,"onUpdate:modelValue":v=>u.value=v,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":_.value},e.class],style:e.style},d,f,{centerAffix:!_.value,focused:r.value}),{...n,default:v=>{let{id:K,isDisabled:w,isDirty:R,isReadonly:L,isValid:Q,hasDetails:W,reset:X}=v;return F(B,P({ref:I,onMousedown:j,onClick:H,"onClick:clear":h=>J(h,X),role:e.role},ve(G,["onClick:clear"]),{id:K.value,active:U.value||R.value,dirty:R.value||e.dirty,disabled:w.value,focused:r.value,details:W.value,error:Q.value===!1}),{...n,default:h=>{let{props:{class:N,...Y},controlRef:ee}=h;const T=me(a("input",P({ref:te=>c.value=ee.value=te,value:u.value,onInput:Z,autofocus:e.autofocus,readonly:L.value,disabled:w.value,name:m.fieldName.value,autocomplete:m.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:S,onBlur:z},Y,x),null),[[M,{handler:$},null,{once:!0}]]);return a(b,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[a("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n.default?a("div",{class:ge(N),"data-no-activator":""},[n.default(),T]):xe(T,{class:N}),e.suffix&&a("span",{class:"v-text-field__suffix"},[a("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:l?v=>a(b,null,[n.details?.(v),t&&a(b,null,[a("span",null,null),F(oe,{active:e.persistentCounter||r.value,value:q.value,max:O.value,disabled:e.disabled},n.counter)])]):void 0})}),ne({},A,I,c)}});export{_e as V};
